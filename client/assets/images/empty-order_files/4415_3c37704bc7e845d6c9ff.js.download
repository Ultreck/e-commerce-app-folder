(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4415],{68296:function(e){e.exports={GoodsSkeletonWrapper:"_2AnbUYFa",goodsSkeletonImgContainer:"dZqF7lNq",skeletonImgContainer:"_3y7orhrF",goodsSkeletonName:"_3hSMwzlX",skcSkeleton:"_3akDTDOu",skeletonSaleInfo:"_1CGAocvs",attributesTag:"fG7mbwBM",goodsWrapper:"_3qGJLBpe",noHover:"_2vkNDAyP",showCategoryCard:"_1Sknaf2m",processTag:"_3JReNUVm",qualityTags:"_1iFSq0LZ",hoverThemeDefault:"_2Y2Y4-8H",FadeIn:"_2OfrjQ1m",hoverThemeScale:"_1Vez-CvT",goodsImgContainer:"_3ZME5MBZ",goodsImg:"_3frBeExI",goodsImgWithFullHeight:"_2s7BZSpH",adultGoodsImg:"_1cYF3vLq",masker:"SxTG4gCW",loadingBall:"_3_VTGKJL",ballItem:"_1hJWilk2",ballBreath:"_1Cp_xNhO",watermark:"_3wxZzIxS",noImgContainer:"GjArCfxF",nameAndAvatar:"_1cqTVAmb",flexContainer:"_3I9Bq8Jn",marketPriceAndSales:"_3v-w4JC4",discountPrice:"_3gMYszat",unitPrefix:"_2PjSQh3g",unitSuffix:"_1BtS1q1I",priceText:"_1FVL_pgA",marketPrice:"ByQ8Qwf8",reductionText:"_18LPOke8",saleInfo:"_3tAUu0RX",saleInfoL:"_2LhE_FY3",addCartWrap:"E0Fttf3G",saleInfoR:"_3yljfR3_",noCart:"_3gHjEaRX",item:"_1QhQr8pq",saleText:"_ptMwdD-",saleNum:"_2gZwbw6w",placeHolder:"_3If8lBav",goodsTags:"_34fJf3Yb",tag:"_12VB2h1I",rateContainer:"_29gv-X1e",commentNum:"_17YY_qdj",brandTagIcon:"_3wiTAOyE",brandTags:"a3Tf9Ugm",cardWrap:"_1E-imTLU",cartPlaceholder:"_3N0CoW9J",cartBtn:"_3Bv9Z_5u",bottomTips:"_12KMTh-x",personalizationTag:"R1wqJUNx",img:"_3E7Aro1b",text:"_204ZT3ev",goodsTag:"_2OxUpPfC",billboardTagWrap:"_1_fYX6fD",goodsTagSeat:"qqnOgN3x",multiImgFadeAniEnable:"_1XMvuKgn",secFadeAni:"_3Dm2UKcP",comment:"LvUYwE-z",promotionTagDiscount:"_2HEpdQL7",promotionPrise:"_3qbEjcUq",promotionText:"vwqjovxy",promotionTextScale:"_2xRU1elb",nameWrap:"_1ak1dai3",GrayGoodsName:"_15k-KdgR",GraySmallGoodsName:"_2BkfFjEO",GraySmallThinGoodsName:"_1bVTdz61",payTag:"T7ca4Et2",couponTag:"_202iEXBj",newStyle:"GLHvMp17",goodsImageWrap:"NChdjz2-",centerHorizontally:"_2zkVSDo6",rateAndSaleInfo:"_2aMrMQeS",bookAttributeTag:"_1WTlEMMS",mixBenefitTag:"_1CCAvsJn",fadeOut:"XPFxSYt2"}},45704:function(e){e.exports={title:"_3ZhYwOCn",cardWrap:"_3EGNiotw",autoFitList:"t33rbhT3"}},69864:function(e){e.exports={wrap:"_1x1bqlnD",link:"_2p-vohYD",icon:"_2I8PtBII"}},44898:function(e){e.exports={quickLookAndAttributesTags:"R3Uz1owa",videoIconUrl:"_2_qp-Tih",hasAttribute:"NAP7nRQP",attrs:"_2TJc1kNc"}},17181:function(e){e.exports={titleTagWrap:"_29eI_zBp",titleTag:"_9Y1bI7Z0",top:"_12sFI7Sg"}},15038:function(e){e.exports={arrowWrap:"_3NICOzko",arrowLeft:"_3gSpWoMV",arrowRight:"_3_-t2Pfg",arrow:"_3gsuC-WN",innerArrowLeft:"nlr66LO7",innerArrowRight:"j_n9lucY",hide:"_1JtWlhc-"}},21901:function(e){e.exports={attributesTag:"L_8kC-5K",img:"_35xV3KHh",textListWrap:"_2HVNHFgs",text:"_2kWybxFE",newStyle:"_2_4bq2EH"}},85302:function(e){e.exports={tags:"_1EHdqFnr",item:"_2GBsFdkx"}},9302:function(e){e.exports={capsuleTag:"_3Yr7f6-s",icon:"_36co1QIs",text:"_3O7xOGue"}},48884:function(e){e.exports={ticker:"_1zRwWQWo",time:"oI8HIj2f"}},63438:function(e){e.exports={tag:"_2aarqcED",line:"_1AarnOph",firstText:"WxRH-XLo"}},28606:function(e){e.exports={discountPriceTag:"_3_NY-X75",arrow:"bsd3__U3",tagContent:"_3SGFuFhq",discountContent:"_1OPNIyuO",text:"_1LLbpUTn",countDown:"_15Fo_CJ3",withBgCountDown:"_3kCiPEgw",newStyle:"_2ZHIxYa_",content:"_32_ygAkg",withBorder:"_18e244O3",withBg:"_2cbTYVFQ",singleGoodsCoupon:"_30wBhFpe",textWrap:"rJ2Qpvaa",singleGoodsCoupontext:"_3PbhUZ0V",footerText:"_26hb-X_1",discount:"_3D5QgmfL",icon:"_1gG_P5IR",tagIcon:"_3OrxLdi2",line:"_2QH67KGq"}},59785:function(e){e.exports={container:"_3Mb9aj6f",content:"_3oGH5Tsr",titleWrap:"_2zh72e3J",title:"_1AJtfW8b",arrowRight:"yP-SGjHt",close:"_2m0uozUA",closeIcon:"_1vDuYGfU",listWrap:"_1C9Gkjs9",lineWrap:"_2XhrPL-E",item:"_1aKfWAH9",goodsImgContainer:"HmGjapYu",goodsImg:"_22ha3SAY",tagWrap:"uxSEOeHn",priceTag:"_39FZ6VoU",price:"OvMJ6hA1"}},82744:function(e){e.exports={container:"plsP29g-",img:"_2heWRseT",header:"_2EviIf8K",commonStyle:"_3oNdYuZR",footer:"GUDfzQZ8",arrowRight:"u01H09Xi",enhanceTag:"_3TbT0BMX",tag:"n7AuqfCR",newStyle:"_1nlfDY9N",text:"mKJaxtWR"}},49711:function(e){e.exports={wrap:"_1PZ4HK6Z",tagImg:"_1aYqipNW",tagText:"_3BWZGY0Y"}},76422:function(e){e.exports={brandTags:"_1zhndvJX",brandText:"_23AyAhJR",brandTagIcon:"_306LvjEY",newStyle:"_2r8xgLgK",mallTag:"_3GHM6Hi8"}},96833:function(e){e.exports={wrap:"_1O0F0hOU",close:"gdwQ03Jk",closeIcon:"xuD6DVFv",img:"_3KnE9TDj",goodsInfo:"j5SBEYn0",goodsName:"_1qvMXwsH",goodsDesc:"_2KOekzcN",strategy:"PAoxsSlj",arrow:"_2hwBw6ni",enhanceLayer:"_28ExM6Sf",imgWrap:"qfUg-ley",imgTag:"F4k3k3Ud",tag:"_1zMYm4pA"}},25344:function(e){e.exports={container:"_JnuTL4A",content:"_1_9_aspn",avatarImage:"_2TpZEjGH",avatar:"_2bwZSiS3"}},53898:function(e){e.exports={defaultContainer:"Ois68FAW",inner:"_1UrrHYym",expandContent:"HwFz3_IB",expandContainer:"_3WLGqY50",noHover:"Ww9SMgRG",showExpandAni:"_3rCjmUGk",showBoxShadow:"_5j3FB920"}},33839:function(e){e.exports={container:"_2CDYTFy2",marketPrice:"_39BNI1lc",discount:"_3Z4eZeyZ"}},32464:function(e){e.exports={wrap:"fpp_DpAU",processWrap:"tJE0LSeo",withCart:"_1ZM0FjpQ",process:"_3wh-lr2G",textLine:"_2KXn4dYK",fireIcon:"_3em-XGIK",txt:"_1CIif-sP"}},56824:function(e){e.exports={container:"_2gH3a41X",content:"_1UKPqtmS",titleWrap:"_3fkEut1x",title:"_3L-8vWde",arrowRight:"_2oa5Hgis",close:"_4S8QnO1j",closeIcon:"_2HWuJ9lX",listWrap:"_3_4H_7tT",list:"_3xlKnd3F",items:"_22IoxbGP",item:"_16olqHK4",goodsImgContainer:"_3dP96qoH",goodsImg:"_3JTinA_9",goodsPriceWrap:"aA7JZlgF",goodsPrice:"_2Qb__tc4",price:"_1j8G0ChX",pricePrefix:"JM_PfXdX",priceSuffix:"_1RHG60TC",isSmall:"_2noshHMi",viewMoreWrap:"_2wVqF2vG",viewMoreTextWrap:"_2uD_fiFv",viewMoreLogo:"TbMJXDVX",viewMoreText:"_3ujKHAT9",arrowCls:"_3WcA29E9",enhanceLayer:"kKznQArS"}},86635:function(e){e.exports={overlay:"_3gjkJeba",popover:"_1z1Zo02j",icon:"_1Ab3amio"}},21092:function(e){e.exports={goodsTags:"dMAo2Nzy",goodsTagsWithImg:"Fqp_FGPf",processTag:"_1okHQuQ-",minWidth:"_1l6411l7",imgWrap:"_2hstHgnw",imgBorder:"YKVKyRyp",img:"_3nZpciWc",noRadius:"RRLX-_EO",tag:"_3GhgeHCP",imgTag:"_2h8Ne7BR",small:"_1UjGccS2",discountTag:"_1fHDHyj7",billboardTagWrap:"_24ppIxMM",goodsScore:"H_4H5HZp",useSmall:"_1p2IgoJL",imgWithText:"_1e7CfchD",newStyleWrap:"_2wJUAk37",newStyle:"_258E5i0-",cheapTag:"_2TpD0GbS",tagContent:"_2wqLKvyh",tagText:"_1FxJ41PO"}},76690:function(e){e.exports={video:"_10vCku8m",videoPlay:"_1SU75IV-"}},63604:function(e){e.exports={mallTagsWrap:"_3UD214NZ",item:"_2x-QUGJA",itemWrap:"_2-CiBoR0",newItem:"_2F2DaRsu",text:"_1_Gt2q_G",icon:"_2BVIJlYU",suffixLogo:"_1aNxVf6m",noShrink:"xN-3qC1S",list:"TBZvIKWH",line:"bMoLUAkb"}},95607:function(e){e.exports={payTagWrap:"_2iONhc9l",text:"mQK0O5yu",imgWrap:"AJl9Ukpl",img:"IOZ8WgGF"}},24777:function(e){e.exports={wrap:"g2jnqrKf",proccessBar:"_2bTM_v5J",bar:"wN5TIJxU",icon:"_1AVupOEN",countDown:"_1TfF7wZ5",percentText:"_2A_yzca-",endText:"_1rKHXVPT"}},39731:function(e){e.exports={skcWrapper:"_1hAwihzw",skcListWrapper:"_3EI71lko",bubbleWrap:"_3ufnnBRC",skcItemWrapper:"vZ2To0du",bubbleArrowWrap:"_3vVUT1id",bubbleArrow:"_3lRpusrh",active:"_18D_6pDv",skcWrapper8:"_2a2ao6Wh",skcImg:"_1LqbfJja",skcNumWrap:"wT55ygXC",skuNumBlank:"_3Tl6N6PN",skuNumMain:"_1-JsFzLQ",skcNum:"_6WeZjs0X",skcWrapperLess8:"_22nMT5cX"}},89553:function(e){e.exports={headTagWrap:"_2RC6dVF0"}},12957:function(e){e.exports={localTag:"_1O9WmJi_",hasBg:"_2goKs_0n",icon:"_3O98knlk",text:"C9HMW0KN"}},63427:function(e){e.exports={container:"_1DcgMN1D",content:"_3bwkYEEZ",header:"_26W2DxeF",singleLine:"_1Z4NlmJQ",footer:"_31PSsGSB",footerText:"_1moH5HOP",countDown:"StnClxB-",double:"_23WVWxCk",isCenter:"_3xp36XWR",promotionStyle1:"_1AswManQ",showFlashSeparator:"_1dzWDRSa",flashClockImg:"QORmxu8I",image:"Kebjw7L0",sixCard:"_1Xd6bwId",isCountDownDays:"_2UtlXmKL",isMore:"_1I2qahnS",flashLine:"_39Bf9v43"}},73898:function(e,t,n){"use strict";n.d(t,{A:function(){return Wr}});n(79432),n(52675),n(83851),n(23500),n(81278),n(67945),n(84185);var r=n(14242),a=n(74533),o=n(6356),i=n(61877),l=n(56687),c=n(11286),s=n.n(c),u=(n(62062),n(27495),n(90906),n(2008),n(26099),n(74423),n(21699),n(25276),n(44114),n(33110),n(33514)),d=n(32485),m=n.n(d),p=n(24808),f=n(56733),v=n(44798),g=n(32470),h=n(83836),b=n(13852),y=n(14511),_=n(97582),w=n(50579),T=n(99625),E=n(86610),S=["rootMargin","rootRef","children"];function k(e){var t=e.rootMargin,n=e.rootRef,a=e.children,i=(0,l.A)(e,S),c=(0,u.useState)(null),s=(0,o.A)(c,2),d=s[0],m=s[1],p=void 0===n,f=p?(0,u.useRef)(null):n;(0,u.useEffect)((function(){var e={thresholds:t};f&&(e.container=f.current);var n=new T.A(e);return m(n),function(){return n.destroy()}}),[]);var v=(0,u.useMemo)((function(){return{lazyLoader:d}}),[d]);return u.createElement(E.A.Provider,{value:v},p?u.createElement("div",(0,r.A)({ref:f},i),a):a)}k.defaultProps={rootMargin:"300px",thresholds:"300px"};var x=n(99117),I=n(50063),C=n(96704),N=n(50453),A=n(46694),P=n(64423),O=n(13836),L=n(3652),W=n(50878),D=n(73035),M=n(9687),j=(n(28706),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=null;return function(){for(var r=this,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];n&&clearTimeout(n),n=setTimeout((function(){e.apply(r,o),n=null}),t)}}),R=n(43788),G=n(44398),z=(n(50113),n(34477)),B=n(1100),U=n(21901),F=n.n(U),H=function(e){var t=e.children,n=e.style,r=void 0===n?{}:n,a=e.className,o=void 0===a?"":a;return u.createElement("div",{className:m()(F().attributesTag,o),style:r},t)},q=function(e){var t=e.tags,n=e.grayConfig,r=e.localInfo,a=(null==n?void 0:n.cp85771)||{},o=a.value,i=a.supportRegion,l=void 0===i?[]:i,c=o&&(null==l?void 0:l.includes(+r.region)),s=null==t?void 0:t.find((function(e){return(null==e?void 0:e.tagId)===B.th.LocalWareHouse})),u=(null==t?void 0:t.map((function(e){return null==e?void 0:e.text})))||[];return{needCarousel:c&&!!s&&(null==u?void 0:u.length)>=2,textList:u}},Y=(0,y.Xc)((function(e){var t=e.tags,n=void 0===t?[]:t,r=e.className,a=void 0===r?"":r,l=e.lazy,c=e.grayConfig,s=e.goodsId,d=e.textClassName,p=(0,A.Sz)(),f=p.supportWebp,v=p.localInfo,g=(null==n?void 0:n[0])||{},h=g.text,b=g.color,y=g.url,_=g.tagId,T=g.backColor,E=(0,u.useRef)(null),S=(0,u.useRef)(null),k=(0,u.useState)({}),x=(0,o.A)(k,2),I=x[0],C=x[1],N=(0,u.useState)(!1),P=(0,o.A)(N,2),O=P[0],L=P[1],W=null==n?void 0:n.find((function(e){return(null==e?void 0:e.tagId)===B.th.LocalWareHouse})),D=y,M=b,j=q({tags:n,grayConfig:c,localInfo:v}),R=j.needCarousel,G=j.textList;if(R){var U=W||{};D=U.url,M=U.color}var Y=function(e){var t=e.num,n=e.needCarousel,r=e.containerClassName,a=e.goodsId,i=e.listRef,l=e.perHeight,c=(0,u.useState)(""),s=(0,o.A)(c,2),d=s[0],m=s[1];return(0,u.useEffect)((function(){var e;if(n){var o=(null==i||null===(e=i.current)||void 0===e?void 0:e.childNodes)||[],c=[];(null==o?void 0:o.length)&&Array.prototype.forEach.call(o,(function(e){c.push(null!=e&&e.offsetWidth?(null==e?void 0:e.offsetWidth)+1:"")})),function(){for(var e=3*t,n=100/t,o=2.7/e*100,i="loop-".concat(a),s="@keyframes ".concat(i," {\n"),u=0;u<t;){var d=u*n,p=u*n+o,f=c[u],v="width: ".concat(f?"".concat(f,"px"):"auto",";");s=s+"".concat(d,"% { transform: translateY(-").concat(u*l,"px); ").concat(v," }\n")+"".concat(p,"% { transform: translateY(-").concat(u*l,"px); ").concat(v," }\n"),u++}var g=c[0],h="width: ".concat(g?"".concat(g,"px"):"auto",";");s+="100% { transform: translateY(-".concat(t*l,"px); ").concat(h," }");var b=".".concat(r," {\n            animation: ").concat(i," ").concat(e,"s ease-out infinite;\n            }");m(b+s)}()}}),[r,a,i,n,t,l]),d}({needCarousel:R,num:null==G?void 0:G.length,containerClassName:"textList-".concat(s),goodsId:s,perHeight:25,listRef:S});return(0,u.useEffect)((function(){var e={};try{if(!E.current)return void L(!0);if(!S.current||!R){var t=E.current.offsetWidth/E.current.scrollWidth,n=Math.max(t,10/13),r=Math.floor(13*n),a=E.current.dataset.tagId;return e[a]={fontSize:"".concat(r,"px")},C(e),void L(!0)}var o=S.current.querySelectorAll(".tagText");Array.prototype.forEach.call(o,(function(t){return function(t){var n=t.offsetWidth,r=t.scrollWidth,a=t.dataset.tagId;if(!(r<=n)){var o=n/r,i=Math.max(o,10/13),l=Math.floor(13*i);e[a]={fontSize:"".concat(l,"px")}}}(t)})),C(e),L(!0)}catch(e){(0,z.fL)(e)}}),[R,13]),h?u.createElement(H,{className:m()(a,(0,i.A)({},F().newStyle,!0)),style:{color:M,opacity:O?1:0,background:T}},!!Y&&u.createElement("style",null,Y),!!D&&u.createElement(w.Ay,{lazy:l,src:D,className:F().img,"aria-hidden":!0,processParam:{webpEnable:f},alt:""}),R?u.createElement("div",{className:F().textListWrap},u.createElement("div",{className:"textList-".concat(s),ref:S},null==n?void 0:n.map((function(e){var t=e||{},n=t.text,r=t.tagId;return u.createElement("span",{className:m()(F().text,"tagText",d),"data-tag-id":r,style:I[r]},n)})),u.createElement("span",{className:m()(F().text,F().limitWidth,d),ref:E,style:I[_]},h))):u.createElement("span",{className:m()(F().text,d),"data-tag-id":_,style:I[_],ref:E},h)):null})),J=(0,u.memo)(Y),V=n(9302),X=n.n(V);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=(0,y.Xc)((0,u.memo)((function(e){var t=e.data,n=e.className,r=e.style,a=(null==t?void 0:t[0])||{},o=a.text,i=a.iconImg,l=a.backColor,c=a.color;return o?u.createElement("div",{className:m()(X().capsuleTag,n),style:Q({background:l,color:c},r||{})},!!i&&u.createElement(w.Ay,{src:i,className:X().icon}),u.createElement("span",{className:X().text},o)):null}))),$=(0,u.memo)((function(e){var t=e.children,n=e.className;return u.createElement("div",{className:n},t)})),ee=n(44898),te=n.n(ee);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=(0,y.Xc)((0,u.memo)((function(e){var t,n,a,l,c,s,d=e.imageLazy,p=e.data,f=e.imageProcessParam,v=e.onMouseDownCart,g=e.onQuickLookClick,h=e.addCartTrackingInfo,b=e.classConfig,T=e.grayConfig,E=(0,u.useRef)(null),S=(0,u.useRef)(null),k=(0,u.useState)(),x=(0,o.A)(k,2),I=x[0],C=x[1],N=(0,_.B)("bec-fe.bui-web-goods-list").t,P=p.goodsInfo,O=p.quickLook,L=P||{},W=L.tagsInfo,D=L.quickLook,M=L.video,z=L.goodsId,B=L.title,U=L.pageAlt,F=M||{},H=F.videoUrl,q=F.iconUrl,Y=W||{},V=Y.goodsAttributesTags,X=Y.capsuleTags,K=(0,A.Sz)().isCrawler,Q=re(re({open:!0},D||{}),O||{}),ee=!(null==V||null===(t=V[0])||void 0===t||!t.text),ne=!!H&&!!q,ae=(null==Q?void 0:Q.open)&&!K&&!ne,oe=ne||ae||!(null==V||null===(n=V[0])||void 0===n||!n.text)||(null==X||null===(a=X[0])||void 0===a?void 0:a.text),ie=null==T||null===(l=T.cp116861)||void 0===l?void 0:l.value;if((0,u.useEffect)((function(){var e,t=function(){if(E.current&&S.current){var e=2*(E.current.offsetWidth/2-S.current.offsetWidth-6);C(e<46?{opacity:0}:{maxWidth:e})}};if(null!=X&&null!==(e=X[0])&&void 0!==e&&e.text){t();var n=j(t,100);return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}}),[X]),!oe)return null;var le=ee||ne,ce=ie?$:R.FT;return u.createElement("div",{className:te().quickLookAndAttributesTags},!!ae&&u.createElement(ce,{className:"quickLook",id:"QuickLook-".concat(z),title:"".concat((null==Q||null===(c=Q.text)||void 0===c?void 0:c.text)||N("quickLookBtn")||""," - ").concat(B||"")},u.createElement(G.A,(0,r.A)({onMouseDown:v},Q,{addCart:g,trackingInfo:h,classConfig:null==b?void 0:b.quickLook}))),u.createElement("div",{className:"hoverHidden",ref:E},!!le&&u.createElement("div",{className:te().attrs,ref:S},ee?u.createElement(y.tH,null,u.createElement(J,{className:"attributesWrap",tags:V,lazy:d,grayConfig:T,goodsId:z})):ne&&u.createElement(w.Ay,{lazy:d,src:q,className:m()(te().videoIconUrl,(0,i.A)({},te().hasAttribute,ee)),"aria-hidden":!0,alt:U||B,processParam:f})),!(null==X||null===(s=X[0])||void 0===s||!s.text)&&u.createElement(Z,{data:X,style:I})))}))),oe=n(89553),ie=n.n(oe),le=function(e){var t=e.className,n=e.data,r=((null==n?void 0:n.extMap)||{}).discountPromotionTag,a=("string"==typeof r?(0,g.NS)(r,{}):r)||{},o=a.text_color,i=a.bg_url,l=a.height,c=a.text,s=a.text_dx,d=a.width;return i&&l&&d?u.createElement("div",{style:{width:d,height:l,lineHeight:"".concat(l,"px"),backgroundImage:"url(".concat(i,")"),color:o,paddingInlineStart:s},className:m()(ie().headTagWrap,t)},c):null},ce=n(12957),se=n.n(ce),ue=(0,u.memo)((function(e){var t=e.data,n=e.className,r=(e.lazy,t||{}),a=r.text,o=r.color,l=r.backColor;return a?u.createElement("div",{style:{color:o,background:l},className:m()(se().localTag,n,(0,i.A)({},se().hasBg,!!l))},u.createElement("span",{className:se().text},a)):null})),de=n(63438),me=n.n(de),pe={1:"normal",2:"500",3:"700",4:"400"},fe=(0,u.memo)((function(e){var t,n=e.data,r=e.className,a=(n||{}).extMap;if(null==a||!a.activityDiscountWatermark)return null;try{t=JSON.parse(null==a?void 0:a.activityDiscountWatermark)}catch(e){}var o=t||{},i=o.first_part_text,l=o.second_part_text,c=o.text_color,s=o.bg_color,d=o.first_part_text_font_style,p=o.second_part_text_font_style;if(!i&&!l)return null;var f=i&&l;return u.createElement("div",{style:{color:c,background:s},className:m()(me().tag,r)},!!i&&u.createElement("span",{className:me().firstText,style:{fontWeight:pe[d]}},i),!!f&&u.createElement("div",{className:me().line}),!!l&&u.createElement("span",{style:{fontWeight:pe[p]}},l))})),ve=n(17181),ge=n.n(ve),he=(0,u.memo)((function(e){var t,n=e.titleHeaderTags,r=e.className,a=e.lazy;if(null==n||!n.length)return null;var o=!(null==n||null===(t=n.find((function(e){return(null==e?void 0:e.marketingTagType)===B.QT.localWareHouseTag})))||void 0===t||!t.backColor);return u.createElement("div",{className:m()(ge().titleTagWrap,(0,i.A)({},ge().top,o),r)},null==n?void 0:n.map((function(e,t){var n=(e||{}).marketingTagType;return n===B.QT.titleHeaderPromotionTag?u.createElement(le,{data:e,className:ge().titleTag,key:"".concat(t,"-").concat(n)}):n===B.QT.localWareHouseTag?u.createElement(ue,{data:e,className:ge().titleTag,lazy:!!a,key:"".concat(t,"-").concat(n)}):n===B.QT.discountTag?u.createElement(fe,{data:e,className:ge().titleTag,key:"".concat(t,"-").concat(n)}):void 0})))})),be=n(18884),ye=function(e){var t=e.data,n=e.className,r=(t||{}).tagRichText;return r?u.createElement(be.l5,{newRichText:r,style:{textAlign:"left"},className:n}):null},_e=n(27092),we=n(20339),Te=n(91523),Ee=n(69864),Se=n.n(Ee),ke=(0,y.Xc)((function(e){var t=e.data,n=e.className,r=(null==t?void 0:t[0])||{},a=r.text,o=r.url;return a?u.createElement(Te.A,{className:m()(Se().wrap,n,(0,i.A)({},Se().link,!!o)),gap:24},u.createElement("span",{onClick:function(e){var t,n;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),null==e||null===(n=e.stopPropagation)||void 0===n||n.call(e),o&&(0,we.D1)((0,we.LV)(o))}},a),!!o&&u.createElement(_e.A,{className:Se().icon})):null})),xe=(0,u.memo)(ke),Ie=n(8351),Ce=n(97958),Ne=n(82256),Ae=n(53075),Pe=n(36002),Oe=n(53579),Le=n(44724),We=n(79085),De=n(11423);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re=function(e){return e.SIMILAR="sku_close_similar",e.BOUGHT_TOGETHER="mall_bought_together",e.BOUGHT_TOGETHER_LANDING="mall_bought_together_landing",e.RECOMMEND_WORDS_SKU_CLOSE="sku_close_recommend_words",e.RECOMMEND_WORDS_GT_RETURN="gd_return_recommend_words",e.ADD_CART_SUCCESS_RELEATED="shopping_cart_add_show_floating_layer",e}({}),Ge={goodsList:[],hasMore:!0},ze={goodsList:[],hasMore:!1};var Be=function(e){var t=e.personalizationTagRef,n=e.efficiencyTagWidth,r=(0,u.useState)(!n),a=(0,o.A)(r,2),i=a[0],l=a[1];return(0,u.useEffect)((function(){var e,r;if(t.current&&n){var a=(null!==(e=null===(r=t.current.parentNode)||void 0===r?void 0:r.clientWidth)&&void 0!==e?e:0)-10,o=t.current.offsetWidth;l(!(o+n>a))}}),[n,t]),{showPersonalization:i}},Ue=n(99333),Fe=n(36138),He=n(89240),qe=n(64585),Ye=n(39878),Je=(n(34782),n(91793)),Ve=n(52422),Xe=n(54930),Ke=function(e,t){var n,a=(0,A.Sz)()||{},o=(0,_.B)("bec-fe.svg-icons-h5"),i=o.t,l=o.i18n,c="M512 0c282.8 0 512 229.2 512 512 0 282.8-229.2 512-512 512-282.8 0-512-229.2-512-512 0-282.8 229.2-512 512-512z m0 40.1c-260.6 0-471.9 211.3-471.9 471.9 0 260.6 211.3 471.9 471.9 471.9 260.6 0 471.9-211.3 471.9-471.9 0-260.6-211.3-471.9-471.9-471.9z m-37.9 303.6l2.7 2.4 144.6 150.6c7.2 7.5 8 18.8 2.4 27.2l-2.4 3-144.6 151c-8.3 8.7-22.1 9-30.8 0.7-7.8-7.5-8.9-19.4-2.9-28.1l2.2-2.7 130.1-135.9-130.1-135.7c-8.3-8.7-8.1-22.5 0.6-30.8 7.8-7.5 19.8-8 28.2-1.7z",s="M512 0c-282.8 0-512 229.2-512 512 0 282.8 229.2 512 512 512 282.8 0 512-229.2 512-512 0-282.8-229.2-512-512-512z m0 40.1c260.6 0 471.9 211.3 471.9 471.9 0 260.6-211.3 471.9-471.9 471.9-260.6 0-471.9-211.3-471.9-471.9 0-260.6 211.3-471.9 471.9-471.9z m37.9 303.6l-2.7 2.4-144.6 150.6c-7.2 7.5-8 18.8-2.4 27.2l2.4 3 144.6 151c8.3 8.7 22.1 9 30.8 0.7 7.8-7.5 8.9-19.4 2.9-28.1l-2.2-2.7-130.1-135.9 130.1-135.7c8.3-8.7 8.1-22.5-0.6-30.8-7.8-7.5-19.8-8-28.2-1.7z",d=(0,u.useMemo)((function(){var e,t,n;return("boolean"==typeof a.isRTL?a.isRTL:"rtl"===(null===(e=document)||void 0===e||null===(t=e.documentElement)||void 0===t||null===(n=t.getAttribute)||void 0===n?void 0:n.call(t,"dir")))?s:c}),[a.isRTL,s,c]);return u.createElement(Xe.A,(0,r.A)({},e,{"aria-label":null!==(n=e["aria-label"])&&void 0!==n?n:l.exists("aria-label.TongyongChakansuoyou",{ns:"bec-fe.svg-icons-h5"})?i("aria-label.TongyongChakansuoyou"):void 0,ref:t,path:d}))},Qe=u.forwardRef(Ke),Ze=n(32389),$e=n(7350),et=n.n($e),tt=n(8508),nt=n(15038),rt=n.n(nt);var at=function(e){var t=e.column,n=e.len,r=e.renderCustomPageTurner,a=e.classConfig,l=(0,A.Sz)().isRTL,c=(0,u.useRef)(null),s=(0,u.useState)(1),d=(0,o.A)(s,2),p=d[0],f=d[1],v=(0,u.useState)([]),g=(0,o.A)(v,2),h=g[0],b=g[1],y=l?1:-1,_=p-1,w=(0,u.useMemo)((function(){return _+t>=n?{transform:"translate3d(".concat((h[n-1]||0)*y,"px, 0px, 0px)")}:{transform:"translate3d(".concat((h[_]||0)*y,"px, 0px, 0px)")}}),[_,h]),T=(0,u.useCallback)((function(){f(1)}),[]),E=(0,u.useCallback)(et()((function(){var e=[],t=c.current;if(!t)return b([]);for(var n=t.children,r=t.getBoundingClientRect()||{},a=l?r.right:r.left,o=t.scrollWidth-t.clientWidth,i=0;i<n.length;i++){var s=n[i].getBoundingClientRect()||{};e.push(Math.min(Math.abs((l?s.right:s.left)-a),o))}return b(e)}),30),[]);(0,u.useEffect)((function(){if(c.current)return E(),window.addEventListener("resize",E),function(){window.removeEventListener("resize",E)}}),[]);var S=function(e,r){if(null==r||r.stopPropagation(),null==r||r.preventDefault(),c.current){var a="next"===e?p+t:p-t,o=Math.min(Math.max(a,1),n-t+1);E(),f(o)}};return{slidesRef:c,listStyle:w,renderPageTurner:function(){return n<=t?null:r?r({cardNo:p,onArrowClick:S,column:t,len:n}):u.createElement(u.Fragment,null,u.createElement("div",{className:m()(rt().arrowWrap,rt().arrowLeft,null==a?void 0:a.arrowCls)},u.createElement("div",{className:m()(rt().arrow,(0,i.A)({},rt().hide,0===_)),onClick:function(e){return S("prev",e)}},u.createElement(tt.A,{className:rt().innerArrowLeft}))),u.createElement("div",{className:m()(rt().arrowWrap,rt().arrowRight,null==a?void 0:a.arrowCls)},u.createElement("div",{className:m()(rt().arrow,(0,i.A)({},rt().hide,_+t>=n)),onClick:function(e){return S("next",e)}},u.createElement(Je.A,{className:rt().innerArrowRight}))))},onArrowClick:S,resetCardNo:T}},ot=n(80408),it=n(56824),lt=n.n(it);function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut=function(e){var t=(0,_.B)("bec-fe.bui-web-goods-list").t,n=e.mainGoodsId,r=e.title,o=void 0===r?t("similar.title"):r,l=e.linkURL,c=e.goodsList,d=e.viewMoreText,p=void 0===d?t("similar.viewMore"):d,f=e.onClose,v=e.onClickTitle,g=e.onClickViewMoreBtn,h=e.loggerParams,y=e.webpEnable,T=e.commonTrackingInfo,E=e.trackingGoodsInfo,S=e.isSmall,k=e.pageSn,C=at({column:3,len:c.length+1,classConfig:{arrowCls:lt().arrowCls}}),N=C.slidesRef,A=C.listStyle,P=C.renderPageTurner,O=null!=h?h:{},L=O.main,W=void 0===L?205632:L,D=O.title,M=void 0===D?205652:D,j=O.viewMore,R=void 0===j?205633:j,G=O.goods,z=void 0===G?205634:G,B=st(st(st({},T||{}),E||{}),{},{main_goods_id:n,source_goods_id:n}),U=(0,u.useCallback)((function(e,t){return(0,a.A)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,x.E0)(e).catch((function(){}));case 2:(0,Ae.MJ)((0,b.rE)({refer_page_el_sn:z},(0,Ye.YU)(t)),{openTarget:"_blank"});case 3:case"end":return n.stop()}}),n)})))}),[B]),F=(0,u.useCallback)(function(){var e=(0,a.A)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.E0)({page_el_sn:R}).catch((function(){}));case 2:g?g(t):l&&(0,Ae.MJ)((0,Ye.YU)(l),{openTarget:"_blank"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),H=(0,u.useCallback)(function(){var e=(0,a.A)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==t||t.preventDefault(),e.next=3,(0,x.E0)({page_el_sn:M}).catch((function(){}));case 3:v?v(t):l&&(0,Ae.MJ)((0,Ye.YU)(l),{openTarget:"_blank"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);if(!c||0===c.length)return null;var q=(p||"").slice(0,8);return(p||"").slice(8).split("").forEach((function(e){e&&(q+=" "===e?" ":"".concat(e,"Â­"))})),u.createElement(I.Ay,{payload:st(st({},B),{},{page_el_sn:W})},u.createElement("div",{onClick:function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()},className:lt().enhanceLayer},u.createElement(ot.A,{HWRatio:"calc(42.1875% + 34px)",className:lt().container,childContainerClassName:lt().content},u.createElement(I.Ay,{payload:st(st({},B),{},{page_el_sn:M})},u.createElement("div",{className:lt().titleWrap},u.createElement("div",{className:lt().title,onClick:H},o,u.createElement(Je.A,{className:lt().arrowRight})),u.createElement("div",{className:lt().close,onClick:f},u.createElement(Ve.A,{className:lt().closeIcon})))),u.createElement("div",{className:lt().listWrap},u.createElement("div",{className:lt().list},u.createElement("div",{className:lt().items,ref:N,style:A},c.map((function(e,t){var n,r=e.seoLinkUrl,a=e.linkUrl,o=e.priceInfo,l=e.goodsId,c=e.pRec,s=e.pSearch,d=null!=c?c:{},p=d.show_price,f=d.show_currency,v=d.show_sales,g=st(st({},B),{},{page_el_sn:z,goods_id:l,rec_goods_id:l,idx:t,p_rec:JSON.stringify(c),p_search:s,show_price:p,show_currency:f,show_sales:v}),h=(0,Ye.RF)(o,"",k,l),_=h.unitPrefix,T=h.showPriceStr,E=h.unitSuffix,x=h.priceColor,C=st({},x?{color:x}:{});return u.createElement(I.Ay,{key:e.goodsId,payload:g},u.createElement("div",{className:lt().item,onClick:U(g,r||a)},u.createElement(ot.A,{HWRatio:1,className:lt().goodsImgContainer},u.createElement(w.Ay,{src:(0,b.VG)(e.hdThumbUrl||e.thumbUrl||(null===(n=e.image)||void 0===n?void 0:n.url)||""),className:lt().goodsImg,lazy:!1,processParam:{resizeWidth:160,webpEnable:y},alt:e.title||e.goodsName||"","aria-hidden":!0}),u.createElement(Ze.r,{data:e,size:"m"})),u.createElement("div",{className:lt().goodsPriceWrap},u.createElement("div",{className:lt().goodsPrice,style:C},_?u.createElement("span",{className:lt().pricePrefix},_):null,u.createElement("span",{className:m()(lt().price,(0,i.A)({},lt().isSmall,S))},T),E?u.createElement("span",{className:lt().priceSuffix},E):null))))})),u.createElement(I.Ay,{payload:st(st({},B),{},{page_el_sn:R})},u.createElement("div",{className:m()(lt().viewMoreWrap),onClick:F},u.createElement("div",{className:lt().viewMoreTextWrap},u.createElement(Qe,{className:lt().viewMoreLogo}),u.createElement("div",{className:lt().viewMoreText},q)))))),P()))))},dt=(0,u.memo)(ut),mt=n(61277),pt=n(59785),ft=n.n(pt);function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht=(0,y.Xc)((0,u.memo)((function(e){var t=(0,_.B)("bec-fe.bui-web-goods-list").t,n=e.mainGoodsId,r=e.title,o=void 0===r?t("similar.title"):r,i=e.linkURL,l=e.goodsList,c=e.onClose,d=e.onClickTitle,m=e.loggerParams,p=e.webpEnable,f=e.commonTrackingInfo,v=e.trackingGoodsInfo,g=e.pageSn,h=null!=m?m:{},y=h.main,T=void 0===y?205632:y,E=h.title,S=void 0===E?205652:E,k=h.goods,C=void 0===k?205634:k,N=gt(gt(gt({},f||{}),v||{}),{},{main_goods_id:n,source_goods_id:n}),A=(0,u.useCallback)((function(e,t){return(0,a.A)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,x.E0)(e).catch((function(){}));case 2:(0,Ae.MJ)((0,b.rE)({refer_page_el_sn:C},(0,Ye.YU)(t)),{openTarget:"_blank"});case 3:case"end":return n.stop()}}),n)})))}),[C]),P=(0,u.useCallback)(function(){var e=(0,a.A)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==t||t.preventDefault(),e.next=3,(0,x.E0)({page_el_sn:S}).catch((function(){}));case 3:d?d(t):i&&(0,Ae.MJ)((0,Ye.YU)(i),{openTarget:"_blank"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);if(!l||0===l.length)return null;var O=function(e,t){var n=e.seoLinkUrl,r=e.linkUrl,a=e.priceInfo,o=e.goodsId,i=e.pRec,l=e.pSearch,c=e.extendFields,s=e.hdThumbUrl,d=e.thumbUrl,m=e.image,f=e.title,v=e.goodsName,h=null!=i?i:{},y=h.show_price,_=h.show_currency,T=h.show_sales,E=(c||{}).engIcon,S=gt(gt({},N),{},{page_el_sn:C,goods_id:o,rec_goods_id:o,idx:t,p_rec:JSON.stringify(i),p_search:l,show_price:y,show_currency:_,show_sales:T}),k=(0,Ye.RF)(a,"",g,o),x=k.unitPrefix,P=k.showPriceStr,O=k.unitSuffix,L=k.priceColor,W=gt({alignItems:O?"baseline":"center"},L?{color:L}:{});return u.createElement(I.Ay,{key:o,payload:S},u.createElement("div",{className:ft().item,onClick:A(S,n||r)},u.createElement(ot.A,{HWRatio:1,className:ft().goodsImgContainer},u.createElement(w.Ay,{src:(0,b.VG)(s||d||(null==m?void 0:m.url)||""),className:ft().goodsImg,lazy:!1,processParam:{resizeWidth:160,webpEnable:p},alt:f||v||"","aria-hidden":!0}),!(null==E||!E.engThumbUrl)&&u.createElement(Ie.A,{data:E,goodsId:o,size:"s"}),u.createElement("div",{className:ft().tagWrap},u.createElement(mt.v,{type:"gray",className:ft().priceTag},u.createElement("div",{style:W,className:ft().price},x?u.createElement("span",null,x):null,u.createElement("span",null,P),O?u.createElement("span",null,O):null))))))},L=l.slice(0,2).map(O),W=l.slice(2,4).map(O);return u.createElement(I.Ay,{payload:gt(gt({},N),{},{page_el_sn:T})},u.createElement("div",{onClick:function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()}},u.createElement(ot.A,{HWRatio:"calc(100% + 18px)",className:ft().container,childContainerClassName:ft().content},u.createElement(I.Ay,{payload:gt(gt({},N),{},{page_el_sn:S})},u.createElement("div",{className:ft().titleWrap},u.createElement("div",{className:ft().title,onClick:P},u.createElement("span",null,o),u.createElement(Je.A,{className:ft().arrowRight})),u.createElement("div",{className:ft().close,onClick:c},u.createElement(Ve.A,{className:ft().closeIcon})))),u.createElement("div",{className:ft().listWrap},u.createElement("div",{className:ft().lineWrap},L),u.createElement("div",{className:ft().lineWrap},W)))))}))),bt=n(49711),yt=n.n(bt),_t={1:400,2:500,3:600},wt=function(e){var t,n=e.data,r=e.className,a=e.lazy,o=void 0===a||a;if(null==n||!n.length)return null;var i=(null==n?void 0:n[0])||{},l=null==n||null===(t=n[0])||void 0===t?void 0:t.header;if(!(null!=i&&i.pw||null!=i&&i.ph))return null;var c={width:"".concat(256*i.pw,"px"),height:"".concat(256*i.ph,"px"),background:i.backColor},s=l&&{fontSize:"".concat(null==l?void 0:l.font,"px"),color:null==l?void 0:l.color,fontWeight:_t[null==l?void 0:l.textStyle]}||{};return u.createElement("div",{style:c,className:m()(yt().wrap,r)},null!=i&&i.url?u.createElement(w.Ay,{alt:null==l?void 0:l.text,src:null==i?void 0:i.url,className:yt().tagImg,lazy:o,"aria-hidden":!0}):null,l?u.createElement("div",{style:s,className:yt().tagText},null==l?void 0:l.text):null)},Tt=(0,u.memo)(wt),Et=(n(23792),n(31415),n(47764),n(62953),n(78295)),St=(n(16280),n(76918),n(82744)),kt=n.n(St);function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct=function(e){var t,n,r,o=e.data,l=e.className,c=e.commonTrackingInfo,d=e.trackingGoodsInfo,p=e.openGoodsWithNewTab,f=e.grayConfig,v=e.commonStyle,h=e.imgClassName,b=e.iconUrl,y=e.useSimpleMode,_=void 0!==y&&y;if(!o||0===o.length)return null;var T=o[0],E=T.header,S=T.footer,k=T.rankingId,I=T.rankingType,C=T.pw,N=T.ph,A=T.extMap,P=null==A?void 0:A.rankingListRichText;try{"string"==typeof P&&(P=(0,Et.Yw)((0,g.NS)(P,[])))}catch(e){(0,z.fL)(new Error("parseExtmapRichTextError"),{errorMsg:null==e?void 0:e.message})}if(!E&&!S)return null;if(!E.text&&!S.text)return null;if(C||N)return null;var O=function(){var e=(0,a.A)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.url){e.next=2;break}return e.abrupt("return");case 2:return null==t||t.stopPropagation(),e.next=5,(0,x.E0)(It(It({page_el_sn:213558,ranking_id:k,ranking_type:I,ranking_idx:null==c?void 0:c.idx},c||{}),d||{})).catch((function(){}));case 5:(0,Ae.MJ)((0,we.LV)(E.url),p?{openTarget:"_blank"}:{});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=1===(null==f||null===(t=f.cp48130)||void 0===t?void 0:t.enhance),W={background:null==E?void 0:E.backColor,color:null==E?void 0:E.color,fontSize:null!=E&&E.font?"".concat(E.font,"px"):void 0,height:null!=E&&E.font?"".concat(E.font+6,"px"):void 0,lineHeight:null!=E&&E.font?"".concat(E.font+6,"px"):void 0},D={background:null==S?void 0:S.backColor,color:null==S?void 0:S.color,fontSize:null!=E&&E.font?"".concat(S.font,"px"):void 0,height:null!=E&&E.font?"".concat(S.font+4,"px"):void 0,lineHeight:null!=E&&E.font?"".concat(S.font+4,"px"):void 0},M=L?It({fontWeight:600},W):W,j=v||M,R=v||(L?W:D),G=P&&!_?u.createElement(be.l5,{newRichText:P,className:m()(kt().tag,(0,i.A)({},kt().newStyle,!0))}):u.createElement(u.Fragment,null,!!b&&u.createElement(w.Ay,{src:b,className:m()(kt().img,h),"aria-hidden":!0,alt:""}),E?u.createElement("div",{onClick:null!=E&&E.url?O:null},u.createElement("div",{className:m()(kt().header,(0,i.A)({},kt().commonStyle,!!v)),style:j,tabIndex:0,role:"link"},null!==(n=null==E?void 0:E.text)&&void 0!==n?n:"",!!E.url&&u.createElement(Je.A,{className:kt().arrowRight,style:It({fill:E.color,color:E.color},v)}))):null,S?u.createElement("div",{className:kt().footer,style:R,tabIndex:0,role:"link",onClick:null!=E&&E.url?O:null},null!==(r=null==S?void 0:S.text)&&void 0!==r?r:""):null);return u.createElement("div",{className:m()(kt().container,l,(0,i.A)({},kt().enhanceTag,L&&!v))},G)},Nt=function(e){var t,n,r,a,o=e||{},i=o.header,l=o.footer,c=o.extMap,s=null==c?void 0:c.rankingListRichText;"string"==typeof s&&(s=(0,g.NS)(s,{}));var u=null===(t=s)||void 0===t?void 0:t.text_rich;return u?null==u||null===(a=u.map((function(e){return null==e?void 0:e.value})))||void 0===a?void 0:a.join(""):"".concat(null!==(n=null==i?void 0:i.text)&&void 0!==n?n:"").concat(null!==(r=null==l?void 0:l.text)&&void 0!==r?r:"")},At=n(63604),Pt=n.n(At),Ot=function(e){return e[e.hasVerticalLine=2]="hasVerticalLine",e[e.noVerticalLine=1]="noVerticalLine",e}(Ot||{}),Lt=function(e){return e[e.selfOperated=1]="selfOperated",e[e.authorized=2]="authorized",e}(Lt||{}),Wt=(0,u.memo)((function(e){var t,n,r=e.data,a=e.lazy,o=r||{},l=o.url,c=o.suffixUrls,s=void 0===c?[]:c,d=o.color,p=o.text,f=o.prefixUrls,v=o.bgUrl,h=o.extMap||{},b=h.brandInfo,y=h.brandTagTextStyle,_=(0,A.Sz)().supportWebp,T=(null==f?void 0:f.length)||[l],E=v?{background:"url(".concat(v,")"),fontSize:"12px"}:{},S=(b?(0,g.NS)(b,{}):{})||{},k=S.brand_name,x=S.vertical_line_url,I=S.official_store_text,C=S.brand_authorized_type;return+y===Ot.noVerticalLine&&(t=p),+y===Ot.hasVerticalLine&&(t=+C===Lt.selfOperated?k:p,n=+C===Lt.selfOperated?I:""),u.createElement("div",{className:Pt().itemWrap},u.createElement("div",{className:m()(Pt().item,(0,i.A)({},Pt().newItem,!!v)),style:E},!(null==T||!T[0])&&u.createElement(w.Ay,{src:T[0],className:Pt().icon,lazy:a,processParam:{webpEnable:_},"aria-hidden":!0,alt:""}),u.createElement("span",{style:{color:d},className:m()(Pt().text,(0,i.A)({},Pt().noShrink,!!I))},t||p),+y===Ot.hasVerticalLine&&x&&u.createElement(w.Ay,{src:x,className:Pt().line,lazy:a,processParam:{webpEnable:_},"aria-hidden":!0,alt:""}),!!n&&u.createElement("span",{style:{color:d},className:Pt().text},n),!(null==s||!s[0])&&u.createElement(w.Ay,{src:s[0],className:m()(Pt().icon,Pt().suffixLogo),lazy:a,processParam:{webpEnable:_},"aria-hidden":!0,alt:""})))})),Dt={1:1700,2:3700},Mt=(0,u.memo)((function(e){var t,n,r=e.tags,a=e.goodsId,i=e.className,l=e.lazy,c=e.grayConfig,s=null==r?void 0:r.filter((function(e){return null==e?void 0:e.text})),d="mallTags-".concat(a),p=(null==s?void 0:s.length)>1,f=null!=c&&null!==(t=c.cp153647)&&void 0!==t&&t.value?Dt[null==c||null===(n=c.cp153647)||void 0===n?void 0:n.value]:void 0,v=function(e){var t=e.num,n=e.containerClassName,r=e.goodsId,a=e.perHeight,i=e.stayTimePer,l=void 0===i?2700:i,c=(0,u.useState)(""),s=(0,o.A)(c,2),d=s[0],m=s[1];return(0,u.useEffect)((function(){t<2||function(){for(var e=(l+300)*t,o=100/t,i=l/e*100,c="loop-".concat(r),s="@keyframes ".concat(c," {\n"),u=0;u<t;){var d=u*o+i;s=s+"".concat(u*o,"% { transform: translateY(-").concat(u*a,"px); }\n")+"".concat(d,"% { transform: translateY(-").concat(u*a,"px);}\n"),u++}s+="100% { transform: translateY(-".concat(t*a,"px); }");var p=".".concat(n," {\n            animation: ").concat(c," ").concat(e,"ms ease-out infinite;\n            }");m(p+s)}()}),[n,r,t,a,l]),d}({num:null==s?void 0:s.length,containerClassName:d,goodsId:a,perHeight:20,stayTimePer:f});return null!=s&&s.length?u.createElement("div",{className:m()(Pt().mallTagsWrap,i)},!!v&&u.createElement("style",null,v),u.createElement("div",{className:m()(d,Pt().list)},null==s?void 0:s.map((function(e){return u.createElement(Wt,{data:e,key:e.tagId})})),!!p&&u.createElement(Wt,{data:s[0],lazy:l}))):null})),jt=n(76422),Rt=n.n(jt),Gt=function(e){var t,n=e.className,r=e.brandTagText,a=e.brandTagLogo,o=void 0===a?"https://aimg.kwcdn.com/upload_aimg/temu/f2cda539-4c39-4bce-afde-37ad4167120b.png":a,l=e.lazy,c=e.webpEnable,s=e.style,d=void 0===s?{}:s,p=e.tags;return void 0!==((null==p||null===(t=p[0])||void 0===t?void 0:t.extMap)||{}).brandTagTextStyle?u.createElement("div",{className:m()(Rt().mallTag,Rt().newStyle,n)},u.createElement(Wt,{data:null==p?void 0:p[0]})):r?u.createElement("div",{className:m()(Rt().brandTags,n,(0,i.A)({},Rt().newStyle,!0))},u.createElement(w.Ay,{lazy:l,src:o,className:Rt().brandTagIcon,"aria-hidden":!0,alt:r,processParam:{webpEnable:c,resizeWidth:48}}),u.createElement("span",{className:Rt().brandText,style:d},r)):null},zt=n(66825);n(95127);function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft={threshold:1,rootMargin:"0px"},Ht=function(e){var t=e.ref,n=e.onEnter,r=e.onLeave,a=e.options,o=void 0===a?Ft:a,i=(0,u.useRef)(null),l=(0,W.w)((function(){t.current&&i.current&&i.current.unobserve(t.current)}));return(0,u.useEffect)((function(){if(t.current&&(n||r)){var e=Ut(Ut(Ut({},Ft),o),{},{root:o.root?o.root.current:null}),a=e.threshold;return i.current=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&e.intersectionRatio>=a?n&&n(e):r&&r(e)}))}),e),i.current.observe(t.current),function(){l()}}}),[]),{unobserve:l}},qt=n(43522),Yt=n(90092),Jt=n(3240),Vt=n(48884),Xt=n.n(Vt),Kt=["endTime","className","showMillisecond","onEnd"],Qt=function(){},Zt=function(e){var t=e.endTime,n=e.className,a=void 0===n?"":n,o=e.showMillisecond,i=void 0!==o&&o,c=e.onEnd,s=void 0===c?Qt:c,d=(0,l.A)(e,Kt),p=(0,Jt.Ax)().nowTime,f=(0,Yt.A)(t,p)||{},v=f.day,g=f.hour,h=f.minute,b=f.second,y=f.millisecond,_=void 0===y?0:y,w=t-p<=0;return(0,u.useEffect)((function(){w&&(null==s||s())}),[w,s]),u.createElement("div",(0,r.A)({className:m()(Xt().ticker,a),dir:"ltr"},d),u.createElement(qt.A,{enable:!0},v>0?u.createElement("span",{className:Xt().time},v,":"):null,u.createElement("span",{className:Xt().time},g,":"),u.createElement("span",{className:Xt().time},h,":"),u.createElement("span",{className:Xt().time},b),!!i&&!!_&&v<=0&&u.createElement("span",{className:Xt().time,"aria-hidden":!0},":",String(_).slice(0,1))))},$t=n(24777),en=n.n($t);function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rn=(0,y.Xc)((0,u.memo)((function(e){var t=e.displayEndTime,n=e.displayEndTimePercentImg,r=e.displayEndTimePercent,a=e.className,i=e.processClassName,l=e.countdownClassName,c=e.processWrapClassName,s=e.imgLazy,d=e.processWrapStyle,p=e.processStyle,f=e.countDownStyle,v=e.displayEndTimeShowStr,g=e.displayEndTimeShowStrClassName,h=e.preText,b=e.preTextClassName,y=e.hasAnimation,_=(0,u.useState)(!0),T=(0,o.A)(_,2),E=T[0],S=T[1],k=(0,u.useRef)(null),x=(0,u.useState)(!1),I=(0,o.A)(x,2),C=I[0],N=I[1],A=Ht({ref:k,onEnter:function(){y&&(N(!0),A())}}).unobserve,P=(0,u.useCallback)((function(){S(!1)}),[]);if(!n)return null;if(void 0===r)return null;var O=y?{transitionDuration:"".concat(7*r,"ms"),marginInlineStart:C?"max(0px, calc(".concat(r,"% - ").concat(17,"px))"):0}:{marginInlineStart:"max(0px, calc(".concat(r,"% - ").concat(17,"px))")},L=!!E&&!!t&&u.createElement(Zt,{endTime:1e3*t,className:m()(en().countDown,l),onEnd:P,style:f});return u.createElement("div",{className:m()(en().wrap,a)},!!h&&u.createElement("div",{className:m()(en().percentText,b)},h),u.createElement("div",{className:m()(en().proccessBar,c),style:d},u.createElement("div",{ref:k,className:m()(en().bar,i),style:y?{transitionDuration:"".concat(7*r,"ms"),paddingInlineStart:C?"".concat(r,"%"):0}:nn({paddingInlineStart:"".concat(r,"%")},p)}),!!n&&u.createElement(w.Ay,{src:n,className:en().icon,lazy:s,style:O,"aria-hidden":!0,alt:""})),v?u.createElement("div",{className:m()(en().endText,g)},v):L)}))),an=n(92943),on=n(86635),ln=n.n(on),cn=function(e){var t=e.icon,n=e.rtlIcon,r=e.text,a=(0,A.Sz)().isRTL?n:t;return a?u.createElement(an.A,{overlay:u.createElement("div",{className:ln().overlay,onClick:function(e){var t,n;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),null==e||null===(n=e.stopPropagation)||void 0===n||n.call(e)}},r),placement:"bottom",trigger:"hover",appendToBody:!0,innerClassName:ln().popover,adapted:!0,mountPopupWhenInit:!0},u.createElement(w.Ay,{src:a,className:ln().icon,onClick:function(e){var t,n;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),null==e||null===(n=e.stopPropagation)||void 0===n||n.call(e)},"aria-hidden":!0,alt:"","data-tooltip-ignore":"true"})):null},sn=n(21092),un=n.n(sn),dn=[B.th.StockTag,B.th.Billboard];function mn(e,t){var n,r=t||{},a=r.showScoreNum,o=r.pageSn,l=r.grayConfig,c=r.goodsId,s=r.openGoodsWithNewTab,d=r.commonTrackingInfo,p=r.trackingGoodsInfo,f=e||{},v=f.text,h=f.url,b=f.urls,y=f.marketingTagType,_=f.extMap,T=f.tagId,E=f.backColor,S=f.color,k=f.endTime,x=f.widthStyle,I=f.promptTagText,C=void 0===I?"":I,N=f.iconUrl,A=void 0===N?"":N,P=f.rtlIconUrl,O=void 0===P?"":P,L=f.tagRichText,W=null==_?void 0:_.tagRichText,D=(_||{}).goodsScoreStarComment,M=!!D&&(0,g.NS)(D,{})||{},j=M.goods_score,G=M.goods_score_text,z=M.comment_num_tips,U=M.score_color,F=(null==l||null===(n=l.cp116861)||void 0===n?void 0:n.value)?$:R.FT;if(T===B.th.CHEAP&&W||L){var H,q,Y,J;try{J=(0,Et.Yw)((0,g.NS)(W,{}))}catch(e){}var V=null!==(H=J)&&void 0!==H&&null!==(q=H.textRich)&&void 0!==q&&q.length?J:L;if(null!=V&&null!==(Y=V.textRich)&&void 0!==Y&&Y.length)return u.createElement(be.l5,{newRichText:V,className:m()(un().tag,un().newStyle,un().cheapTag)})}if(T===B.th.ProcessTag)return u.createElement(rn,{displayEndTime:k,displayEndTimePercent:+v,displayEndTimePercentImg:h,processStyle:{background:S},processWrapStyle:{background:E},countDownStyle:{color:S},className:m()(un().processTag,(0,i.A)({},un().minWidth,1===x)),countdownClassName:m()((0,i.A)({},un().minWidth,1===x))});var X=(null==b?void 0:b.length)>0?b:h?[h]:[];if((null==X?void 0:X.length)>0)return u.createElement("div",{className:un().imgWithText},X.map((function(e,t){return u.createElement("div",{className:m()(un().imgWrap,(0,i.A)({},un().imgBorder,(null==X?void 0:X.length)>1&&0===t)),key:t},u.createElement(w.Ay,{src:e,"aria-hidden":!0,alt:v,className:m()(un().img,(0,i.A)({},un().noRadius,[Ye.Mf.LOCAL_TAG,Ye.Mf.FREE_FAST_SHIPPING_TAG].includes(T))),processParam:{resizeWidth:54,quality:100}}))})),u.createElement("span",{className:un().imgTag,"aria-hidden":!0},v));if(y===Ye.Mf.BRAND)return u.createElement(Gt,{brandTagLogo:h,brandTagText:v});if(y===Ye.Mf.COMMENT&&j&&G&&z)return u.createElement(zt.A,{score:j,scoreText:G,numTips:z,showScoreNum:a,scoreColor:U,pageSn:o,className:un().goodsScore});var K=dn.includes(+T)&&!!C&&!(!A&&!O),Q=Nt(e);return+y===Ye.Mf.BILLBOARD||Q?u.createElement(F,{id:"BillboardTag-".concat(c||""),title:Q,fixed:!0,className:un().billboardTagWrap},u.createElement(Ct,{data:[e],openGoodsWithNewTab:s,commonTrackingInfo:d,trackingGoodsInfo:p,grayConfig:l}),!!K&&u.createElement(cn,{text:C,icon:A,rtlIcon:O})):u.createElement("div",{className:un().tagContent},u.createElement("span",{className:un().tagText,"data-tooltip-ignore":K},v),!!K&&u.createElement(cn,{text:C,icon:A,rtlIcon:O}))}var pn={1:2e3,2:4e3},fn=(0,u.forwardRef)((function(e,t){var n,r,a,l,c,s,d,p,f,v=e||{},g=v.data,h=v.className,b=v.supportTagCarousel,y=v.goodsId,_=v.openGoodsWithNewTab,w=v.commonTrackingInfo,T=v.trackingGoodsInfo,E=v.grayConfig,S=v.showScoreNum,k=v.pageSn,C=!g||0===g.length,N=(0,u.useState)(-1),A=(0,o.A)(N,2),P=A[0],O=A[1],L=(0,u.useState)(g||[]),W=(0,o.A)(L,2),D=W[0],M=W[1],R=(0,u.useRef)({tagRows:[1],tagList:[],tagListImpr:[],hasImpr:!1,tagTextList:[]}),G=(0,u.useRef)(!1),z=(0,u.useCallback)((function(){var e,n=function(e,t){for(var n,r=[],a=[],o=[],i=null!==(n=null==e?void 0:e.length)&&void 0!==n?n:0,l=0;l<i;l++){var c,s,u,d,m,p,f,v,g,h,b=e[l],y=Math.round((null!==(c=null==b?void 0:b.offsetTop)&&void 0!==c?c:0)/t);r.push(y);var _=((null===(s=b)||void 0===s?void 0:s.dataset)||{}).tagId;a[y]=a[y]?"".concat(a[y],",").concat(null!=_?_:""):null!=_?_:"",o[y]=o[y]?"".concat(o[y],",").concat(null!==(u=null===(d=b)||void 0===d||null===(m=(p=d).getAttribute)||void 0===m?void 0:m.call(p,"aria-label"))&&void 0!==u?u:""):null!==(f=null===(v=b)||void 0===v||null===(g=(h=v).getAttribute)||void 0===g?void 0:g.call(h,"aria-label"))&&void 0!==f?f:""}return{rows:r,tagList:a,tagTextList:o}}(null==t||null===(e=t.current)||void 0===e?void 0:e.childNodes,18),r=n.rows,a=n.tagList,o=n.tagTextList,i=new Set(r).size;if(R.current.tagList=a,R.current.tagTextList=o,2===i)return M((function(e){return[].concat((0,Pe.A)(e||[]),[{br:!0}],(0,Pe.A)(e||[]))})),void(R.current.tagRows=[].concat((0,Pe.A)(r),[0],(0,Pe.A)(r.map((function(e){return e+2})))));M((function(e){return e})),R.current.tagRows=r}),[t]);(0,u.useEffect)((function(){!C&&b&&z()}),[z,C,b]),(0,u.useEffect)((function(){var e=j(z);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[z]);var U=null!=E&&null!==(n=E.cp153647)&&void 0!==n&&n.value?pn[null==E||null===(r=E.cp153647)||void 0===r?void 0:r.value]:3e3;(0,u.useEffect)((function(){var e=new Set(R.current.tagRows).size,t=R.current.tagList.length;if(C||e<2||!b)return function(){};var n=setInterval((function(){R.current.hasImpr&&(G.current||O((function(n){if(-1===n)return 0;var r=(n+1)%e;if(R.current.tagListImpr.length<t){var a=2===t?1:r;if(!R.current.tagListImpr[a]){var o=R.current.tagList[a],i=R.current.tagTextList[a];o&&(0,x.WW)({page_el_sn:217476,goods_id:y,tag_id:o,tag_list:i})}R.current.tagListImpr[a]=1}return r})))}),U);return function(){clearInterval(n)}}),[y,U,C,b,D]);var F=(0,u.useCallback)((function(e){var t=new Set(R.current.tagRows).size,n=R.current.tagRows[e],r=(P+1)%t===n,a=P===n,o=P>=0&&0===n?18:0;return r?o=-18*n:a&&(o=-18*n-18),{opacity:-1===P||r||a?1:0,transform:"translateY(".concat(o,"px)"),isFadeIn:-1===P||r}}),[P]),H=(0,u.useCallback)((function(){G.current=!0}),[]),q=(0,u.useCallback)((function(){G.current=!1}),[]);if(C)return null;var Y=(null!==(a=null===(l=g[0])||void 0===l||null===(c=l.text)||void 0===c?void 0:c.length)&&void 0!==a?a:0)>=30,J=(null!==(s=null===(d=g[0])||void 0===d||null===(p=d.text)||void 0===p?void 0:p.length)&&void 0!==s?s:0)<=28&&!Y,V=Y&&!b?D.slice(0,1):D,X={page_el_sn:217476,goods_id:y,get tag_id(){var e;return R.current.hasImpr=!0,R.current.tagListImpr[0]=1,R.current.tagList[0]||(null==V||null===(e=V[0])||void 0===e?void 0:e.tagId)},get tag_list(){var e;return R.current.tagTextList[0]||(null==V||null===(e=V[0])||void 0===e?void 0:e.text)}};return null!=V&&V.length?u.createElement(I.Ay,{payload:X},u.createElement("div",{className:m()(un().goodsTags,h,(f={},(0,i.A)(f,un().small,Y),(0,i.A)(f,un().useSmall,J),(0,i.A)(f,un().newStyleWrap,!0),f)),ref:t,"data-active":P+1===V.length?0:P+1},V.map((function(e,t){var n,r,a,o=e||{},l=o.color,c=o.br,s=o.tagId,d=o.extMap,p=o.text,f=o.header,v=o.footer,g=o.backColor,h=o.promptTagText,b=o.iconUrl,x=o.rtlIconUrl,I=(d||{}).tagRichText;if(c)return u.createElement("br",{key:t});var C=F(t)||{},N=C.opacity,A=C.transform,P=C.isFadeIn,O={opacity:N,transform:A,color:I?void 0:l};g&&s!==B.th.ProcessTag&&(O.borderRadius="4px",O.padding="0 4px",O.background=g);var L=p||"".concat(null!==(n=null==f?void 0:f.text)&&void 0!==n?n:"").concat(null!==(r=null==v?void 0:v.text)&&void 0!==r?r:""),W=dn.includes(+s)&&h&&(b||x);return u.createElement("div",{key:t,className:m()(un().goodsTagsWithImg,(a={},(0,i.A)(a,un().discountTag,[91004,91041,91027,91011].includes(+s)),(0,i.A)(a,un().newStyle,!0),(0,i.A)(a,un().billboardTag,[91020].includes(+s)),a)),style:O,"data-active":P?"1":"0","aria-label":L,"data-tag-id":s,onMouseEnter:W?H:void 0,onMouseLeave:W?q:void 0},mn(e,{showScoreNum:S,pageSn:k,grayConfig:E,goodsId:y,openGoodsWithNewTab:_,commonTrackingInfo:w,trackingGoodsInfo:T}))})))):null})),vn=(0,u.memo)(fn),gn=n(38869),hn=function(e){return e.default="default",e.expand="expand",e}({}),bn=function(e){return e.DEFAULT="DEFAULT",e.SCALE="SCALE",e.NONE="NONE",e}({}),yn=n(53898),_n=n.n(yn),wn=["type"],Tn=function(e){var t=e.className,n=e.noHover,a=e.payload,o=e.onClick,i=e.goodsId,l=e.title,c=e.classConfig,s=e.children,d=e.tooltipDisabled,p=e.onMouseUp,f=(0,gn.a)({onClick:o,tabIndex:-1,role:"link"}),v=d?$:R.FT;return u.createElement(I.Ay,{payload:a},u.createElement("div",(0,r.A)({className:m()(_n().defaultContainer,t,null==c?void 0:c.goodsItemWrap),"aria-label":l},f,{onMouseUp:p}),u.createElement(v,{className:m()(_n().inner,null==c?void 0:c.goodsItem),id:"goodContainer-".concat(i),title:l,hidden:n},s)))},En=function(e){var t,n=e.className,a=e.noHover,l=e.payload,c=e.onClick,s=e.goodsId,d=e.title,p=e.children,f=e.classConfig,v=e.onMouseUp,g=(0,u.useState)(),h=(0,o.A)(g,2),b=h[0],y=h[1],_=(0,u.useRef)(null),w=(0,gn.a)({onClick:c,tabIndex:-1,role:"link"}),T=(0,u.useCallback)((function(){_.current&&y({height:"".concat(_.current.offsetHeight,"px")})}),[]);return(0,u.useEffect)((function(){return T(),window.addEventListener("resize",T),function(){window.removeEventListener("resize",T)}}),[T]),u.createElement(I.Ay,{payload:l},u.createElement("div",(0,r.A)({className:m()(_n().defaultContainer,n,(t={},(0,i.A)(t,_n().expandContainer,!!b),(0,i.A)(t,_n().noHover,a),t),null==f?void 0:f.goodsItemWrap),"aria-label":d},w,{onMouseUp:v}),u.createElement("div",{style:b,className:_n().placeholder}),u.createElement("div",(0,r.A)({className:_n().inner},(0,R.GB)({id:"goodContainer-".concat(s),title:d,fixed:!1,hidden:a}),{ref:_}),p)))},Sn=function(e){var t=e.children;return u.createElement("div",{className:_n().expandContent},t)},kn=function(e){var t=e.type,n=(0,l.A)(e,wn);return t===hn.expand?u.createElement(En,n):u.createElement(Tn,n)},xn=(0,u.memo)(kn),In=n(20781),Cn=n(76690),Nn=n.n(Cn);function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var On=(0,u.forwardRef)((function(e,t){var n=e.videoURL,r=e.poster,l=e.className,c=e.isCrawler,d=e.style,p=(0,u.useRef)(null),f=(0,u.useRef)(),v=(0,u.useRef)(),g=(0,u.useState)({show:c,isPlayVideo:!1}),h=(0,o.A)(g,2),y=h[0],_=h[1],w=(0,u.useCallback)((function(e){var t=e.restart,r=void 0===t||t,a=e.cb;n&&!y.isPlayVideo&&(!y.show&&_((function(e){return Pn(Pn({},e),{},{show:!0})})),f.current=setTimeout((function(){null!=p&&p.current&&(a&&a(!0),_((function(e){return Pn(Pn({},e),{},{isPlayVideo:!0})})),r&&(p.current.currentTime=0),v.current=p.current.play())}),500))}),[n,y.isPlayVideo]),T=(0,u.useCallback)(function(){var e=(0,a.A)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.cb,n&&null!=p&&p.current){e.next=3;break}return e.abrupt("return");case 3:return clearTimeout(f.current),r&&r(!1),_((function(e){return Pn(Pn({},e),{},{isPlayVideo:!1})})),e.next=8,v.current;case 8:p.current.pause();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]);(0,u.useEffect)((function(){return function(){(null==f?void 0:f.current)&&clearTimeout(null==f?void 0:f.current)}}),[]),(0,u.useImperativeHandle)(t,(function(){return{onStart:w,onStop:T}}),[]);var E=(0,u.useMemo)((function(){return r?(0,b.VG)((0,Oe.Bp)(r,{webpEnable:!0,resizeWidth:500,quality:60})):""}),[r]);return(0,u.useEffect)((function(){return function(){(null==f?void 0:f.current)&&clearTimeout(null==f?void 0:f.current)}}),[]),n&&r&&y.show?u.createElement("video",{style:d,src:(0,b.VG)(n),poster:E,ref:p,muted:!0,loop:!0,className:m()(Nn().video,l,(0,i.A)({},Nn().videoPlay,y.isPlayVideo))}):null})),Ln=(0,u.memo)(On),Wn=n(96833),Dn=n.n(Wn);function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rn(e){var t,n=e.pageSn,r=e.goodsId,l=e.closeCategoryCard,c=e.lazy,d=e.webpEnable,p=e.commonTrackingInfo,f=e.trackingGoodsInfo,g=(0,C.Mj)(),h=(0,u.useState)({}),b=(0,o.A)(h,2),y=b[0],_=b[1],T=(0,u.useState)(!1),E=(0,o.A)(T,2),S=E[0],k=E[1],N=(0,u.useRef)(),A=y.optName,P=y.imageUrl,O=y.strategy,L=y.linkUrl,W=y.optId,D=y.pRec,M=y.optType,j=void 0===M?"":M,R=y.strategyColor,G=y.imageTag,z=jn(jn(jn({},p||{}),f||{}),{},(t={page_el_sn:212491,goods_id:r,opt_id:W,text:O,opt_level:j},(0,i.A)(t,"opt_cate".concat(j,"_id"),W),(0,i.A)(t,"opt_cate_idx",0),(0,i.A)(t,"p_rec",JSON.stringify(D)),t));(0,u.useEffect)((function(){g.start({type:"click"}),g.stageStart("api");var e={listId:(0,v.A)(),offset:0,pageSize:-1,pageSn:n,scene:"gd_return_opt",mainGoodsId:r};(0,We.MW)({url:(0,We.wU)("/api/poppy/v1/opt_list",e),params:e,config:{useAntiToken:!0}}).then((function(e){var t;g.stageEnd("api");var n=e.result,r=(null===(t=(void 0===n?{}:n).data.crumbOptList)||void 0===t?void 0:t[0])||{};_(r)})).catch((function(){}))}),[]);var B=G||{},U=B.text,F=B.color,H=B.bgColor;(0,u.useEffect)((function(){try{if(!U)return;if(!N.current)return;var e=N.current.offsetWidth/N.current.scrollWidth,t=Math.max(10,12*e);N.current.style.fontSize="".concat(t,"px"),N.current.style.fontWeight="400"}catch(e){}finally{k(!0)}}),[U]);var q=(0,u.useCallback)((function(e){null==e||e.preventDefault(),null==e||e.stopPropagation(),(0,x.E0)({page_el_sn:212492}),l()}),[l]),Y=(0,u.useCallback)(function(){var e=(0,a.A)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==t||t.preventDefault(),null==t||t.stopPropagation(),e.next=4,(0,x.E0)(z).catch((function(){}));case 4:(0,Ae.MJ)(L,{openTarget:"_blank"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[L]);return A&&O&&L?u.createElement(I.Ay,{payload:z},u.createElement("div",{className:m()(Dn().wrap,Dn().enhanceLayer),onClick:Y,style:{opacity:S?1:0}},u.createElement("div",{className:Dn().close,onClick:q},u.createElement(Ve.A,{className:Dn().closeIcon})),u.createElement("div",{className:Dn().imgWrap},u.createElement(w.Ay,{lazy:c,src:P,className:Dn().img,"aria-hidden":!0,alt:O,processParam:{resizeWidth:42,webpEnable:d}}),!!U&&u.createElement("div",{className:Dn().imgTag,style:{color:F,backgroundColor:H}},u.createElement("span",{className:Dn().tag,ref:N},U))),u.createElement("div",{className:Dn().goodsInfo},u.createElement("div",{className:Dn().goodsName},A),u.createElement("div",{className:Dn().goodsDesc},u.createElement("div",{className:Dn().strategy,style:{color:R}},O),u.createElement(Je.A,{className:Dn().arrow,style:{fill:R}}))),u.createElement(g.End,{name:"pc_buiGoodsListShowCategory"}))):null}var Gn=(0,u.memo)(Rn),zn=n(53940),Bn=n(27907),Un=n(19732),Fn=n(6209),Hn=n(85302),qn=n.n(Hn),Yn=(0,y.Xc)((0,u.memo)((function(e){var t=e.data,n=e.className,r=null==t?void 0:t.filter((function(e){return e.color&&e.text}));return null!=r&&r.length?u.createElement("div",{className:m()(qn().tags,n)},r.map((function(e){var t=e.text,n=e.color;return u.createElement("span",{style:{color:n},className:qn().item},t)}))):null}))),Jn=n(28606),Vn=n.n(Jn),Xn=function(e){return e[e.normal=1]="normal",e[e.special=2]="special",e[e.countStyleWithBorder=3]="countStyleWithBorder",e[e.countStyleWithBg=4]="countStyleWithBg",e}(Xn||{}),Kn=(0,y.Xc)((function(e){var t,n=e.data,r=e.goodsId,a=(null==n?void 0:n[0])||{},l=a.endTime,c=a.text,s=a.tagType,d=a.color,p=void 0===d?"#0A8800":d,f=a.tagId,v=a.header,g=a.footer,h=a.extMap,b=a.backColor,y=a.url,_=B.th.Discount===f,T=h||{},E=T.tagEndStr,S=T.tagEndStrColor,k=T.tagStyle,x=void 0===k?1:k,I=T.tagIcon,C=E&&+x===Xn.special,N=(0,Jt.Ax)().nowTime,P=(0,u.useRef)(!0),O=(0,u.useRef)(),L=0,W=(0,u.useState)(),D=(0,o.A)(W,2),M=D[0],j=D[1],R=s===B.mH.singleGoodsCoupon;N&&l&&(L=L<0?L:l-N);var G=(0,A.Sz)().supportWebp;(0,u.useEffect)((function(){"number"==typeof l&&L<=0&&!P.current&&!_&&(document.dispatchEvent(new CustomEvent(Ce.DA,{detail:{goodsId:r}})),P.current=!0)}),[l,r,_,L]);var z=!(c||null!=v&&v.text);if((0,u.useEffect)((function(){P.current=!1}),[]),(0,u.useEffect)((function(){if(!z&&O.current){var e=O.current.clientWidth/O.current.scrollWidth,t=Math.max(11,13*e);j({fontSize:"".concat(t,"px")})}}),[z]),z)return null;if(R)return u.createElement("div",{className:m()(Vn().discountPriceTag,Vn().singleGoodsCoupon,Vn().newStyle)},u.createElement("div",{className:m()(Vn().textWrap,b&&Vn().withBg),style:{color:p,border:p&&!b?"1px solid ".concat(p):"",background:b}},!!y&&u.createElement(w.Ay,{src:y,className:Vn().icon,processParam:{webpEnable:G},"aria-hidden":!0,alt:""}),u.createElement("span",{className:Vn().singleGoodsCoupontext},c)));var U=l?u.createElement(u.Fragment,null,+x===Xn.countStyleWithBg&&u.createElement("div",{className:Vn().line}),u.createElement(Zt,{endTime:l,className:m()(Vn().countDown,(0,i.A)({},Vn().withBgCountDown,+x===Xn.countStyleWithBg))})):_&&(null==g?void 0:g.text)&&u.createElement("span",{className:Vn().footerText},null==g?void 0:g.text);return u.createElement("div",{className:m()(Vn().discountPriceTag,Vn().newStyle,(t={},(0,i.A)(t,Vn().withBorder,+x===Xn.countStyleWithBorder),(0,i.A)(t,Vn().withBg,+x===Xn.countStyleWithBg),t)),style:{opacity:M?"1":"0"}},u.createElement("div",{className:m()(Vn().tagContent,(0,i.A)({},Vn().discountContent,_))},u.createElement("div",{className:Vn().content},!!I&&u.createElement(w.Ay,{src:I,className:Vn().tagIcon,processParam:{webpEnable:G},"aria-hidden":!0,alt:""}),u.createElement("div",{className:Vn().text,style:M,ref:O},_?null==v?void 0:v.text:c)),C?u.createElement("span",{className:m()(Vn().footerText,Vn().discount),style:{color:S}},E):U))})),Qn=(n(33771),n(52248)),Zn=n(32464),$n=n.n(Zn),er=function(e){var t=e.processTrackingInfo,n=e.className,r=e.ratio,a=e.salesPercentStr,o=e.fill,l=void 0===o?"#fb7707":o,c=e.withCart,s={width:"".concat(r,"%")};return u.createElement(I.Ay,{payload:{page_el_sn:null==t?void 0:t.pageElSn}},u.createElement("div",{className:m()($n().wrap,n)},u.createElement("div",{className:m()($n().processWrap,(0,i.A)({},$n().withCart,c))},u.createElement("div",{className:$n().process,style:s})),u.createElement("div",{className:$n().textLine},r>=65&&u.createElement(Qn.ib,{path:"M432.1 0c149.7 87.7 250.7 246.3 254.3 428.1 30.2-30.1 52.4-68 63-110.3l0.8-3.2c88.8 68.6 145.8 174.8 145.8 293.9 0 6.8-0.2 13.6-0.6 20.4 0.4 6.8 0.6 13.6 0.6 20.5 0 206.9-171.9 374.6-384 374.6-212.1 0-384-167.7-384-374.6 0-103.1 42.7-196.4 111.7-264.2 91.9-104.6 158.1-231.2 189.3-370.5l3.1-14.7z",style:{fill:l},className:$n().fireIcon}),!!a&&u.createElement("div",{className:$n().txt},a))))},tr=n(33839),nr=n.n(tr),rr=function(e){var t=e.className,n=e.marketPrice,r=e.discount,a=e.prefix;return n&&r?u.createElement("div",{className:m()(nr().container,t)},u.createElement("div",{className:nr().marketPrice},a||"",n),u.createElement("div",{className:nr().discount},r)):null},ar=(0,u.memo)(rr),or=n(95607),ir=n.n(or),lr=function(e){var t=e.firstInstallmentTag,n=e.className,r=e.lazy,a=(null==t?void 0:t[0])||{},o=a.text,i=a.color,l=a.urls,c=(0,A.Sz)().supportWebp;return o&&null!=l&&l.length?u.createElement("div",{className:m()(ir().payTagWrap,n)},u.createElement("div",{className:ir().text,style:{color:i}},o),u.createElement("div",{className:ir().imgWrap},l.map((function(e){return e?u.createElement(w.Ay,{lazy:r,src:e,className:ir().img,"aria-hidden":!0,processParam:{webpEnable:c,resizeWidth:70},alt:""}):null})))):null},cr=(n(78459),n(15572)),sr=n(39731),ur=n.n(sr);function dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pr=function(e){var t,n,r=e.className,a=e.commonTrackingInfo,l=e.trackingGoodsInfo,c=e.skcTrackingInfo,s=e.setSkcIndex,d=e.currentSkcIndex,p=e.skcList,f=e.setSkcLoading,v=e.webpEnable,g=e.imageProcessParam,h=e.alt,b=(0,A.Sz)().isRTL,y=null!==(t=null==p?void 0:p.length)&&void 0!==t?t:0,_=y>8?null==p?void 0:p.slice(7):[],w=(0,u.useState)(!1),T=(0,o.A)(w,2),E=T[0],S=T[1],k=(0,u.useRef)(null),I=(0,u.useRef)(0),C=(0,u.useRef)({0:!0}),N=(0,u.useCallback)((function(e){var t;C.current[e]=!0;var n=new Image,r=null==p||null===(t=p[e])||void 0===t?void 0:t.galleryUrl;r&&(n.src=(0,Oe.Bp)(r,g))}),[p]),P=(0,u.useCallback)((function(e){var t,n;null==f||f(!0),C.current[e]=!0;var r=new Image,a=null!==(t=null==p||null===(n=p[e])||void 0===n?void 0:n.galleryUrl)&&void 0!==t?t:"";if(a){r.src=(0,Oe.Bp)(a,g);var o=function(){s(e),null==f||f(!1),I.current&&clearTimeout(I.current),0!==e&&N(e-1),e!==y-1&&N(e+1)};r.onload=o,r.onerror=o}}),[p,y]),O=(0,u.useCallback)((function(e){var t=+e.currentTarget.dataset.index||0;t>0&&C.current[t]?s(t):I.current=window.setTimeout((function(){P(t)}),0),(0,x.WW)(mr(mr(mr(mr({},a),l),c||{}),{},{page_el_sn:215487}))}),[]),L=(0,u.useCallback)((function(){I.current&&clearTimeout(I.current)}),[]);(0,u.useEffect)((function(){return function(){I.current&&clearTimeout(I.current)}}),[]);var W=function(){if(null==_||!_.length)return null;var e={},t={};if(k.current){var n=getComputedStyle(k.current.children[0])||{},r=parseFloat(n.width),a=parseFloat(b?n.marginLeft:n.marginRight),o=Math.min(_.length,7);e={width:"".concat(r*o+a*(o-1)+20,"px")},t={width:"".concat(r,"px"),height:"".concat(r,"px")},b?t.marginLeft="".concat(a,"px"):t.marginRight="".concat(a,"px")}return u.createElement("div",{className:m()(ur().skcListWrapper,ur().bubbleWrap),style:e},_.map((function(e,n){var r=e.galleryUrl,a=e.colorImage,o=n+8-1;return u.createElement("div",{className:m()(ur().skcItemWrapper,(0,i.A)({},ur().active,o===d)),onMouseEnter:O,onMouseLeave:L,"data-index":o,key:o,style:t},a&&r?u.createElement(cr.F,{src:(0,Oe.Bp)(a,{resizeWidth:18,webpEnable:v,quality:70}),className:ur().skcImg,"aria-hidden":!0,alt:h}):null)})))};return null!=p&&p.length?u.createElement("div",{className:m()(ur().skcWrapper,r,(n={},(0,i.A)(n,ur().skcWrapper8,8===y),(0,i.A)(n,ur().skcWrapperLess8,y<8),n))},u.createElement("div",{className:ur().skcListWrapper,ref:k},p.slice(0,y>8?7:8).map((function(e,t){var n=e.galleryUrl,r=e.colorImage;return u.createElement("div",{className:m()(ur().skcItemWrapper,(0,i.A)({},ur().active,t===d)),onMouseEnter:O,onMouseLeave:L,"data-index":t,key:t},r&&n?u.createElement(cr.F,{src:(0,Oe.Bp)(r,{resizeWidth:18,webpEnable:v,quality:70}),className:ur().skcImg,"aria-hidden":!0,alt:h}):null)}))),y>8&&u.createElement("div",{className:ur().skcNumWrap},u.createElement("div",{className:ur().skuNumMain},u.createElement(an.A,{mountPopupWhenInit:!0,overlay:u.createElement(W,null),placement:"bottom",onPopoverVisibleChange:function(e){e&&!E&&S(!0),!e&&E&&S(!1)}},u.createElement("div",{className:ur().skcNum},y-8+1,u.createElement("div",{className:ur().bubbleArrowWrap,style:{visibility:E?"visible":"hidden",left:y-8+1>=10?"1px":"-3px"}},u.createElement(Qn.Uj,{className:ur().bubbleArrow,viewBox:"0 0 22 8"}))))),u.createElement("div",{className:ur().skuNumBlank}))):null},fr=(0,u.memo)(pr),vr=n(25344),gr=n.n(vr),hr=function(e){var t=e.comment,n=e.avatar,r=e.className,a=e.style,o=e.lazy,i=e.webpEnable;return t&&n?u.createElement("div",{className:m()(gr().container,r),style:a},u.createElement("div",{className:gr().content,tabIndex:0},u.createElement("div",{className:gr().avatarImage},u.createElement(w.Ay,{lazy:o,src:n,className:gr().avatar,"aria-hidden":!0,alt:t,processParam:{resizeWidth:57,webpEnable:i}})),t)):null},br=(0,u.memo)(hr),yr=(n(42762),function(e){return e[e.center=1]="center",e}({})),_r=n(63427),wr=n.n(_r);function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sr=function(e){var t,n,r,a,l,c=e.header,s=e.url,d=e.footer,p=e.iconImg,f=e.className,v=e.lazy,g=void 0!==v&&v,h=e.ph,b=e.textCentered,y=e.promotionStyle,_=e.textYPercent,T=e.classConfig,E=e.serverTime,S=e.rowNum,k=(0,A.Sz)().isRTL,x=(0,u.useRef)(null),I=(0,u.useRef)(null),C=(0,u.useRef)(!1),N=c||{},P=N.text,O=N.color,L=d||{},W=L.endTime,D=L.text,M=L.color,j=(null==c?void 0:c.dx)||(null==d?void 0:d.dx)||0,R=b===yr.center,G=1===y,z=2===y,B=P&&D&&!G&&!z,U={color:M},F=(0,Ye.fU)(W||e.endTime||""),H=E||Date.now(),q=(0,u.useRef)(F&&F+2e3>H),Y=(0,Jt.Ax)().nowTime,J=0;Y&&q.current&&(J=F-Y);var V=J>0,X=!(V&&F),K={color:O,marginTop:B?"1.6%":"0px",opacity:X?0:1,whiteSpace:"nowrap"},Q=(0,u.useState)(K),Z=(0,o.A)(Q,2),$=Z[0],ee=Z[1],te=(0,u.useCallback)((function(){if(!x.current||!I.current||!X)return ee((function(e){return Er(Er({},e),{},{opacity:1})}));var e=.8*I.current.offsetHeight;return(x.current.scrollWidth>x.current.clientWidth||C.current)&&(C.current=!0,ee((function(t){return Er(Er({},t),{},{opacity:1,fontSize:e,whiteSpace:"initial",lineHeight:"".concat(e+4,"px"),marginTop:"-2px"})}))),ee((function(e){return Er(Er({},e),{},{opacity:1})}))}),[X]);if((0,u.useEffect)((function(){return te(),window.addEventListener("resize",te),function(){window.removeEventListener("resize",te)}}),[X,te]),!s||F&&!V)return null;var ne=!P&&D&&!G&&!z&&V&&F&&((null==D||null===(t=D.trim)||void 0===t||null===(n=t.call(D))||void 0===n?void 0:n.length)>10||F-H>Ye.wJ+2e3),re=h?{paddingBottom:"".concat(100*h,"%")}:{},ae={width:R?"200%":"".concat(2*(1-j)*100,"%")};k?ae.right=R?"0px":"".concat(100*j,"%"):ae.left=R?"0px":"".concat(100*j,"%"),h&&_&&(ae.paddingTop="".concat(h*_*2*100,"%"));var oe=V&&F&&z&&p;return u.createElement("div",{className:m()(wr().container,f,null==T?void 0:T.container,(l={},(0,i.A)(l,wr().double,B),(0,i.A)(l,wr().isCenter,R),(0,i.A)(l,wr().promotionStyle1,1===y),(0,i.A)(l,wr().showFlashSeparator,oe),(0,i.A)(l,wr().isCountDownDays,ne),(0,i.A)(l,wr().isMore,(null!==(r=null==P?void 0:P.length)&&void 0!==r?r:0)>22||(null!==(a=null==D?void 0:D.length)&&void 0!==a?a:0)>14&&V&&F),(0,i.A)(l,wr().sixCard,6===S),l)),style:re,tabIndex:-1,ref:I},s?u.createElement(w.Ay,{src:s,lazy:g,className:m()(wr().image,null==T?void 0:T.image),"aria-hidden":!0,alt:"".concat(P||""),processParam:{resizeWidth:512,quality:100}}):null,u.createElement("div",{className:m()(wr().content,null==T?void 0:T.content),style:ae},P?u.createElement("div",{className:m()(wr().header,null==T?void 0:T.header,(0,i.A)({},wr().singleLine,!(V&&F))),style:$,role:"link",ref:x},P):null,V&&F?u.createElement("div",{className:m()(wr().footer,null==T?void 0:T.footer,(0,i.A)({},wr().singleLine,!P&&D&&V&&F)),style:U},oe?u.createElement(w.Ay,{alt:P,lazy:g,src:p,className:wr().flashClockImg,processParam:{resizeWidth:33,quality:100},"aria-hidden":!0}):null,u.createElement("span",{className:m()(wr().footerText,null==T?void 0:T.footerText),role:"link"},D),u.createElement(Zt,{endTime:F,className:m()(wr().countDown,null==T?void 0:T.countDown),style:{color:M},role:"link"})):null))},kr=(0,u.memo)(Sr),xr=n(68296),Ir=n.n(xr),Cr=["tooltipProps"];function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pr=function(){},Or=(0,u.memo)((function(e){var t=e.tooltipProps,n=(0,l.A)(e,Cr);return t?u.createElement(R.FT,t,u.createElement(dt,n)):u.createElement(dt,n)})),Lr="undefined"!=typeof document&&"ontouchstart"in document,Wr=(0,u.memo)((function(e){var t,n,l,c,d,T,E,S,j,G,z,U,F,H,Y,J,V,X,K,Q,Z,ee,te=e.index,ne=e.pageSn,re=e.pageElSn,oe=e.cartScene,ie=e.goodsInfo,le=e.classNameWrap,ce=e.canAddToCart,se=e.cartAmount,ue=e.isMainGoods,de=e.CustomGoodsBtn,me=e.forwardGoodsParams,pe=e.beforeClickCart,fe=e.onGoodsClick,ve=e.onQuickLookClick,ge=e.onAddCartClick,be=e.onSkuPanelClose,_e=e.onSkuPanelSuccess,Te=e.openGoodsWithNewTab,Ee=void 0===Te||Te,Se=e.quickLook,ke=e.useCartBtn,Me=e.webpEnable,Je=e.isShowSkc,Ve=e.isShowProcess,Xe=void 0!==Ve&&Ve,Ke=e.processTrackingInfo,Qe=e.cardTrackingInfo,$e=e.showDiscountOnName,et=void 0!==$e&&$e,tt=e.grayConfig,nt=e.startLazyIndex,rt=e.imageRootMargin,at=void 0===rt?500:rt,it=e.isOpenSaleInfoScale,lt=e.isShowHoverImage,ct=void 0===lt||lt,st=e.skuParams,ut=e.skuOptions,dt=e.goodsNameTag,mt=e.hoverTheme,pt=void 0===mt?bn.DEFAULT:mt,ft=e.isShowComment,vt=e.isShowBillboardTip,gt=e.billboardTipProps,bt=e.autoShowSimilarCount,yt=void 0===bt?0:bt,_t=e.autoShowCategoryCardCount,wt=void 0===_t?0:_t,Et=e.showMarketInfo,St=e.commonGoodsTrackingInfo,kt=e.skcTrackingInfo,xt=e.classConfig,It=e.setDatasource,Ct=e.showSavePrice,Nt=e.renderTopTips,At=e.renderBottomTips,Pt=e.renderTags,Ot=e.renderTagsBeforePrice,Lt=e.userAgent,Wt=e.goodsConfig,Dt=e.serverTime,jt=e.rowNum,Rt=void 0===jt?5:jt,Bt=e.renderCustomizeTags,Ut=e.listId,Ft=e.emageProgress,Ht=void 0===Ft||Ft,qt=e.ignoreGoodsSaleInlineScriptEffect,Yt=e.refreshInfo,Jt=e.privateListId,Vt=ie.title,Xt=ie.thumbUrl,Kt=ie.salesTipText,Qt=ie.salesTipTextList,Zt=ie.salesTip,$t=ie.priceInfo,en=ie.linkUrl,tn=ie.seoLinkUrl,nn=ie.pageAlt,an=ie.image,on=ie.hoverImage,ln=ie.goodsId,cn=void 0===ln?"":ln,sn=ie.pRec,un=ie.pSearch,dn=ie.mRec,mn=ie.mTrc,pn=ie.ad,fn=ie.quickLook,gn=ie.goodsTags,yn=ie.specIds,_n=ie.comment,wn=ie.commentNumTips,Tn=ie.goodsScore,En=ie.tagsInfo,kn=ie.promotionTagList,Cn=ie.video,Nn=ie.skcList,An=ie.noSalesTipText,Pn=ie.optId,On=ie.ext,Wn=ie.uniqueId,Dn=ie.gcId,Mn=ie.gcGoodsList,jn=ie.extendFieldsForSku,Rn=ie.extendFields,Hn=(Rn=void 0===Rn?{}:Rn).supportTagCarousel,qn=void 0!==Hn&&Hn,Jn=Rn.titleRow,Vn=void 0===Jn?1:Jn,Xn=Rn.showScoreNum,Qn=void 0!==Xn&&Xn,Zn=Rn.saleFireFlag,$n=void 0!==Zn&&Zn,tr=Rn.skuExtraParam,nr=void 0===tr?{}:tr,rr=Rn.engIcon,or=void 0===rr?{}:rr,ir=Rn.onlyOneSku,cr=Rn.mainViewType,sr=Rn.mainJumpUrl,ur=Rn.frontParam,dr=ie.cardTrackingInfo,mr=ie.HWRatio,pr=void 0===mr?1:mr,vr=ie.activityType,gr=(ie.wareHouseType,ie.afterPriceShowPriority),hr=ie.afterStarShowPriority,yr=ie.afterPriceTipText,_r=ie.salesTipWithTime,wr=ie.currentSkuId,Tr=ie.adultGoods,Er=ie.allLocationDataDictMap,Sr=ie.titleRich,xr=ie.complianceInfo,Cr=(ur||{}).itemListExp,Nr=Ar({_oak_page_source:115},st),Wr=(0,A.Sz)().localInfo,Dr=((0,p.xc)(null==Wr?void 0:Wr.region),f.DR.eu,+((null==Wr?void 0:Wr.region)||0)===f.gq.sa),Mr=(0,C.Mj)(),jr=(0,_.B)("bec-fe.bui-web-goods-list"),Rr=jr.t,Gr=jr.i18n,zr=(0,u.useRef)(null),Br=(0,u.useRef)(null),Ur=(Ar(Ar({open:!0},fn||{}),Se||{}),(Wt||{}).cancelRobotLimit),Fr=(null==tt?void 0:tt.cp159015)||{},Hr=Ar(Ar({webpEnable:Me},w.tO.GOODS_MIDDLE||{}),{},{quality:(null==Fr?void 0:Fr.normal)||w.tO.GOODS_MIDDLE.quality}),qr=Cn||{},Yr=qr.videoUrl,Jr=(qr.iconUrl,qr.imageUrl),Vr=(0,Ue.A)({salesTipText:Kt,salesTipTextList:Qt}),Xr=Vr.salesTipValue,Kr=Vr.useNewSalesTip,Qr=Xr,Zr=On||{},$r=Zr.goodsActivitySalesRatioParam,ea=Zr.activitySalesRatioContent,ta=Xe&&!!$r&&$r>=0&&$r<=100,na=En||{},ra=na.brandTags,aa=na.promotionTags,oa=na.billboardTags,ia=na.topSpecTags,la=na.goodsAttributesTags,ca=void 0===la?[]:la,sa=na.titleHeaderTags,ua=void 0===sa?[]:sa,da=na.todayTags,ma=na.activityIconTags,pa=void 0===ma?[]:ma,fa=na.firstInstallmentTag,va=void 0===fa?[]:fa,ga=na.specialOfferTag,ha=void 0===ga?[]:ga,ba=na.couponTag,ya=void 0===ba?[]:ba,_a=na.mallTag,wa=na.progressTags,Ta=void 0===wa?[]:wa,Ea=na.totalDiscountAmountTag,Sa=void 0===Ea?[]:Ea,ka=na.bookAttributeTag,xa=void 0===ka?[]:ka,Ia=na.mixBenefitTags,Ca=void 0===Ia?[]:Ia,Na=na.adTags,Aa=void 0===Na?[]:Na,Pa=null===(t=(null==En?void 0:En.goodsTags)||gn)||void 0===t||null===(n=t.map)||void 0===n?void 0:n.call(t,(function(e,t){return Ar(Ar({},e||{}),{},{i:t})})),Oa=null!=kn&&null!==(l=kn[0])&&void 0!==l&&l.promotionTag?kn[0]:null,La=null!=aa&&aa.length?aa[0]:null,Wa=(0,u.useState)(!1),Da=(0,o.A)(Wa,2),Ma=Da[0],ja=Da[1],Ra=(0,u.useMemo)((function(){var e=((null==da?void 0:da[0])||{}).tagId;return{page_el_sn:239821,goods_id:cn,price_pre_tag:String(void 0===e?"":e)}}),[]),Ga=!!Lt&&(0,P.H_)(Lt),za=!!Lt&&!/macintosh|mac os x/i.test(Lt),Ba=(0,u.useContext)(qe.E).disableLazy,Ua=(0,u.useRef)(0),Fa=null==pa?void 0:pa[0],Ha=(null==tt||null===(c=tt.cp126457)||void 0===c?void 0:c.value)&&pr>1?ht:Or,qa=null==tt||null===(d=tt.cp145287)||void 0===d?void 0:d.value,Ya=(0,u.useMemo)((function(){return nt&&(te||0===te)?te>nt:!Ba}),[Ba,nt,te]),Ja=(0,u.useState)(!1),Va=(0,o.A)(Ja,2),Xa=Va[0],Ka=Va[1],Qa=(0,u.useCallback)((function(){Lr||Ka(!0)}),[]),Za=(0,u.useCallback)((function(){Lr||Ka(!1)}),[]),$a=(0,u.useState)($t),eo=(0,o.A)($a,2),to=eo[0],no=eo[1],ro=Je?(Nn||[]).filter((function(e){return e.colorImage})):[],ao=ro.length>1,oo=(0,u.useState)(0),io=(0,o.A)(oo,2),lo=io[0],co=io[1],so=(0,u.useMemo)((function(){if(ao)return Nn[lo]}),[ao,Nn,lo]),uo=(0,u.useState)({}),mo=(0,o.A)(uo,2),po=mo[0],fo=mo[1],vo=(null==po?void 0:po.specialOfferTag)||ha,go=null!=vo&&null!==(T=vo[0])&&void 0!==T&&T.text?1:void 0,ho=(0,u.useMemo)((function(){var e,t=(((null==Aa?void 0:Aa[0])||{}).extMap||{}).ad;return{is_ad_tag:null!=Aa&&null!==(e=Aa[0])&&void 0!==e&&e.text?1:0,ad:t}}),[]),bo=(0,u.useMemo)((function(){var e,t,n;return Ar(Ar(Ar({p_rec:sn,p_search:un,m_rec:dn,m_trc:mn,ad:pn,idx:te,g_idx:te,goods_display_id:(0,v.A)(),show_currency:null==$t?void 0:$t.currency,show_price:(null==$t?void 0:$t.price)||((null==$t||null===(e=$t.priceText)||void 0===e?void 0:e.length)>1?100*+$t.priceText[1]:""),show_sales:Qr&&Qr.length>0?Qr[0]:"",show_skc:ao?1:0,unique_id:Wn,gc_id:Dn,limit_disc_prc:go,gc_goods_list:null!==(t=null==Mn||null===(n=Mn.join)||void 0===n?void 0:n.call(Mn,","))&&void 0!==t?t:null,is_sold_date:_r?1:0},Qe),dr),St)}),[]),yo=q({tags:ca,grayConfig:tt,localInfo:Wr}),_o=yo.needCarousel,wo=yo.textList,To=null!=wo&&wo.length?{is_roll:_o?1:0,date_text:null!=wo&&wo.length?(0,Ye.Jm)(wo):""}:{},Eo=(0,u.useMemo)((function(){return Ar(ue?{goods_id:cn}:{rec_goods_id:cn},To)}),[cn,ue]),So=Ar(Ar(Ar({},Eo),bo),{},{goods_btn_idx:bo.idx,idx:void 0}),ko=Ar({page_el_sn:200061,cart_scene:oe,goods_id:cn},So),xo=B.K_.includes(Cr),Io=ce&&!de&&!ke&&!xo,Co=(0,u.useState)(!1),No=(0,o.A)(Co,2),Ao=No[0],Po=No[1],Oo=function(e){var t=e.listId,n=e.pageSn,r=e.goodsId,i=e.pageSize,l=void 0===i?10:i,c=e.scene,d=e.pageElSn,m=void 0===d?205632:d,p=e.source,f=e.topGoods,g=e.showNewSimilarDialog,h=e.imgSearchUrl,b=(0,u.useRef)([]),y=(0,u.useState)(Ge),_=(0,o.A)(y,2),T=_[0],E=_[1],S=function(){var e=(0,a.A)(s().mark((function e(a){var o,i,u,d,b,y,_,T,E,S,k,x,I,C,N,A;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(a||{}).offset,u=void 0===i?0:i,d=c||a.scene,b=We.Ub.MALL_HOME_RECOMMEND,d===Re.SIMILAR&&(b=We.Ub.GOODS_DETAIL),d!==Re.SIMILAR||!g){e.next=19;break}if(!h){e.next=12;break}return _=(0,Oe.Bp)(h,w.tO.GOODS_MIDDLE),e.next=9,(0,De.h)(_);case 9:if(y=e.sent){e.next=12;break}return e.abrupt("return",ze);case 12:return e.next=14,(0,Le.Do)({pageElSn:222268,pageSn:n,offset:0,listId:(0,v.A)(32),imgSearchBytes:y});case 14:if(T=e.sent,S=(E=T||{}).goodsList,k=E.hasMore,x=E.rankColumFilter,null!=S&&S.length){e.next=18;break}return e.abrupt("return",ze);case 18:return e.abrupt("return",{goodsList:S,hasMore:k,imgSearchBytes:y,rankColumFilter:x});case 19:return e.next=21,(0,We.pP)(b,{pageSn:n,mainGoodsIds:[r],listId:t||(0,v.A)(6),offset:u,pageSize:l,scene:d,source:p,pageElSn:m,goodsId:r,topGoods:0===u?f:void 0});case 21:if((I=e.sent)&&I.success&&I.result){e.next=24;break}return e.abrupt("return",ze);case 24:return C=I.result,N=C.data,A=C.hasMore,e.abrupt("return",{goodsList:null!==(o=N.goodsList)&&void 0!==o?o:[],hasMore:A});case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,a.A)(s().mark((function e(t){var n,r,a,o,i,l,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===(n=b.current)||void 0===n?void 0:n.length)>0)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S(t);case 4:r=e.sent,a=r.goodsList,o=void 0===a?[]:a,i=r.hasMore,l=r.imgSearchBytes,c=r.rankColumFilter,b.current=o,E({goodsList:b.current,hasMore:i,imgSearchBytes:l,rankColumFilter:c});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.A)(s().mark((function e(){var t,n,r,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({offset:null===(t=b.current)||void 0===t?void 0:t.length});case 2:n=e.sent,r=n.goodsList,a=void 0===r?[]:r,o=n.hasMore,b.current=[].concat((0,Pe.A)(b.current),(0,Pe.A)(a)),E({goodsList:b.current,hasMore:o});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return je(je({},T),{},{loadData:k,loadMore:x,clear:function(){return 0!==b.current.length&&(b.current=[],E(Ge),!0)}})}({goodsId:cn,pageSn:ne,scene:Re.SIMILAR,showNewSimilarDialog:!0,imgSearchUrl:Xt}),Lo=(null===(E=Oo.goodsList)||void 0===E?void 0:E.length)>0,Wo=(0,u.useCallback)((function(){null==It||It((function(t){return(0,He.c)(t,{goods_id:cn,unique_id:Wn},e,{onSkuPanelClear:!0})}))}),[]),Do=(0,u.useMemo)((function(){var e=(null==an?void 0:an.url)||Xt,t=(0,Ye.RF)(to,"",ne,cn,Ut),n=it&&(0,Ye.QX)(null==t?void 0:t.currency,null==Gr?void 0:Gr.resolvedLanguage);if(!ao)return{showGoodsImg:e,showPriceInfo:t,showLinkUrl:en,showSeoLinkUrl:tn,showHoverImage:null==on?void 0:on.url,saleInfoEnableScale:n};var r=so||{},a=r.galleryUrl,o=r.priceStr,i=r.seoLinkUrl,l=r.linkUrl,c=r.priceInfo,s=r.hoverImage;return{showGoodsImg:a||e,showPriceInfo:c?(0,Ye.RF)(c,o,ne,cn,Ut):t,showLinkUrl:l||en,showSeoLinkUrl:i||tn,showHoverImage:(null==s?void 0:s.url)||(null==on?void 0:on.url),saleInfoEnableScale:n}}),[null==an?void 0:an.url,Xt,to,ne,cn,Ut,it,null==Gr?void 0:Gr.resolvedLanguage,ao,so,en,tn,null==on?void 0:on.url]),Mo=Do.showGoodsImg,jo=Do.showPriceInfo,Ro=Do.showLinkUrl,Go=Do.showSeoLinkUrl,zo=Do.showHoverImage,Bo=zo&&!Yr&&ct,Uo=(0,u.useMemo)((function(){return Ro&&Go?(0,we.LV)(Go&&0!==(null==Go?void 0:Go.indexOf("?"))?Go:Ro):"/goods.html?_bg_fs=1&goods_id=".concat(cn)}),[Ro,Go,cn]);(0,u.useEffect)((function(){Ka(Lr),(0,We.ch)({pageSn:ne})}),[ne]);var Fo=vt&&(null==oa?void 0:oa[0].pw)&&(null==oa?void 0:oa[0].ph),Ho=null==Bt?void 0:Bt(ie),qo=(0,u.useState)(ya),Yo=(0,o.A)(qo,2),Jo=Yo[0],Vo=Yo[1],Xo=!(null==Jo||null===(S=Jo[0])||void 0===S||!S.text),Ko=!Oa&&!(null==Pa||!Pa.length)&&(!Ga||(null==Ur?void 0:Ur.includes("goodsTags")))&&!Ho&&!Xo,Qo=(!Ga||(null==Ur?void 0:Ur.includes("brandTags")))&&!(null!=Pa&&null!==(j=Pa.some)&&void 0!==j&&j.call(Pa,(function(e){var t;return+(null!==(t=null==e?void 0:e.marketingTagType)&&void 0!==t?t:0)===Ye.Mf.BRAND})))&&!(null!=_a&&_a.length),Zo=!(null!=Pa&&Pa.some((function(e){var t;if(+(null!==(t=null==e?void 0:e.marketingTagType)&&void 0!==t?t:0)===Ye.Mf.COMMENT){var n,r=(null==e||null===(n=e.extMap)||void 0===n?void 0:n.goodsScoreStarComment)&&(0,g.NS)(e.extMap.goodsScoreStarComment,{});return r&&r.goods_score_text&&r.comment_num_tips}return!1})))&&((null==_n?void 0:_n.goodsScore)||Tn),$o=(0,u.useRef)(!1),ei=!Oa&&!Ko&&"function"==typeof Pt,ti=(0,Ie.Q)({width:null==or?void 0:or.width,height:null==or?void 0:or.height}).width,ni=null!=xr&&xr.iconInfo?78:0,ri=(0,u.useRef)(),ai=Be({personalizationTagRef:ri,efficiencyTagWidth:ni||ti}).showPersonalization;(0,u.useEffect)((function(){wt>0&&Ao||(0!==wt||Ao)&&Po(wt>0)}),[wt]),(0,u.useEffect)((function(){if(!(yt>0&&Lo)&&(0!==yt||Lo)){var e=function(){var e=(0,a.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(yt>0)){e.next=7;break}return Mr.stageStart("api"),e.next=4,Oo.loadData();case 4:Mr.stageEnd("api"),e.next=8;break;case 7:Oo.clear();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[yt]),(0,u.useEffect)((function(){var e=Yt||{},t=e.priceInfo,n=e.tagsInfo;t&&n&&((null==t?void 0:t.price)!==(null==to?void 0:to.price)&&no(t),Vo(null==n?void 0:n.couponTag))}),[null==to?void 0:to.price,Yt]);var oi=(0,u.useCallback)((function(){Mr.start({type:"click"}),be&&be({goods_id:cn}),null==It||It((function(t){return(0,He.c)(t,{goods_id:cn,unique_id:Wn},e,{onSkuPanelClose:!0})}))}),[]),ii=(0,u.useCallback)((function(){_e&&_e({goods_id:cn})}),[cn,_e]),li=(null==tt||null===(G=tt.cp139870)||void 0===G?void 0:G.value)||0,ci=(0,Fe.A)({cartAmount:(null==ie?void 0:ie.cartAmount)||se||0,beforeClickCart:pe,imprEventData:So,clickEventData:Ar(Ar(Ar({},So),ho),{},{is_ad_tag:void 0}),pageSn:ne,params:Ar(Ar(Ar(Ar({goods_id:cn,_oak_spec_ids:yn||"",gc_id:Dn,gc_goods_list:Mn},(0,h.uc)(jn||{})),Nr||{}),(0,h.uc)(nr||{})),{},{_oak_multi_spec_goods_sold:$o.current?1:void 0}),cartScene:oe,defaultSpecId:null==so?void 0:so.specId,showGoodsImg:Mo,webpEnable:Me,userCloseCallback:oi,callback:ii,skuOptions:ut,cartBtnRef:Br,usePreloadSku:li}),si=ci.cartAmount,ui=ci.onClick,di=ci.preloadSku,mi=(0,u.useCallback)((function(e,t){null==e||e.stopPropagation(),li&&1==+(null==e?void 0:e.buttons)&&di(t)}),[di,li]),pi=(0,u.useCallback)((function(e,t){ve&&ve({goods_id:cn}),ui(e,t)}),[]),fi=(0,u.useCallback)((function(e){ge&&ge({goods_id:cn}),ui(e)}),[]),vi=(0,u.useCallback)((function(){var e;if(zr.current){for(var t=[],n=(null===(e=zr.current)||void 0===e?void 0:e.childNodes)||[],r=0;r<n.length;r++){var a,o,i;"1"===(null===(a=n[r])||void 0===a||null===(o=(i=a).getAttribute)||void 0===o?void 0:o.call(i,"data-active"))&&t.push(n[r])}return(0,Ye.IK)(t,ra)}}),[]),gi=(0,u.useMemo)((function(){return(0,b.rE)(Ar(Ar({refer_page_el_sn:re},me||{}),{}),Uo)}),[Uo,me,re]),hi=(0,u.useCallback)((function(){return gi}),[gi]),bi=(0,W.w)((0,a.A)(s().mark((function e(){var t,n,r,a,o,i,l,c,u,d,m=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=m.length>0&&void 0!==m[0]?m[0]:{},i=m.length>1&&void 0!==m[1]?m[1]:"",(0,Ne.oV)("lastClickGoodsInfo",{goodsId:cn,uniqueId:Wn,privateListId:Jt}),fe&&fe({goods_id:cn}),l=vi(),Mo&&(0,L.N)(Mo,Me),c=Ar(Ar(Ar({},bo),Eo),{},{page_el_sn:re,tag_list:l,coupon_tagid_list:null==ha||null===(t=ha[0])||void 0===t?void 0:t.tagId,item_actv_type:vr||0},ho),(null==o||null===(n=o.target)||void 0===n||null===(r=n.className)||void 0===r||null===(a=r.indexOf)||void 0===a?void 0:a.call(r,"skcImg"))>-1&&(c.choose_skc=1),Ua.current+=1,Ua.current>=2&&(c.is_snd_clk=1),e.next=12,(0,x.E0)(c).catch((function(){}));case 12:u={},Ee&&(u={openTarget:"_blank"}),d=i||gi,$o.current&&(d=(0,b.rE)({_oak_multi_spec_goods_sold:1},d)),d&&(0,Ae.MJ)(d,u);case 17:case"end":return e.stop()}}),e)})))),yi=(0,W.w)((function(e){var t,n;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),null==e||null===(n=e.stopPropagation)||void 0===n||n.call(e);var r=u.createElement(M.M,{mainGooodsInfo:ie,pageSn:ne,onClose:function(){(0,x.E0)({page_el_sn:222269}),(0,D.L)()},addCartTrackingInfo:So,skuParams:Nr,skuExtraParam:nr,skuOptions:ut,initData:{goodsList:Oo.goodsList,imgSearchBytes:Oo.imgSearchBytes,rankColumFilter:Oo.rankColumFilter,hasMore:Oo.hasMore}});(0,D.P)({popupNode:r})})),_i=(0,u.useRef)(null),wi=(0,u.useState)(!1),Ti=(0,o.A)(wi,2),Ei=Ti[0],Si=Ti[1],ki=(0,u.useCallback)((function(){var e;Yr&&!Ei&&(Lo||Ao||null==_i||null===(e=_i.current)||void 0===e||e.onStart({cb:function(e){Si(e)}}))}),[Yr,Ei,Lo,Ao]),xi=(0,u.useCallback)((function(){var e;Cn&&(null==_i||null===(e=_i.current)||void 0===e||e.onStop({cb:function(e){return Si(e)}}))}),[Yr,Ei]),Ii=null!=ra&&ra.length?ra[0]:{},Ci=Ii.text,Ni=void 0===Ci?"":Ci,Ai=Ii.url,Pi=void 0===Ai?"https://aimg.kwcdn.com/upload_aimg/temu/f2cda539-4c39-4bce-afde-37ad4167120b.png":Ai,Oi=Ii.color,Li=Ar(Ar(Ar({},bo),Eo),{},{page_el_sn:re,get tag_list(){var e,t,n,r=(null===(e=zr.current)||void 0===e?void 0:e.getAttribute("data-active"))||0,a=null===(t=zr.current)||void 0===t||null===(n=t.childNodes)||void 0===n?void 0:n[r];return(0,Ye.IK)([a],ra)},coupon_tagid_list:null==ha||null===(z=ha[0])||void 0===z?void 0:z.tagId,item_actv_type:vr||0},ho),Wi=null==tt||null===(U=tt.cp116861)||void 0===U?void 0:U.value,Di=Wi?$:R.FT,Mi="function"==typeof Nt?Nt(ie):null,ji="function"==typeof At?At(ie):null,Ri=(F={},(0,i.A)(F,bn.DEFAULT,Ir().hoverThemeDefault),(0,i.A)(F,bn.SCALE,Ir().hoverThemeScale),(0,i.A)(F,bn.NONE,Ir().noHover),F),Gi=ft&&!ke&&!de&&(null==_n?void 0:_n.avatar)&&(null==_n?void 0:_n.comment),zi=Gi?m()(Ir().goodsWrapper,(0,i.A)({},Ir().newStyle,!0)):m()(Ir().goodsWrapper,le,Ri[pt],(H={},(0,i.A)(H,Ir().noHover,Xa),(0,i.A)(H,Ir().showCategoryCard,Ao),(0,i.A)(H,Ir().newStyle,!0),H));(0,u.useEffect)((function(){var e=function(e){var t=((null==e?void 0:e.detail)||{}).data;(null==t?void 0:t.goodsId)===cn&&fo(t)};return document.addEventListener(Ce.b0,e),function(){document.removeEventListener(Ce.b0,e)}}),[cn]);var Bi=cr===B.np.buyNow,Ui=Bi?Rr("buyNow"):"",Fi=(0,W.w)((function(e){var t,n;if(null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),null==e||null===(n=e.stopPropagation)||void 0===n||n.call(e),Bi&&ir&&wr&&sr){var r=(0,b.rE)({goods_list:JSON.stringify([{sku_id:wr,goods_number:1,goods_id:cn}]),login_scene:B.R1.buyNow,addr_scene:B.xt.buyNow},sr);N.Ay.openWindow((0,we.LV)(r),{target:"_blank",features:"noopener"})}else fi(e)})),Hi=(0,W.w)((function(e){1===(null==e?void 0:e.button)&&qa&&bi(e)})),qi=(0,u.useMemo)((function(){return null!=Fr&&Fr.low?{quality:null==Fr?void 0:Fr.low}:{}}),[null==Fr?void 0:Fr.low]);if(!cn)return null;var Yi="function"==typeof Ht?Ht(te):Ht,Ji=null==tt||null===(Y=tt.cp122051)||void 0===Y?void 0:Y.value,Vi=(null==Ta?void 0:Ta[0])||{},Xi=Vi.endTime,Ki=Vi.text,Qi=Xi&&Ki,Zi=Ko?u.createElement(vn,{data:Pa,className:m()(Ir().item),ref:zr,supportTagCarousel:qn,goodsId:cn,openGoodsWithNewTab:Ee,commonTrackingInfo:St,trackingGoodsInfo:Eo,grayConfig:tt,pageSn:ne,showScoreNum:Qn}):null;return u.createElement(xn,{className:zi,onClick:bi,title:Vt,goodsId:cn,noHover:Xa,type:Gi?hn.expand:hn.default,classConfig:null==xt?void 0:xt.goodsContainer,payload:Li,tooltipDisabled:Wi,onMouseUp:Hi},u.createElement(Di,{id:"goodsImage-".concat(cn),title:Vt,fixed:!0,hidden:Ei,className:m()(Ir().item,"goods-image-container-external"),expandLeft:9,expandRight:9,expandTop:9},u.createElement(ot.A,{HWRatio:pr,onMouseEnter:ki,onMouseLeave:xi},u.createElement("div",{className:m()(Ir().goodsImgContainer,(0,i.A)({},Ir().multiImgFadeAniEnable,Bo))},u.createElement(Ze.r,{data:ie,size:"l",imageLazy:Ya}),!La&&null!=an&&an.watermark?u.createElement(w.Ay,{lazy:Ya,src:null==an?void 0:an.watermark,className:Ir().watermark,alt:nn||Vt,processParam:{resizeWidth:136,webpEnable:Me},"aria-hidden":!0}):u.createElement(u.Fragment,null),Mo?u.createElement(k,{rootMargin:"string"==typeof at?at:"".concat(+at,"px"),rootRef:null},u.createElement(In.A,{alt:nn||Vt,lazy:Ya,src:Mo,className:m()(pr>1?Ir().goodsImgWithFullHeight:Ir().goodsImg,"goods-img-external"),wrapClassName:m()(Ir().goodsImageWrap,(J={},(0,i.A)(J,Ir().adultGoodsImg,Tr),(0,i.A)(J,Ir().centerHorizontally,Ji),J)),processParam:Hr,emageProgress:Yi,blurredCompressParams:qi})):u.createElement("div",{className:Ir().noImgContainer}),Bo?u.createElement(In.A,{alt:nn||Vt,lazy:Ya,src:zo,wrapperClass:Ir().secFadeAni,processParam:Hr,emageProgress:Yi,className:m()(Ir().secFadeAni,pr>1?Ir().goodsImgWithFullHeight:Ir().goodsImg)}):null,Yr?u.createElement(Ln,{ref:_i,poster:Jr,videoURL:Yr,isCrawler:Ga}):null,!!Ma&&u.createElement("div",{className:Ir().masker},u.createElement("div",{className:Ir().loadingBall},u.createElement("span",{className:Ir().ballItem}),u.createElement("span",{className:Ir().ballItem}),u.createElement("span",{className:Ir().ballItem}))),Lo?u.createElement(u.Fragment,null,u.createElement(Ha,{tooltipProps:Wi?void 0:{id:"GoodsSimilar-".concat(cn),title:Vt,hidden:!0},mainGoodsId:cn,title:Rr("similar.title"),viewMoreText:Rr("similar.viewMore"),goodsList:Oo.goodsList,webpEnable:Me,onClose:Wo,onClickTitle:yi,onClickViewMoreBtn:yi,loggerParams:{main:205632,title:205652,viewMore:205633,goods:205634},isSmall:!!(0,Ye.xo)(null==jo?void 0:jo.currency),commonTrackingInfo:bo,trackingGoodsInfo:Eo,pageSn:ne,grayConfig:tt}),u.createElement(Mr.End,{name:"pc_buiGoodsListShowSimilarAfterSkuClose"})):null,Ao&&!Lo?u.createElement(y.tH,null,u.createElement(Gn,{pageSn:ne,goodsId:cn,closeCategoryCard:Wo,lazy:Ya,webpEnable:Me,commonTrackingInfo:bo,trackingGoodsInfo:Eo,grayConfig:tt,optId:Pn,isSmall:!!(0,Ye.xo)(null==jo?void 0:jo.currency)})):null),Mi||null,ji||null,!Mi&&function(){var e=(null==ia?void 0:ia[0])||{},t=e.text,n=e.tagId,a=e.url;if(Fo)return u.createElement(Tt,(0,r.A)({data:oa},gt||{}));var o=91011===n;if(t){var i=Ce.kM,l=o?i:a;return u.createElement("div",{className:Ir().personalizationTag,ref:ri,style:{opacity:ai?1:0}},!!l&&u.createElement(w.Ay,{className:Ir().img,src:l,lazy:Ya,"arir-hidden":!0,alt:""}),u.createElement("div",{className:Ir().text},t))}return null}(),!ji&&u.createElement("div",{className:Ir().bottomTips},u.createElement(ae,{data:e,imageLazy:Ya,imageProcessParam:Hr,onMouseDownCart:mi,onQuickLookClick:pi,addCartTrackingInfo:Ar(Ar(Ar({},So),ho),{},{is_ad_tag:void 0}),classConfig:xt,grayConfig:tt}),!Ga&&(La?u.createElement(kr,(0,r.A)({},La||{},{webpEnable:Me,lazy:Ya,classConfig:null==xt?void 0:xt.watermark,serverTime:Dt,rowNum:Rt})):null)))),u.createElement(R.FT,{className:m()(Ir().item),id:"goodName-".concat(cn),title:Vt,fixed:!0,expandLeft:9,expandRight:9,expandTop:12},u.createElement(O.Ay,{className:Ir().nameWrap,seoUrl:Go,jumpUrl:Ro,onClick:Pr,index:te,pageElSn:re,url:Ro,generateMouseDownHref:hi},!(null==ua||!ua.length)&&u.createElement(he,{titleHeaderTags:ua,lazy:Ya}),u.createElement(zn.A,{name:Vt,showDiscount:et,discount:null==jo?void 0:jo.reductionTextStr,headerTag:dt,classConfig:null==xt?void 0:xt.goodsName,titleRow:Vn,titleRich:Sr}))),"function"==typeof Ot&&Ot(ie),u.createElement("div",{className:m()(Ir().saleInfo,Ir().item,(0,i.A)({},Ir().noCart,!Io))},u.createElement(Bn.A,{price:(null==po?void 0:po.showPriceStr)||(null==jo?void 0:jo.showPriceStr),pricePrefix:(null==po?void 0:po.unitPrefix)||(null==jo?void 0:jo.unitPrefix),priceSuffix:(null==po?void 0:po.unitSuffix)||(null==jo?void 0:jo.unitSuffix),marketPrice:Et?null:null==jo?void 0:jo.showMarketPriceStr,discount:Et?null:null==jo?void 0:jo.reductionTextStr,priceColor:(null==po?void 0:po.priceColor)||(null==jo?void 0:jo.priceColor),sales:Zt,salesArray:Qr,showDiscount:!et,noSalesTipText:An,classConfig:null==xt?void 0:xt.sale,isCrawler:Ga,isWindows:za,lazy:Ya,webpEnable:Me,className:Ir().saleInfoL,saleFireFlag:$n,useNewSalesTip:Kr,textBeforeMetrics:Ra,marketPriceIcon:null==jo?void 0:jo.marketPriceIcon,activityIconInfo:Fa,splitPriceText:(null==po?void 0:po.splitPriceText)||(null==jo?void 0:jo.splitPriceText),unitPriceStr:null==jo?void 0:jo.unitPriceStr,afterPriceShowPriority:gr,afterPriceTipText:yr,grayConfig:Ar(Ar({},tt||{}),{},{cp124199:xo||null==tt?void 0:tt.cp124199}),ignoreGoodsSaleInlineScriptEffect:qt,salesTipWithTime:_r,weakenCurrencyExp:Dr,activityType:vr,goodsId:cn,hiddenDiscountAfterPrice:!0,allLocationDataDictMap:Er,hasShowUnitSaleRef:$o,todayTags:da}),Io?u.createElement(I.Ay,{payload:ko},u.createElement("div",{ref:Br,className:Ir().addCartWrap},u.createElement(Un.A,{cartAmount:si,addCart:Fi,className:Ir().saleInfoR,onMouseEnter:Qa,onMouseLeave:Za,addCartText:Ui,onMouseDown:mi}))):null),!(null==jo||null===(V=jo.marketPriceIcon)||void 0===V||!V.showLowPrice)&&u.createElement(Fn.U,{data:{marketPriceIcon:null==jo?void 0:jo.marketPriceIcon,marketPriceStr:null==jo?void 0:jo.showMarketPriceStr}}),!(null==xa||!xa.length)&&u.createElement(Yn,{data:xa,className:Ir().bookAttributeTag}),!(null==Sa||!Sa[0])&&u.createElement(ye,{data:Sa[0]}),!(null==vo||null===(X=vo[0])||void 0===X||!X.text)&&u.createElement(Kn,{data:vo,goodsId:cn,grayConfig:tt}),ta?u.createElement(er,{ratio:$r,salesPercentStr:ea,className:Ir().item,withCart:ce,processTrackingInfo:Ke}):null,Et&&!Ct?u.createElement(ar,{marketPrice:null==jo?void 0:jo.showMarketPriceStr,discount:null==jo?void 0:jo.reductionTextStr,className:Ir().item,prefix:Rr("regularPricePrefix")}):null,Et&&Ct?u.createElement(ar,{marketPrice:null==jo?void 0:jo.saveTextStr,discount:null==jo?void 0:jo.reductionTextStr,className:Ir().item}):null,Oa?u.createElement("div",{className:m()(Ir().item,Ir().promotionTagDiscount)},u.createElement("div",{className:Ir().promotionPrise},(Oa.promotionPrice||[]).join("")),u.createElement("div",{className:Ir().promotionText},u.createElement("span",{className:Ir().promotionTextScale},Oa.promotionTag))):null,!(null==va||!va.length)&&u.createElement(lr,{firstInstallmentTag:va,lazy:Ya,className:Ir().payTag}),!!Qi&&u.createElement(rn,{displayEndTime:Xi,displayEndTimePercent:+Ki,displayEndTimePercentImg:null==Ta||null===(K=Ta[0])||void 0===K?void 0:K.url,processStyle:{background:null==Ta||null===(Q=Ta[0])||void 0===Q?void 0:Q.color},processWrapStyle:{background:null==Ta||null===(Z=Ta[0])||void 0===Z?void 0:Z.backColor},countDownStyle:{color:null==Ta||null===(ee=Ta[0])||void 0===ee?void 0:ee.color},className:Ir().processTag}),Zi,!!Xo&&u.createElement(xe,{data:Jo,className:m()(Ir().couponTag,Ir().item)}),Ho,ei?u.createElement(u.Fragment,null,Pt(ie)):null,Zo?u.createElement("div",{className:m()(Ir().rateAndSaleInfo,Ir().item)},u.createElement(zt.A,{score:(null==_n?void 0:_n.goodsScore)||Tn,scoreText:null==_n?void 0:_n.goodsScoreText,numTips:(null==_n?void 0:_n.commentNumTips)||wn,showScoreNum:Qn,scoreColor:null==_n?void 0:_n.scoreColor,grayConfig:tt,hiddenComment:(null==_n?void 0:_n.hiddenComment)||xo||(null==hr?void 0:hr.length),pageSn:ne,size:"18px"}),!!(null!=hr&&hr.length||xo&&Cr!==B.b_)&&u.createElement(Bn.A,{hiddenPrice:!0,sales:Zt,salesArray:Qr,noSalesTipText:An,isCrawler:Ga,isWindows:za,lazy:Ya,webpEnable:Me,saleFireFlag:$n,useNewSalesTip:Kr,afterPriceShowPriority:hr,afterPriceTipText:yr,salesTipWithTime:_r,goodsId:cn,allLocationDataDictMap:Er,hasShowUnitSaleRef:$o})):null,Qo?u.createElement(Gt,{brandTagLogo:Pi,brandTagText:Ni,className:Ir().item,grayConfig:tt,style:{color:Oi},tags:ra}):null,!(null==_a||!_a.length)&&u.createElement(Mt,{tags:_a,goodsId:cn,className:Ir().item,lazy:Ya,grayConfig:tt}),!(null==Ca||!Ca[0])&&u.createElement(ye,{data:Ca[0],className:Ir().mixBenefitTag}),ao?u.createElement(fr,{className:Ir().item,webpEnable:Me,imageProcessParam:Hr,setSkcIndex:co,currentSkcIndex:lo,setSkcLoading:ja,skcList:ro,commonTrackingInfo:bo,trackingGoodsInfo:Eo,skcTrackingInfo:kt,alt:nn||Vt}):null,!ke&&de?u.createElement(Di,{id:"".concat(cn,"5"),title:Vt,hidden:!0},u.createElement("div",null,u.createElement(de,(0,r.A)({},e,{onMouseEnter:Qa,onMouseLeave:Za,onAddCartClick:fi})))):null,ke?u.createElement(Di,{id:"".concat(cn,"6"),title:Vt,hidden:!0},u.createElement(I.Ay,{payload:ko},u.createElement("div",{ref:Br},u.createElement("div",{className:Ir().cartPlaceholder}),u.createElement("div",{className:Ir().cartBtn,onClick:fi,onMouseEnter:Qa,onMouseLeave:Za,role:"button",tabIndex:0},Rr("addCart"))))):null,u.createElement(Sn,null,u.createElement(br,(0,r.A)({},_n,{className:Ir().comment,lazy:Ya,webpEnable:Me}))))}))},95856:function(e,t,n){"use strict";n.d(t,{A:function(){return ee}});var r=n(61877),a=n(14242),o=n(56687),i=(n(34782),n(62062),n(33771),n(33514)),l=n(32485),c=n.n(l),s=n(50878),u=n(3240),d=n(73898),m=n(38487),p=n(43788),f=n(6356),v=n(74533),g=n(11286),h=n.n(g),b=n(38095),y="hidden",_="visibilitychange";void 0!==document.webkitHidden&&(y="webkitHidden",_="webkitvisibilitychange");var w,T={serverTime:null,startTime:null,nowTime:null,curTime:function(){return T.serverTime&&T.startTime?(T.nowTime=T.serverTime+Date.now()-T.startTime,T.nowTime):(T.nowTime=Date.now(),T.nowTime)},initServerTime:(w=(0,v.A)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.Fm)();case 2:t=e.sent,T.serverTime=t,T.startTime=Date.now(),T.nowTime=Date.now();case 6:case"end":return e.stop()}}),e)}))),function(){return w.apply(this,arguments)})};"undefined"!=typeof window&&T.initServerTime();var E=n(15138),S=(n(33110),n(28706),function(e){var t,n=e.max,r=void 0===n?59:n,a=e.parentDom,o=void 0===a?"":a,l=e.scaleEleRatioMap,c=void 0===l?{}:l;try{t=JSON.stringify(c)}catch(e){}return i.createElement("script",{dangerouslySetInnerHTML:{__html:"(function() {".concat('"use strict";var __assign=(this&&this.__assign)||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var __rest=(this&&this.__rest)||function(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++){if(e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i]))t[p[i]]=s[p[i]]}return t};var md=function(D,E){var F;if(E===void 0){E={}}try{var G={1:\'saleTips\',2:\'marketPrice\',3:\'discount\',4:\'unitPrice\',5:\'noSaleTips\',8:\'salesTipwithTime\',9:\'unitSale\',};var H={price:\'price\',saleText:\'saleTips\',marketPrice:\'marketPrice\',reduction:\'discount\',unitPrice:\'unitPrice\',afterPriceTipText:\'noSaleTips\',salesTipwithTime:\'salesTipwithTime\',priceText:\'priceText\',unitSale:\'unitSale\',};var I=[H.afterPriceTipText,H.saleText,H.unitSale,H.salesTipwithTime,];if(!D){return}var J=0.84;var K=0.88;var L=6;var M=6;var N=4;var O=\'width: 0px;opacity:0;margin:0;pointer-events:none;\';var P=D.querySelector("[data-type=price]");var Q=D.querySelector("[data-type=marketPrice]");var R=D.querySelector("[data-type=saleTips]");var S=D.querySelector("[data-type=discount]");var T=D.querySelector("[data-type=priceIcon]");var U=D.querySelector("[data-type=priceText]");var V=D.querySelector("[data-type=unitPrice]");var W=D.querySelector("[data-type=noSaleTips]");var X=D.querySelector("[data-type=salesTipwithTime]");var Y=D.querySelector("[data-type=unitSale]");var Z=function(){return{price:(P===null||P===void 0?void 0:P.offsetWidth)||0,marketPrice:(Q===null||Q===void 0?void 0:Q.offsetWidth)||0,discount:(S===null||S===void 0?void 0:S.offsetWidth)||0,saleTips:(R===null||R===void 0?void 0:R.offsetWidth)||0,priceIcon:(T===null||T===void 0?void 0:T.offsetWidth)||0,priceText:(U===null||U===void 0?void 0:U.offsetWidth)||0,unitPrice:(V===null||V===void 0?void 0:V.offsetWidth)||0,noSaleTips:(W===null||W===void 0?void 0:W.offsetWidth)||0,salesTipwithTime:(X===null||X===void 0?void 0:X.offsetWidth)||0,unitSale:(Y===null||Y===void 0?void 0:Y.offsetWidth)||0,}};var ba=function(){var a,_b;return{priceIcon:{ratio:((a=T===null||T===void 0?void 0:T.dataset)===null||a===void 0?void 0:a.ratio)?+((_b=T===null||T===void 0?void 0:T.dataset)===null||_b===void 0?void 0:_b.ratio):undefined,},}};var bb=function(a,b,c,d){if(c===void 0){c=true}if(d===void 0){d=0}if(b<=0){return O}if(a>=1){return"margin-inline-start:".concat(d,"px")}var e=b*(1-a);return"".concat(c&&b?"width:".concat(b,"px;"):\'\',"-webkit-transform: scale(").concat(a,") translateZ(0);transform:scale(").concat(a,") translateZ(0);margin-inline-start: ").concat(d?"".concat(d,"px"):\'\',";margin-inline-end: ").concat(e?"".concat(-e,"px"):\'\')};var bc=function(a,b){if(b===void 0){b=0}if(a<=0||a>1){return b}return Math.ceil(b*a)};var bd=function(a,b){if(a>=1){return 1}return Math.max(a,b)};var be=function(b,c){var d=0;Object.values(b).forEach(function(a){d+=a?c:0});return d};var bf=function(b){var c;var d=b.width,bn=d===void 0?0:d,_d=b.priceText,priceText=_d===void 0?0:_d,price=b.price,bk=b.attrsMap,map=__rest(b,["width","priceText","price","attrsMap"]);var e=be(map,L);var f=Object.values(map).reduce(function(a,v){if(v===void 0){v=0}return a+v},0);if(!f)return{};var g=map.unitPrice,unitPrice=g===void 0?0:g,_f=map.discount,discount=_f===void 0?0:_f,_g=map.marketPrice,marketPrice=_g===void 0?0:_g,_h=map.saleTips,saleTips=_h===void 0?0:_h,_j=map.priceIcon,priceIcon=_j===void 0?0:_j,_k=map.noSaleTips,noSaleTips=_k===void 0?0:_k,_l=map.salesTipwithTime,salesTipwithTime=_l===void 0?0:_l,_m=map.unitSale,unitSale=_m===void 0?0:_m;var h=f+priceText+price+e+M-bn;if(h<=0){return{unitPrice:!unitPrice?O:undefined,discount:!discount?O:undefined,marketPrice:!marketPrice?O:undefined,saleTips:!saleTips?O:undefined,priceIcon:!priceIcon?O:undefined,priceText:!priceText?O:undefined,noSaleTips:!noSaleTips?O:undefined,salesTipwithTime:!salesTipwithTime?O:undefined,unitSale:!unitSale?O:undefined,}}var i=be(map,N);var j=be(map,L-N);var k={};var l=(h-j)/(f+priceText);var m=1-l;var n=bd(m,J);var o=E.priceText||n;var p=((c=bk===null||bk===void 0?void 0:bk.priceIcon)===null||c===void 0?void 0:c.ratio)||n;var q=bc(n,marketPrice);var r=bc(n,noSaleTips);var s=bc(n,saleTips);var t=bc(n,discount);var u=bc(n,unitPrice);var w=bc(o,priceText);var x=bc(p,priceIcon);var y=bc(n,salesTipwithTime);var z=bc(n,unitSale);k.marketPrice=bb(n,marketPrice,true,N);k.saleTips=bb(n,saleTips,true,N);k.discount=bb(n,discount,true,N);k.unitPrice=bb(n,unitPrice,true,N);k.noSaleTips=bb(n,noSaleTips,true,N);k.priceText=bb(o,priceText,true,N);k.priceIcon=bb(p,priceIcon,true,N);k.salesTipwithTime=bb(n,salesTipwithTime,true,N);k.unitSale=bb(n,unitSale,true,N);if(m>=J){return k}var A=price+q+s+t+u+i+r+priceIcon+priceText+w+x+y+z+unitPrice-bn;var B=1-A/price;var C=bd(B,K);k.price=bb(C,price,false);if(B>=K){return k}return null};var bg=function(a,b,c,d,e){var f;if(c===void 0){c=[]}if(d===void 0){d=false}if(!b||!a){return{}}var g;var h=a.price,price=h===void 0?0:h,_c=a.priceIcon,priceIcon=_c===void 0?0:_c,_d=a.priceText,priceText=_d===void 0?0:_d;if(b-price<10){return{}}var j={};for(var i=0;i<(c===null||c===void 0?void 0:c.length);i++){var k=c.slice(i);var l=void 0;for(var m=0;m<k.length;m++){var n=l&&!a[l];if(!n){g=bf(__assign(__assign(__assign({width:b},a),j),(f={},f[l]=0,f.attrsMap=e,f)))}l=k[m];if(g)break}var o=c[i];j[o]=0;if(g)break}if(d)return g;if(!g&&priceIcon&&priceText){var p=b-price-priceIcon-priceText;if(p+priceIcon>=0){return{priceIcon:__assign(__assign({},O),{width:\'1px\'}),}}if(p+priceText>=0){return{priceText:O,}}}return(g||{priceIcon:O,priceText:O,})};var bh=function(a){D.className+=\' show\';if(a.price&&P){P.style=a.price}if(a.marketPrice&&Q){Q.style=a.marketPrice}if(a.discount&&S){S.style=a.discount}if(a.saleTips&&R){R.style=a.saleTips}if(a.priceIcon&&T){T.style=a.priceIcon}if(a.priceText&&U){U.style=a.priceText}if(a.unitPrice&&V){V.style=a.unitPrice}if(a.noSaleTips&&W){W.style=a.noSaleTips}if(a.salesTipwithTime&&X){X.style=a.salesTipwithTime}if(a.unitSale&&Y){Y.style=a.unitSale}};var bi=function(a,b,c){var d=a;if(!c.includes(a)){return b}if(!c.includes(b)){return a}for(var i=0;i<c.length;i++){var e=c[i];if([a,b].includes(e)){d=e;break}}return d===a?b:a};var bj=Z();var bk=ba();var bl=(F=D.dataset)===null||F===void 0?void 0:F.priorityList;var bm=bl.split(\'\').map(function(a){return G[a]});var bn=Math.floor(D.offsetWidth);var bo=void 0;var bp=function(){var b;var c=[];var d={};I.forEach(function(a){d[a]=0});var e=bm.length;for(var i=e-1;i>=0;i--){var f=bm[i];var g=!!bj[f];if(g&&I.includes(f)){c.push(__assign(__assign({},d),(b={},b[f]=bj[f],b)))}}return c};var bq=bp({map:bj,hiddenPriorityList:bm,});var br=bm.length;var bs={};for(var i=0;i<bq.length-1;i++){var bt=bq[i]||{};bo=bg(__assign(__assign({},bj),bt),bn,bm,true,bk);if(bo){break}}if(!bo){for(var i=0;i<br;i++){var bu=br-1-i;var bv=bm[bu];bo=bg(__assign(__assign({},bj),bs),bn,bm,i!==br-1,bk);bs[bv]=0;if(bo){break}}}bo&&bh(bo)}catch(e){}};',"var max=").concat(r,';var parentDom="').concat(o,'"?document.querySelector("').concat(o,'"):document;var doms=parentDom===null||parentDom===void 0?void 0:parentDom.querySelectorAll("[data-sales=true]");if((doms===null||doms===void 0?void 0:doms.length)>0){for(var i=0;i<doms.length;i++){if(i>max){break}md(doms[i], ').concat(t,")}};})();")}})}),k=(0,i.memo)(S),x=function(e){return e.DEFAULT="DEFAULT",e.SCALE="SCALE",e.NONE="NONE",e}({}),I=(n(50113),n(26099),n(79432),n(52675),n(2008),n(83851),n(44114),n(23500),n(81278),n(67945),n(84185),n(4146)),C=n.n(I),N=n(44798),A=n(89240),P=(n(16280),n(76918),n(23792),n(3362),n(47764),n(62953),n(54554),n(51118)),O=n(34477),L=n(64491),W=n(46694),D=n(97958),M=n(79085),j=n(39878);function R(e){return new Promise((function(t){setTimeout(t,e)}))}var G=function(e){document.dispatchEvent(new CustomEvent(D.b0,{detail:{data:e}}))},z=100010043,B=function(e){var t=e.goodsList,r=(0,i.useRef)(),a=(0,i.useRef)({}),o=(0,W.Sz)().isCrawler;(0,i.useEffect)((function(){null==t||t.forEach((function(e){var t=(null==e?void 0:e.data)||{},n=t.goodsId,r=t.currentSkuId;a.current[n]=r}))}),[t]);var l=(0,i.useCallback)(function(){var e=(0,v.A)(h().mark((function e(t){var n,r,o,i,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],null==t||t.forEach((function(e){var t=a.current[e];t&&n.push({goods_id:+e,show_price_sku_id:t})})),n.length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,(0,M.MW)({url:"/api/promotion/goods/discount/info/refresh/query",params:{goods_info_list:n}}).catch((function(e){var t=new Error("updateDiscountPriceError");(0,O.fL)(t,{errorMsg:null==e?void 0:e.message,goodsInfoList:n})}));case 6:r=e.sent,i=(o=r||{}).cancelDisplayTagMap,l=o.goodsDiscountInfoDisplayTagMap,Object.keys(i||{}).forEach((function(e){var t=(i[e]||{}).goodsPrice,n=(0,j.RF)(t),r=null==n?void 0:n.splitPriceText;G({goodsId:+e,hasSpecialOffer:!1,showPriceStr:null==n?void 0:n.showPriceStr,priceColor:null==n?void 0:n.priceColor,unitPrefix:null==n?void 0:n.unitPrefix,unitSuffix:null==n?void 0:n.unitSuffix,specialOfferTag:[{endTime:0,text:""}],splitPriceText:null!=r&&r.length?r:void 0})})),Object.keys(l||{}).forEach((function(e){var t,n=(null===(t=l[e])||void 0===t?void 0:t[0])||{},r=n.afterDiscountPrice,a=n.endTime,o=n.discountInfoTag,i=n.tagType,c=n.tagStyle,s=n.tagIcon,u=(0,j.RF)(r),d=null==u?void 0:u.splitPriceText,m={goodsId:+e,hasSpecialOffer:!0,showPriceStr:null==u?void 0:u.showPriceStr,priceColor:null==u?void 0:u.priceColor,unitPrefix:null==u?void 0:u.unitPrefix,unitSuffix:null==u?void 0:u.unitSuffix,specialOfferTag:[{endTime:a,text:null==o?void 0:o.tagStr,tagType:i,color:null==o?void 0:o.tagColor,extMap:{tagStyle:c,tagEndStr:null==o?void 0:o.tagEndStr,tagEndStrColor:null==o?void 0:o.tagEndStrColor,tagIcon:s}}],splitPriceText:null!=d&&d.length?d:void 0};G(m)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return(0,i.useEffect)((function(){if(!o&&!window.__TITAN_BOT__){var e=function(){var e=(0,v.A)(h().mark((function e(){var t,a,o,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,25698));case 2:t=e.sent,o=(a=t||{}).Titan,i=a.Unicast,o.usePlugin(i),r.current=new o({url:"wss://".concat(location.host),appId:10001,projectName:"bui-web-goods-list",bizType:z}),r.current.on("message",(function(e){var t=e||{},n=t.actionId,r=t.payload;if(+n===z){var a=(r||{}).goods_id_list;null!=a&&a.length&&l(a)}})),r.current.connect();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,P.i)((0,L.Km)()).then((function(t){t&&e()}))}}),[o,l]),(0,i.useEffect)((function(){var e=[],t=function(){var t=(0,v.A)(h().mark((function t(n){var r,a,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(null==n?void 0:n.detail)||{},(a=r.goodsId)&&e.push(a),t.next=4,R(1e3);case 4:for(;e.length;)(null==(o=e.splice(0,5))?void 0:o.length)&&l(o);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return document.addEventListener(D.DA,t),function(){document.removeEventListener(D.DA,t)}}),[l]),null},U=n(36002),F=(n(74423),n(21699),n(23418),n(31415),n(76280)),H=function(e){return e[e.noChange=0]="noChange",e[e.addToPurchase=1]="addToPurchase",e[e.reducePurchase=2]="reducePurchase",e}(H||{}),q=function(e){var t,n=e.datasource,r=e.pageSn,a=e.apiScene,o=e.grayConfig,l=e.setDatasource,c=(0,i.useRef)(),u=!(null==o||null===(t=o.cp99510)||void 0===t||!t.openCouponRefresh)&&["home","search","goods_detail_like","shopping_cart"].includes(a);(0,i.useEffect)((function(){u&&((0,M.ch)(),c.current=(0,P.i)(M.SP).catch((function(){return!1})))}),[u]);var d=(0,s.w)(function(){var e=(0,v.A)(h().mark((function e(t){var a,o,i,s,d,m,p,f,v,g,b,y,_,w,T,E,S,k,x;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.reduceGoodsIdList,o=t.addGoodsIdList,i=t.cartGoodsNumMap,u){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,c.current;case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:e.prev=8,m=[],p=0;case 11:if(!(p<(null==n?void 0:n.length))){e.next=23;break}if(f=null==n?void 0:n[p],v=f.data,g=f.refreshInfo,y=(b=v||{}).goodsId,_=b.currentSkuId,w=b.goodsListPromotionType,y){e.next=16;break}return e.abrupt("continue",20);case 16:T=H.noChange,null!=o&&o.includes(+y)&&(T=H.addToPurchase),null!=a&&a.includes(+y)&&(T=H.reducePurchase),m.push({goods_id:y,sku_id:_,last_goods_list_promotion_type:g?g.goodsListPromotionType:w,sku_change_status:T,cart_amount:null==i?void 0:i[y]});case 20:p++,e.next=11;break;case 23:if(null!=m&&m.length){e.next=25;break}return e.abrupt("return");case 25:return E=m.slice(0,200),S={listId:(0,N.A)(32),offset:0,pageSize:null==E?void 0:E.length,pageSn:r,scene:"refresh_search",goods_sku_pairs:E},e.next=29,(0,M.MW)({url:(0,M.wU)("api/poppy/v1/search",S),params:S,config:{useAntiToken:!0}});case 29:if(k=e.sent,null!=(x=null==k||null===(s=k.result)||void 0===s||null===(d=s.data)||void 0===d?void 0:d.goodsList)&&x.length){e.next=33;break}return e.abrupt("return");case 33:x.forEach((function(e){var t=e||{},r=t.goodsId,a=t.priceInfo,o=t.tagsInfo,i=t.goodsListPromotionType,l=null==n?void 0:n.find((function(e){var t;return(null==e||null===(t=e.data)||void 0===t?void 0:t.goodsId)===r}));l&&(l.refreshInfo={priceInfo:a,tagsInfo:o,goodsListPromotionType:i})})),l((0,U.A)(n)),e.next=40;break;case 37:e.prev=37,e.t0=e.catch(8),(0,O.fL)(e.t0);case 40:case"end":return e.stop()}}),e,null,[[8,37]])})));return function(t){return e.apply(this,arguments)}}());!function(e){var t=e.updateCb,n=(0,i.useRef)({});(0,i.useEffect)((function(){var e=(0,F.Xu)((function(e){try{var r=(e||{}).cartGoodsNumMap;if(!r)return;for(var a=[],o=[],i=Object.keys(n.current||{}),l=Object.keys(r||{}),c=Array.from(new Set([].concat(i,l))),s=c.length,u=0;u<s;u++){var d=c[u],m=r[d]||0,p=n.current[d]||0;m!==p&&(m>p?o.push(+d):a.push(+d))}t({reduceGoodsIdList:a,addGoodsIdList:o,cartGoodsNumMap:r}),n.current=r}catch(e){(0,O.fL)(e,{errorModule:"useCartGoodsUpdateDetailHook"})}}));return function(){e()}}),[t])}({updateCb:d})};function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(e){var t=(0,i.memo)((function(t){var n=t.defaultCartGoodsNumMap,r=t.apiScene,o=t.pageSn,l=t.grayConfig,c=(0,i.useRef)(n||{}),s=(0,i.useRef)([]),u=(0,i.useMemo)((function(){return(0,N.A)(10)}),[]),d=(0,i.useCallback)((function(e){var t=!1,n=c.current,r=e.map((function(e){var r,a,o=(null==e||null===(r=e.data)||void 0===r?void 0:r.goodsId)||(null==e?void 0:e.goodsId)||null,i=(null===(a=s.current)||void 0===a?void 0:a.find((function(e){var t;return(null==e||null===(t=e.data)||void 0===t?void 0:t.goodsId)===o})))||{};if(o){var l;if("number"!=typeof e.cartAmount)return t=!0,J(J(J({},i),e),{},{cartAmount:n[o]||(null==e||null===(l=e.data)||void 0===l?void 0:l.cartAmount)||0});var c=n[o]||0;if((null==e?void 0:e.cartAmount)!==c)return t=!0,J(J(J({},i),e),{},{cartAmount:c})}return e}));return t?r:e}),[]),m=(0,i.useState)(d(t.datasource||[])),p=(0,f.A)(m,2),v=p[0],g=p[1];return(0,A.B)({setDatasource:g,props:J(J({},t),{},{privateListId:u})}),(0,i.useEffect)((function(){var e=d(t.datasource||[]);g(e)}),[d,t.datasource,g]),(0,i.useEffect)((function(){s.current=v}),[v]),B({goodsList:v}),q({datasource:v,apiScene:r,pageSn:o,grayConfig:l,setDatasource:g}),i.createElement(e,(0,a.A)({},t,{datasource:v,setDatasource:g,privateListId:u}))})),n=e.displayName||e.name;return t.displayName="withCartAmount(".concat(n,")"),C()(t,e),t},X=n(45704),K=n.n(X),Q=["pageSn","pageElSn","isMainGoods","cartScene","rowNum","loadMode","className","pageGoodsNum","title","datasource","setDatasource","canAddToCart","CustomGoodsBtn","useCartBtn","forwardGoodsParams","openGoodsWithNewTab","openRecommendWordsWithNewTab","beforeClickCart","onGoodsClick","onQuickLookClick","onAddCartClick","onSkuPanelClose","onSkuPanelSuccess","hasMore","language","isShowSkc","isShowSimilar","isBackAutoShowSimilar","isShowBillboardTip","billboardTipProps","isBackAutoShowCategoryCard","webpEnable","grayConfig","cardWidth","useGlobalAutoFitListClassName","listClassName","goodsCardClassName","quickLook","startLazyIndex","imageRootMargin","showDiscountOnName","isOpenSaleInfoScale","saleInfoInlineScriptConfig","isShowHoverImage","skuParams","skuOptions","goodsNameTag","hoverTheme","isShowComment","isShowProcess","processTrackingInfo","commonGoodsTrackingInfo","skcTrackingInfo","showMarketInfo","classConfig","showSavePrice","renderTopTips","renderBottomTips","renderTags","renderTagsBeforePrice","userAgent","goodsConfig","serverTime","renderCustomizeTags","listId","emageProgress","hiddenTooltipItem","ignoreGoodsSaleInlineScriptEffect","getItemProps","privateListId"],Z=["data","refreshInfo"],$=(0,i.memo)((function(e){var t,n,l,v=e.pageSn,g=e.pageElSn,h=e.isMainGoods,b=void 0!==h&&h,w=e.cartScene,S=e.rowNum,I=e.loadMode,C=e.className,N=void 0===C?"":C,A=e.pageGoodsNum,P=void 0===A?20:A,O=e.title,L=e.datasource,W=e.setDatasource,D=e.canAddToCart,M=void 0===D||D,j=e.CustomGoodsBtn,R=e.useCartBtn,G=e.forwardGoodsParams,z=e.openGoodsWithNewTab,B=e.openRecommendWordsWithNewTab,U=e.beforeClickCart,F=e.onGoodsClick,H=e.onQuickLookClick,q=e.onAddCartClick,Y=e.onSkuPanelClose,J=e.onSkuPanelSuccess,V=e.hasMore,X=e.language,$=e.isShowSkc,ee=e.isShowSimilar,te=e.isBackAutoShowSimilar,ne=e.isShowBillboardTip,re=e.billboardTipProps,ae=e.isBackAutoShowCategoryCard,oe=e.webpEnable,ie=e.grayConfig,le=e.cardWidth,ce=e.useGlobalAutoFitListClassName,se=void 0===ce||ce,ue=e.listClassName,de=e.goodsCardClassName,me=e.quickLook,pe=e.startLazyIndex,fe=e.imageRootMargin,ve=e.showDiscountOnName,ge=e.isOpenSaleInfoScale,he=void 0===ge||ge,be=e.saleInfoInlineScriptConfig,ye=e.isShowHoverImage,_e=void 0===ye||ye,we=e.skuParams,Te=void 0===we?{}:we,Ee=e.skuOptions,Se=void 0===Ee?{}:Ee,ke=e.goodsNameTag,xe=e.hoverTheme,Ie=void 0===xe?x.DEFAULT:xe,Ce=e.isShowComment,Ne=void 0===Ce||Ce,Ae=e.isShowProcess,Pe=e.processTrackingInfo,Oe=void 0===Pe?{}:Pe,Le=e.commonGoodsTrackingInfo,We=void 0===Le?{}:Le,De=e.skcTrackingInfo,Me=void 0===De?{}:De,je=e.showMarketInfo,Re=e.classConfig,Ge=e.showSavePrice,ze=e.renderTopTips,Be=e.renderBottomTips,Ue=e.renderTags,Fe=e.renderTagsBeforePrice,He=e.userAgent,qe=e.goodsConfig,Ye=(e.serverTime,e.renderCustomizeTags),Je=e.listId,Ve=e.emageProgress,Xe=e.hiddenTooltipItem,Ke=e.ignoreGoodsSaleInlineScriptEffect,Qe=e.getItemProps,Ze=e.privateListId,$e=(0,o.A)(e,Q);l=Date.now();var et,tt,nt,rt,at,ot,it,lt,ct,st,ut,dt,mt,pt,ft,vt,gt,ht=(0,s.w)((function(e){return null==Qe?void 0:Qe(e)})),bt=(0,i.useCallback)((function(e){var t=e.index,n=e.data,r=n.data,c=n.refreshInfo,s=(0,o.A)(n,Z),u=ht(r)||{};return i.createElement(d.A,(0,a.A)({pageSn:v,pageElSn:g,isMainGoods:b,cartScene:w,key:r.goodsId},s,{index:t,canAddToCart:M,goodsInfo:r,skuParams:Te,skuOptions:Se,CustomGoodsBtn:j,useCartBtn:R,language:X,showDiscountOnName:ve,forwardGoodsParams:G,openGoodsWithNewTab:z,openRecommendWordsWithNewTab:B,beforeClickCart:U,onGoodsClick:F,onQuickLookClick:H,onAddCartClick:q,onSkuPanelClose:Y,onSkuPanelSuccess:J,webpEnable:oe,isShowComment:Ne,isShowSkc:$,isShowSimilar:ee,isShowBillboardTip:ne,billboardTipProps:re,grayConfig:ie,quickLook:me,startLazyIndex:pe,imageRootMargin:fe,isBackAutoShowSimilar:te,isOpenSaleInfoScale:he,isShowHoverImage:_e,isShowProcess:Ae,processTrackingInfo:Oe,goodsNameTag:ke,hoverTheme:Ie,isBackAutoShowCategoryCard:ae,commonGoodsTrackingInfo:We,skcTrackingInfo:Me,showMarketInfo:je,classConfig:Re,setDatasource:W,showSavePrice:Ge,renderTopTips:ze,renderBottomTips:Be,renderTags:Ue,renderTagsBeforePrice:Fe,userAgent:He,goodsConfig:qe,serverTime:l,rowNum:S,renderCustomizeTags:Ye,listId:Je,emageProgress:Ve,privateListId:Ze,ignoreGoodsSaleInlineScriptEffect:Ke,refreshInfo:c},u))}),[w,_e,Ve,Ze,R,j,M,ht]),yt=(null==L?void 0:L.length)||0,_t=(0,i.useMemo)((function(){return V&&S&&yt>S?yt%S:0}),[V,yt,S]),wt=(rt=(tt={accuracy:1e3}).accuracy,at=void 0===rt?1e3:rt,ot=tt.startCount,it=void 0===ot||ot,lt=(0,i.useState)(Date.now()),ct=(0,f.A)(lt,2),st=ct[0],ut=ct[1],dt=(0,i.useState)(!1),mt=(0,f.A)(dt,2),pt=mt[0],ft=mt[1],vt=(0,i.useCallback)((function(){!pt&&it&&(nt=setInterval((function(){if(!document[y]||"hidden"!==document.visibilityState){var e=T.curTime();ut(e)}}),at),ft(!0))}),[pt,at]),gt=function(){document[y]&&"visible"!==document.visibilityState?(window.clearInterval(nt),ft(!1)):vt()},(0,i.useEffect)((function(){return!pt&&it&&(vt(),document.addEventListener(_,gt)),function(){nt&&window.clearInterval(nt),it&&document.removeEventListener(_,gt)}}),[at,it]),st);et=I&&"manual"!==I||!S?L:_t?L.slice(0,yt-_t):L;var Tt,Et=(null==be?void 0:be.jsClassName)||"js-goods-list",St=null!=ie&&null!==(t=ie.cp116861)&&void 0!==t&&t.value?1200:100,kt=null!=ie&&null!==(n=ie.cp116861)&&void 0!==n&&n.value?500:0;return i.createElement(p.m_,{className:c()(N,(0,r.A)({},Et,!0)),hidden:Xe,delayShow:St,noDelayShowInterval:kt},O?i.createElement("div",{className:K().title},O):null,!V||null!==(Tt=et)&&void 0!==Tt&&Tt.length?i.createElement(u.RF.Provider,{value:{nowTime:wt}},i.createElement(m.A,(0,a.A)({wrapperClass:c()(K().autoFitList,ue,{autoFitList:se}),goodsCardClassName:de,itemKey:"goodsId",renderItem:bt,ssrRenderLength:P,datasource:et,hasMore:V,loadMode:I,itemWidth:le,useItemWrap:!(null!=$e&&$e.renderItem),useGoodsFilter:!(null!=$e&&$e.renderItem)},$e,{pageSn:v,listId:Je,grayConfig:ie,useCartBtn:R}))):i.createElement("div",{className:c()(K().autoFitList,ue,{autoFitList:se}),role:"region"},new Array(P).fill(0).map((function(e,t){return i.createElement("div",{className:c()(K().cardWrap,de),style:{width:le,padding:9},key:t},i.createElement(E.A,{useCartBtn:R}))}))),i.createElement(k,{parentDom:".".concat(Et),max:(null==be?void 0:be.max)||60}))})),ee=V($)},82256:function(e,t,n){"use strict";n.d(t,{Cy:function(){return o},nI:function(){return i},oV:function(){return a}});var r={},a=function(e,t){r[e]=t},o=function(e){return r[e]},i=function(e){delete r[e]}},97958:function(e,t,n){"use strict";n.d(t,{DA:function(){return r},b0:function(){return a},kM:function(){return o}});var r="discount_price_timeout",a="discount_price_info_update",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAqFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+/v7///////////////////////8OiAXtAAAAN3RSTlMA+wX894ELdN8g5cKqSzYQDse1j2cdFPLu056Yh25iW1U/L+nWzb+SfDstuIpRQykX4ti7slwmvpUHHAAAAYRJREFUKM99kul2gjAQhZMqqyAgiKIi4G5du877v1lvhqRH67GXHyT5cpnJJULLG4p/NPfd6jmtJZEs/yy+mMF5RBKPdcOGTuKn7YaFT+S+gafGYDs+dah75q7eibqhV1CXgrjd30MtScsFxlEC31yIK9bci6IZanXgHqiJA5elGskHiYeXPSUgSPb5TDBvPDWKr6DeRkOaCdYUw9W3PsvexYxpL9Z9ppi4DdNwabzLV2FkYeqowVdXUebhTTwlWW2XmnaovMuvsfkjHVDd1oOOWNbe6WP8Nc6vvYFase/5iaSmA64UaG40Q5RMo7bLQ6SBXR8X8KvWJB3YFaBUMjS5kasC3ilvjI0oNgFvg+urv+c3WM5W24gptMXevmqq4rsyDg0IOc9oRbTHO+8RBF7raykL5muik3CCwoQx4lb2UqITfGlDlKl2TJIT/YPAR8kkg3sn8jUAm3u5Pmf5G1+Km/jJ4/EsFkbVWJcL+GBOalVsNYqabPtR+Cj3XPYlHD6nHMIPSZA5l1zFDWgAAAAASUVORK5CYII="},3240:function(e,t,n){"use strict";n.d(t,{Ax:function(){return o},RF:function(){return a}});n(16280),n(76918);var r=n(33514),a=(0,r.createContext)({}),o=function(){var e=(0,r.useContext)(a);if(void 0===e)throw new Error("useTimeContext must be used within GlobalContext");return e}},89240:function(e,t,n){"use strict";n.d(t,{c:function(){return g},B:function(){return h}});n(79432),n(52675),n(2008),n(83851),n(44114),n(23500),n(81278),n(67945),n(84185);var r=n(61877),a=(n(50113),n(26099),n(62062),n(74423),n(21699),n(33514)),o=n(34477),i=n(82256),l=(n(23418),n(47764),n(23792),n(31415),n(62953),n(28706),n(76280)),c={cbList:[],goodsNumMap:{},instance:null,addGoodsIdList:[],reduceGoodsIdList:[]},s=function(e){c.cbList.find(e)||c.cbList.push(e)},u=function(e){if(c.cbList.find(e)){var t=c.cbList.filter((function(t){return t!==e}));c.cbList=t}},d=function(){c.instance=(0,l.Xu)((function(e){var t=(e||{}).cartGoodsNumMap;if(t)try{for(var n=[],r=[],a=Object.keys(c.goodsNumMap||{}),i=Object.keys(t||{}),l=Array.from(new Set([].concat(a,i))),s=l.length,u=0;u<s;u++){var d=l[u],m=t[d]||0,p=c.goodsNumMap[d]||0;m!==p&&(m>p?r.push(+d):n.push(+d))}c.goodsNumMap=t,c.addGoodsIdList=r,c.reduceGoodsIdList=n,c.cbList.forEach((function(e){try{e({addGoodsIdList:r,reduceGoodsIdList:n,goodsNumMap:c.goodsNumMap})}catch(e){(0,o.fL)(e)}}))}catch(e){(0,o.fL)(e)}}))},m=function(){"function"==typeof c.instance&&c.instance()};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t,n,r=e.unique_id,a=e.goods_id,o=e.item;return r?"".concat((null==o||null===(t=o.data)||void 0===t?void 0:t.uniqueId)||(null==o?void 0:o.uniqueId))==="".concat(r):"".concat((null==o||null===(n=o.data)||void 0===n?void 0:n.goodsId)||(null==o?void 0:o.goodsId))==="".concat(a)}var g=function(e,t,n,r){var a=r||{},o=a.onSkuPanelClose,i=a.onSkuPanelClear,l=t||{},c=l.goods_id,s=l.unique_id,u=(l.status||{}).un_add_cart;if(!c&&!s)return e;var d,m,p,g,h,b,y,_,w,T,E=n||{},S=E.isBackAutoShowCategoryCard,k=E.isShowSimilar,x=!1,I=e.find((function(e){return v(f(f({},t||{}),{},{item:e}))})),C=I&&(_=(null==(d=I)||null===(m=d.data)||void 0===m||null===(p=m.extendFields)||void 0===p?void 0:p.gdReturnShowOpt)||(null==d||null===(g=d.extendFields)||void 0===g?void 0:g.gdReturnShowOpt),w=(null==d||null===(h=d.data)||void 0===h||null===(b=h.extendFields)||void 0===b?void 0:b.showSimilarItemsOnSkuClose)||(null==d||null===(y=d.extendFields)||void 0===y?void 0:y.showSimilarItemsOnSkuClose),T=f(f({},d),{},{autoShowCategoryCardCount:0,autoShowSimilarCount:0}),i?(x=!0,T):k&&w&&o?(x=!0,f(f({},T),{},{autoShowSimilarCount:d.autoShowSimilarCount||1})):S&&_&&u?(x=!0,f(f({},T),{},{autoShowCategoryCardCount:d.autoShowCategoryCardCount||1})):T),N=e.map((function(e){return v(f(f({},t||{}),{},{item:e}))?C:f(f({},e),{},{autoShowCategoryCardCount:C&&C.autoShowCategoryCardCount>0?0:e.autoShowCategoryCardCount||0,autoShowSimilarCount:e.autoShowSimilarCount||0})}));return x?N:e},h=function(e){var t=e.setDatasource,n=e.props,r=n||{},l=r.isBackAutoShowSimilar,c=r.isBackAutoShowCategoryCard,p=r.privateListId,f=l||c;(0,a.useEffect)((function(){if(f){d();var e=function(e){var r=(e||{}).addGoodsIdList;try{var a=(0,i.Cy)("lastClickGoodsInfo");if(null==a||!a.goodsId)return;if((null==a?void 0:a.privateListId)!==p)return;t((function(e){try{var t;(0,i.nI)("lastClickGoodsInfo");var l=e.find((function(e){var t,n;return a.uniqueId?(null===(n=e.data)||void 0===n?void 0:n.uniqueId)===a.uniqueId:(null===(t=e.data)||void 0===t?void 0:t.goodsId)===a.goodsId}));return l?null!=r&&r.includes(null===(t=l.data)||void 0===t?void 0:t.goodsId)?e:g(e,{goods_id:l.data.goodsId,unique_id:l.data.uniqueId,status:{un_add_cart:!0}},n):e}catch(t){return(0,o.fL)(t),e}}))}catch(e){}};return s(e),function(){f&&(u(e),m())}}}),[])}},64585:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});var r=(0,n(33514).createContext)({disableLazy:!1})},52422:function(e,t,n){"use strict";var r=n(14242),a=n(33514),o=n(97582),i=n(54930),l=function(e,t){var n,l=(0,o.B)("bec-fe.svg-icons-h5"),c=l.t,s=l.i18n;return a.createElement(i.A,(0,r.A)({},e,{"aria-label":null!==(n=e["aria-label"])&&void 0!==n?n:s.exists("aria-label.CommonWrong",{ns:"bec-fe.svg-icons-h5"})?c("aria-label.CommonWrong"):void 0,ref:t,path:"M266.2 174.1l245.7 245.7 245.9-245.7c25.4-25.4 66.7-25.4 92.1 0 25.4 25.4 25.4 66.7 0 92.1l-245.8 245.7 245.8 245.9c25.4 25.4 25.4 66.7 0 92.1-25.4 25.4-66.7 25.4-92.1 0l-245.9-245.8-245.7 245.8c-25.4 25.4-66.7 25.4-92.1 0-25.4-25.4-25.4-66.7 0-92.1l245.7-245.9-245.7-245.7c-25.4-25.4-25.4-66.7 0-92.1 25.4-25.4 66.7-25.4 92.1 0z"}))};t.A=a.forwardRef(l)}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/js/4415_3c37704bc7e845d6c9ff.js.map