(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7782],{36713:function(e){e.exports={maskWrap:"_1pRjFPrT",isOverflow:"F_LngelY",popupWrap:"_3K4LSpAp",miniPopupWrap:"_1t_HggFX",wrap:"E3czaiDC",hideSecurityText:"_3iHlGUbL",miniWrap:"F5yqXdY0",titleWrap:"_1nq8f_Ny",title:"_24dxtd_r",content:"_3uaAvFXE",topGradient:"_3fj_5rn1"}},10562:function(e){e.exports={card:"_17WvqIVp",brand:"_2uE6uWd7",detail:"_2nNllbnr",cardNo:"_1PvGXUVn",expiryDate:"iMpd0esE",billingAddress:"_3QTnWYNi",title:"_3QFFIStR",entry:"_3hJx2fT2",rightArrow:"_17hBGky4"}},89145:function(e){e.exports={label:"_1c9y5pNd",fieldViewWrap:"_17au301R",fieldView:"IEE_Axms",fieldTitle:"_3dVTNUJY",text:"_2DfRO93y"}},46635:function(e){e.exports={label:"_1hvn_YDT",searchAddressItem:"_2ogCwwDs",splitHouseNumber:"rhJ4jZGK",divider:"_1Q3Ap2aI"}},46303:function(e){e.exports={label:"_1lYFEP_y",expandText:"Sso33dqX",expandIcon:"M0JkGzLt",expandTextV2:"_2aG-9sOX",searchBarNoFoundBelowTips:"_3s5hgTfq",or:"_2saJiSY-",button:"_3TCEjtEM",hide:"R70xOVrU",enterManuallyTip:"_2tFFWRkH",tip:"kNp8FgA8",customLabelName:"_3lidXLMX",isError:"_3FX8g8PH",popupSearchEntry:"_1guFzg0L",placeholder:"_1uX_Sxn6",searchIcon:"_1o40smhc",notFoundWrap:"_3_cciBNA",content:"_2Jfuu2ox",btn:"_2n3-okcW",onlyReadContainer:"_2mHRS6iF",deliveredTo:"fXQaXxBY",mainAddress:"_2DU7_OVK",subAddress:"YHzHrDRM",left:"_2F0cLtKH",locationIcon:"_1rZ1vMzI",right:"_2uoVBgmg"}},67230:function(e){e.exports={label:"rGedQTQW",searchAddressItem:"VVmEmgWV"}},59287:function(e){e.exports={label:"_386gyCRU",item:"_35wcfSM_",activeItem:"_1V1HhQ9_",rightIcon:"FOA2i7AV",option:"ZrXoAyFX",streetType:"_2v1ArKGG"}},16898:function(e){e.exports={loadingWrap:"Em6Fel3o"}},84255:function(e){e.exports={searchAddressItemWrap:"_15gZLEr-",searchAddressItem:"_3Swm8YVe",line1:"_395ag0Nj",poiNumMsg:"_3komW_34",icon:"_3fakmBMT"}},36234:function(e){e.exports={container:"_3AUj2KbJ",componentTitle:"_1YlrB6po",label:"_3HmzEk8_",optionaltext:"_1AGCOooB",requiredText:"_25PVWXML",fieldTip:"_1pHnq-3-",isRequired:"hsYK4sX6",componentSelectButton:"_6ZtnVhef",componentTopTips:"_3TLioWYt",tabsWrapCls:"_1uJ7eL1T",activeCls:"_1VPL713e",isolateError:"_18DeUOup",headerTips:"fXE0XOTd",componentSecureTips:"_1L-IZej7",componentSecureTipsIcon:"_3Qw5pQ4S",btns:"_14UZX5u7",btn:"WH2DTZ7-"}},58699:function(e){e.exports={block:"_15hhMb-I",submitContainer:"_3CtIdp4Q",container:"_64MI4Re8",container2:"_2E1YB_mF",loading:"_2rcPg-l0",miniLoading:"_1Mj2609b",errorView:"_3MUMUCz3",hide:"_3cs_yLaa",securityUnderButton:"FrkyoRxD",securityTips:"_30tEFm08"}},44166:function(e){e.exports={backDrop:"_2D_eYinT",content:"VT_iZIk1",fieldItem:"_3jx9Ftl0",fieldTitle:"HpJ9lM2r",fieldText:"_16Yd8Yz2",hasMargin:"_2zSdGyoC",tip:"_22-lJQdz",content2:"_1N45FvSv",displayFieldViewItem:"_3_0bdbow",label:"_1mxdBRSh",value:"_15hiJr0V",content3:"_3TSnqG9r",contrastView:"I6UfL3rz",topText:"_1xk77nB5",contrastViewMain:"qgLioq2B",arrow:"_1-SHysYj",currentField:"_1mL6pyZf",recommendedField:"_1coWP4lr",bottomTip:"_19cVt4IU",icon:"_1MVHSRY7",bottomTipText:"_2p1oU4yk"}},64103:function(e){e.exports={label:"_1EprWxRQ",item:"_1okhy69u",disableItem:"_3hR7BJFp",activeItem:"_2mqgIh96",disableRegionMsg:"_20N9s-Tg",icon:"_2PRrO1Yu",rightIcon:"_1kQ7RK4n",regionName:"_5XvFex8D",commonTitle:"_2mdfDdX_",commonItemWrap:"_9wQ7QKbE",commonItem:"_2s7bJrWB",customMenuList:"qClk-Q_0",countryRegion:"_3qjNMHk7",countryV2:"_1rkghB78",countryV2Label:"y73bxvia",countryName:"_3PPcnXxi",arrow:"_2feSIAEC",reverse:"_1CvhzyuA",menuListForV2:"_34oYMAWk",transform:"_21ujXaI_",countryRegionV2:"_3EE3yLRa"}},42371:function(e){e.exports={tabWrap:"rSM6QWE2",tabItem:"_3nEVsiB5",label:"_3a_KPEKU",input:"_5d6ih4RG",activeCls:"_2khJJirE",btns:"_1SL56AW1",btn:"_1O4clVk3"}},71108:function(e){e.exports={backDrop:"_2CLcrDCd",modal:"_3zC6rBk6",container:"fTeNY-lN",title:"_2oqmSwN1",confirmBtn:"_2a2WaPHx"}},25562:function(e){e.exports={questionIcon:"_1QQdZosh",popTip:"-WaZAk7E",tip:"QtohRDNZ",windowContentItem:"_1ifeGSJr",contentWrap:"vC3mh4VB",dialogContainer:"_2kGsj9T0",content:"_3W00L1Y2",securityIcon:"_1wstomM8",overlay:"_1vrJzlnS",popoverWrap:"_1DF4Q6L_"}},38135:function(e){e.exports={floatWindowRichTips:"_1GIoaFq2",section:"_2k7o18DK",content:"jPCUsIsG",imageWrap:"_3UP46ZY5",image:"DcWc9gxS",desc:"_24tfRzV1"}},90215:function(e){e.exports={foldTips:"rq8klwt9"}},99617:function(e){e.exports={instruction:"_3yH0NkA-",exampleWrap:"_39O3-yo2",pic:"_3WPrUcTs",text:"oet4JIUG",badCaseWrap:"rHbcyBcw",icon:"_2BWqyYI5",yes:"eJYYtzdN",no:"oiMjQEmN"}},81132:function(e){e.exports={upload:"_1vYLPf-E"}},4582:function(e){e.exports={label:"_3JyJIS-h",label2:"_3SpbiOee",isRequiredOrange:"_3EevB-Uu",isFloatLabel:"_1GBckgjF",isBeforeFieldTopTips:"_1w6z_1Hm",optional:"_9k2yqBzy",extraText:"_3UQkRDD4",tip:"_jRv91DW",headerTips:"kSeByzQC",headerTips2:"_2Q9HSmxo"}},3075:function(e){e.exports={poi:"_3Kdpuati",button:"_3UoFAd_F",locateIcon:"qh3OlBbk",arrowIcon:"_20dRxIAA",or:"_2SKvscVF",savedAddress:"RYDe3xKf",info:"_3Mct4rqB",infoTitle:"_2j4sUs8D",infoDetail:"_22a1IHZ8",imgWrap:"_1TY_46cB",img:"_2v9SQLgh",editButton:"_3Q92NGY9",editIcon:"_2NMpLt3Q"}},15906:function(e){e.exports={label:"_2g0ByNsc",input:"_3E-rsJyT",colorRed:"_1aTkOyWB",showWarningBoard:"_6g4CCChh",hasError:"_3zfpaidC",popoverWrap:"_3poua59K",popover:"_1_cEk6Im",translateTip:"_3CDzly3h",clickable:"_2AAJU-Nn",loading:"_10gt0H2c"}},87282:function(e){e.exports={title:"_3j6x75lO",notDeliveredModal:"_2TA1TM3x",notDeliveredContainer:"_2Bpnp1De",notDeliveredConfirmBtn:"M1W06Mh0"}},2467:function(e){e.exports={readOnlyContainer:"_1okAyHsm",editButton:"_14rlL6Ru",onlyReadField:"_2EzaufP0",onlyReadLabel:"_1oxFjjyn",fieldName:"_1AJibtau",fieldValue:"_2Xhk15r7"}},10223:function(e){e.exports={readOnlyContainer:"_3VGUe4jy",title:"_1zN_x6y2",blockTitle:"_3kw6D7Tt",expandButton:"_3HGU6FOb",address:"_3XNDm-PX"}},35780:function(e){e.exports={pageConfirmTips:"_10zashn-",icon:"_1slCEy0U"}},54306:function(e){e.exports={tipsContainer:"_8AE3oS1l"}},44759:function(e){e.exports={title:"_3ZGzXSCM",addressContentItemMain:"_2p-Wyy_8",addressContentItem:"_3vwamzfr",addressContentItemTitleWrap:"_1TrIB53y"}},21786:function(e){e.exports={phoneItem:"_2oayKhL8",activePhoneItem:"_2DDujP99",rightIcon:"_3qYq4UMD",regionName:"_2f-GOLhe",inputWrap:"_1OgIRDwU",input:"_4-vK_De2",hasError:"LRsXgbyJ",phoneWrap2:"_2db9ifcM",isFocus:"_2o3CrX25",arrow:"_24F6Zrhy",arrowOpen:"_1eZqQiZT",phoneWrap:"_1RZiGjAT",popoverWrap:"T-Y3-DD3",popover:"_2xHZiUWS",rtl:"RNNTW-MW"}},18663:function(e){e.exports={recommendList:"_35TRNE2e",item:"_2XWs07he"}},95941:function(e){e.exports={isRoundSearchBar:"_2a7Gdn3t",searchSelect:"_2Z_m3mvm",searchIcon:"_1hruyHkt",inputCloseIcon:"_1D85n6eq",colorRed:"Vl_9LB1_",colorActive:"_1lmgR9Sv",showWarningBoard:"_2VOyDXpM",isSearchBar:"Luri3RrX",hasError:"lfy8OElG",tip:"_19VLbkMT",prefix:"_5BGnKC3v"}},18360:function(e){e.exports={defaultWrap:"_3fCXH7R7",checkBox:"_-1frcyzX",sepWrap:"_1DwVVCb8"}},92179:function(e){e.exports={item:"_2hf8mIn2",activeItem:"mZ68kMBq",rightIcon:"GQDknWp1",regionName:"_33nmKZu0",label:"_1VLu0dyZ",stateCity:"swizF1od",editPop:"_2-Cx0OrK",empty:"_3qii3jvs"}},45878:function(e){e.exports={label:"_1o9LzAov",item:"_3gfSWap4"}},51423:function(e){e.exports={asyncSelectWrap:"_28n02-00",headerWrap:"_1uAV2f4B",item:"_30IcMsem",regionName:"_3V4F2522",postCode:"_2kryBJml",arrowIcon:"_1iedWd3y",selectedIcon:"SsN1hDke",activeItem:"So_7L0JP",inputWrap:"_2ApkP_-_",input:"_2XKFB-_5",clean:"_3dozAort",searchButton:"_3w6FxVTo",icon:"_2v17St2c",loadingWrap:"_2wK-UFUm",loadingMessage:"wPCxVbbS",loadingMore:"ISSU9AH5",errorView:"_2XY7mAKU",errorIcon:"_3vgQyL3_",notFoundWrap:"_3c029ZWs",desc:"_1KBFI3Cm",baseNotFoundWrap:"urDrFm_L",hasError:"_2PTH-AY2"}},16801:function(e){e.exports={asyncSelectWrap:"IiOz2VzN",headerWrap:"_2kH_4wan",item:"_1R4-sdff",regionName:"GKCdEf_0",postCode:"_2AjrNwMV",arrowIcon:"_2AhPU9-K",selectedIcon:"_2ny68MyU",activeItem:"_3QmSu4F7",inputWrap:"_3RMeTNXE",input:"_1f1ahTYd",clean:"_1OE3dz06",searchButton:"_3u27br9-",icon:"_30J0C2b8",loadingWrap:"_3eTbB6ye",loadingMessage:"_1yEcnRzt",loadingMore:"_1IRDVIHM",errorView:"_323JaWxL",errorIcon:"_1NikU5Wk",label:"MdNX7epz",stateCity:"_21e9iKv1",editPop:"_1DeoIeSb",empty:"BL7AHauZ",notFoundWrap:"Cpn0nMT5",desc:"_25qhbzdD",baseNotFoundWrap:"n8eEFqw7",hasError:"_3h6jjKDr"}},21849:function(e){e.exports={item:"_2TXDPTw9",activeItem:"Vw8fz16m",rightIcon:"_3-uuYznr",regionName:"_12j_rjSO",label:"HNNhkK4w",hidden:"_1sHE2UXO",stateCity:"_3kHNo-yM",editPop:"_1vxfqHrX",empty:"_2dvbNi1m",isCombined:"_3Hxov5na"}},64817:function(e){e.exports={regionReport:"_1al7jzI1",tip:"_2pilhoBt",link:"fjuW0xta",arrowIcon:"_39O0AjLM",button:"_2NH4VB0S"}},64095:function(e){e.exports={asyncSelectWrap:"_1SyR975g",headerWrap:"_3M8dUOO5",item:"_7PboUnXd",regionName:"_1NteycjG",arrowIcon:"Qo80t0ZQ",selectedIcon:"_2oxuN_DH",activeItem:"_2rDpBpAF",inputWrap:"_2mS1lATO",input:"_2XE1uNFw",clean:"_1PhvN9Lv",searchButton:"_2JnZw814",icon:"_1aa_sG9s",loadingWrap:"_9oz-Q5no",loadingMessage:"_35Wynuws",loadingMore:"_2mBpUZ5X",errorView:"FqUNPRx_",errorIcon:"AjoL1NR5",notFoundWrap:"_3DL2J5JI",desc:"_1Zx0RO9_",baseNotFoundWrap:"bg3Zonbe",hasError:"_1HYteKTn"}},88761:function(e){e.exports={item:"_1zANT_un",activeItem:"_1AS6fNxw",rightIcon:"_1c_mWj1Z",regionName:"_27JdDkEu",label:"_1I9iwnnB",stateCity:"_3mBIMEWG",editPop:"_20md9VzA",empty:"_1lsDU-0E"}},62617:function(e){e.exports={submitBtn:"_1oJhDUB3"}},38832:function(e){e.exports={customContainer:"NTVW54FP",customDialog:"_2WKdMune",backButton:"_3t9ABaZD",button:"Ekv99DVu",title:"_3a_r16VL",content:"_wJoBNIv",mainTitle:"_1L39BpOh",detail:"_2D6eQ8ce",sep:"_3oXSTJJx",link:"_1tKd3e-Y",arrow:"fu0XCIns",subTitle:"_2vn9oBzC",img:"_1bxTm7LK"}},55333:function(e){e.exports={taxCodeWrap:"_2pkBOvWP",tips:"pfmJ9jyt",isFirst:"_3wnjaau1",label:"_1iu4NrEw",input:"_2D77s3Uh",radioWrap:"AHnbXSGt",headerTips:"_1y_lN1yo",warnIcon:"_3oxLKL4B"}},98811:function(e){e.exports={alert:"-s5Vd9es",icon:"_1bKo1Slr",outlinedIcon:"_3qIhH-_Z",linkText:"_2MlAFmlO",onlyIcon:"_1Q7cZc06",eventIcon:"_2NRY9x0e",noMarginBottom:"_3fhH_8ZT",orange:"_1a81dygh",warnIcon:"_3JkpV6Rt",noEnhanceBorder:"_2EVwcvOg",noBorder:"_2EdIldtF",filled:"kQGk5lFK",richText:"GBa1zdzH",floatWindowContainer:"_1fj8n_4i",floatWindowWrap:"_1ItTycUG",securityImage:"_2oEln3G7",windowTitle:"_1ubUhaw8",windowContent:"_3vaLfCfu",windowButtonAboveTips:"_11vf1gXP",section:"m6Npem8s",content:"_1cliZ7mp",imageWrap:"_3N4MPrx9",image:"_1yuOSmrf",desc:"_3cmL_-J3"}},2286:function(e){e.exports={replaceableBottomPrompt:"_2dxhFoEs",validateText:"Lg_XVjJt",warnIcon:"_2geNCfRn",warningText:"_2eKpjK3V",show2Line:"_3r7KevKT",fieldTips:"_18QPpBn6",fieldTipsType1:"_23QMHa_m",fieldIcon:"_2jOK5_X9",fieldAboveTips:"_39VLovlz",fieldRichTextTips:"_1KoxWKP8",jumpUrl:"_3JM1TUqu",isSlave:"_2caRvk35",visibleWhenIsSlave:"_2K29NQZa",customQueryRecommendBlockTip:"_11jgrEXy"}},28751:function(e){e.exports={label:"pbqGM2pZ",item:"_3HgyRuIJ",notFoundWrap:"_39JLa75G",title:"_2Lha59bb",postCodeSearchNoFoundActionText:"CEEEDfS0"}},12328:function(e){e.exports={wrap:"_27pHG9JD",formWrap:"jmNlik6m",title:"_1v-WnyFL",tip:"_1rCGAZOw",label:"za9BByaB",input:"pw0WHBQH",footer:"SlPKw6pF",confirmButton:"_1gtuK9O2"}},7141:function(e){e.exports={maskWrap:"_2mRXXPQ5",isOverflow:"_3y8O5-YO",popupWrap:"_145QYJGS",wrap:"_36HxqcD-",mapWrap:"_1KF6QUNB",standardMapWrap:"_3C0wjwhP",content:"_2kEXamRt",animate0:"_28BwbcjX",animate1:"_B8CdNQE",animate2:"_1q0iZAN8",loadingWrap:"_1JN8EZax",errorViewWrap:"_1mGHvAdH"}},130:function(e){e.exports={panel:"_3JI4vCFn",titleWrap:"_2Wiifm_Q",title:"_1e8K7Fnz",content:"_2Li4Mj5R",location:"_1JCSLqPv",locationLeft:"_10_Llfd0",icon:"_2w_VEqB_",locationRight:"_2FpeD4LX",locationRightIcon:"_2B8jS0JL",pickupPoint:"_2rPklAFG",name:"_2PsNcm0n",address:"_3fOggkMn",hours:"_20hkizX4",lead:"_35yyLa3s",hourWrap:"_1iDpTtcy",isOpen:"_3o53eMmB",hour:"_1jrRgK6b",isLastOne:"_324PYyNS",more:"doV_uYiT",main:"_28iGy0Q_",tips:"_3XkAZ0zH",warnIcon:"_1egKtUd8",form:"_3lRfe6pg",buttonWrap:"nwys2r87",footer:"_3v8u8z3n",confirmButton:"_3sljaoU5"}},49548:function(e){e.exports={panel:"_2rGhG9PL",head:"_2x7PwDo2",title:"_2uZNmUZB",content:"ake6bAwP",mapSearchList:"_17uHIPnT",customAutoComplete:"_1XmtT59V",mapSearchListTips:"_3KjCnSJl",portalTabsWrapper:"_1GVnb82i",placeInfo:"_1zXTnn9C",main:"_3O4uTey-",icon:"_1QANgJ9d",top:"_3agMqe93",distance:"_1-WTPJvH",middle:"_3G64nw2K",bottom:"_3AaY6laJ",hour:"_1JcJIQhk",isLastOne:"_2rGnMC5l",btn:"_1-gFPfrG",locateIcon:"_1raz_0T-",list:"_39pBhk9V",item:"rveKnfDz",left:"_1qiU6RDE",right:"_1802EaR1",name:"_3pX82tnP",logo:"_1xsQFL8g",sub:"_2qTKTiwe",lead:"_1ap3XjyE",hourWrap:"_3IXVoEEg",isOpen:"eaWiGiRx",more:"_1CAp42JG",lastItem:"_1NRKWj34",activeItem:"_1HXyjdUw",noMarginTop:"_38IgQJAx",footer:"_3mGUUOMT",confirmButton:"QZcu2YCQ",topGradient:"_22BUhHHX",bottomGradient:"_2dGD8VJK",customLocateMe:"_18M-5c_E",customZoomControl:"i56QDj4l",simplePlaceInfo:"_22UT0tGP",emptyWrap:"_11QTP5qL",desc:"_2-c_kbYS"}},98505:function(e){e.exports={label:"_1p1b0NGA",tip:"_3km3xleO",input:"_1LRg0hEu"}},66053:function(e){e.exports={postNumberWrap:"RnNlBSkz",label:"VsWamca1",input:"_5GUPkRSO",fieldTip:"_3kjqXCyF"}},63956:function(e){e.exports={panel:"pUd2QtO-",head:"_1tQT7oAe",title:"JcueEIlg",content:"_3ZDUr83S",fixedSection:"nBkgJ9Xz",tips:"_2pxbDOyv",warnIcon:"kdJtB-3O",viewInMap:"TDSa5a4z",locationIcon:"_ImWrATJ",arrowIcon:"_1sqVZyHN",list:"_25iR5HH5",item:"DdeCNNHT",left:"_1En11jDf",right:"p7ZcRBPo",top:"_13nWRedI",nameAndDistance:"_3Y9l7LSq",name:"_2yKXu7qe",logo:"_1EMH1mT_",sub:"_1eFCs667",distance:"_1RB9CRhD",button:"_2lsS7v6H",middle:"_3w4rWaD9",bottom:"_3P7pbZrq",hour:"_2b31uRCf",lastItem:"IM_SRaqf",activeItem:"vbNMUcUK",topGradient:"_3AWbBbrR",back:"_259L_WRU",searchInput:"_3Y2A3Dkp",loadingWrap:"ilfP81mx",emptyWrapper:"_2rW-zkeW",link:"_29JTTfbh",footer:"_1OBTmJC8",confirmButton:"_6edWR8tG"}},86428:function(e){e.exports={searchSelect:"_2Xmlna1O",clean:"_76-RiFSj",item:"_3mI4gKed",text:"_3u8J29_6",arrowIcon:"_1mFAgCfO"}},8076:function(e){e.exports={tabsWrap:"Ud0EQ9LR",capsuleWrap:"MY3057Ef",capsuleInner:"XRnCjSD_",capsuleActive:"_3g_9IECx"}},29934:function(e){e.exports={label:"_3GzgCQE-",blackLabel:"uISsgH4C",input:"_2djw_EjF"}},34043:function(e){e.exports={maskWrap:"WvOuRLBL",isOverflow:"_2FkwKvCn",popupWrap:"_1FxPRQe0",wrap:"_334N1jbx",main:"_3Rupth3m",title:"_3UhkiRZx",subTitle:"_2VgDdufG",footer:"_3XgqvrIn",confirmButton:"_1QMrk2Qv"}},21465:function(e){e.exports={content:"_3vpRI3tO",tip:"_3S6pRrrL",warnIcon:"_3TRSkbsi",addressContent:"_1ErmMKY3",addressContentItemMain:"_2FpnmdYP",addressContentItem:"_3j60NQDP",addressContentItemTitleWrap:"_1Yd70HPU",addressContentItemTitle:"_2unGVgdW",addressContentItemText:"_27XsvUl4",mainButton:"_2WUlc9hT",titleRichList:"_1qs223Lh"}},42651:function(e){e.exports={container:"_9HTzuQpx",hidden:"_3xB2Wpg3",head:"_1mgMoRFu",stickyHead:"_2tysbqtj",title:"_17K9BOM_",contentWrap:"_3ujE54ZG",contentScroll:"_2z0jMpNM",content:"_2smGlZeO",tip:"_1squzj2z",warnIcon:"_1Jb0-9PQ",addressContent:"_3yl8pWMD",addressContentItemMain:"_1j-qPtVb",addressContentItem:"_3pxssMga",addressContentItemTitleWrap:"_2HRaNT8W",addressContentItemRadio:"FnDP21Ra",addressContentItemTitle:"_6p_RNxDz",addressContentItemText:"_1tp-ObPs",warnTip:"_2gVBpsWb",textButton:"_3UNYUX-B",rightArrow:"_3kVsM-IM",foot:"_3HQK0n7O",stickyFoot:"_1K0HLwK6",gradientFoot:"_2_e_8oyj",buttonWrap:"_1RrcLpMf",mainButton:"_18lbdkU2",subButton:"_1wG4444P"}},97850:function(e){e.exports={maskWrap:"_1P0XwIWt",popupWrap:"_1I0wtLk3",visible:"EKgbKerz",mapWrap:"_3Ni8W_GP",title:"CeWw6o3K",subTitle:"_29MTP0rK",tip:"_1QDo1Zbs",arrowIcon:"_2UymvMkW",tipButton:"_1nqf_3Gh"}},841:function(e){e.exports={locateMe:"lmng93Qa",icon:"_1q2n8BtM"}},38255:function(e){e.exports={wrap:"_2Kxd8hKY",map:"YMX4cSoY",hide:"_1FJUHy3D",errorView:"_2c6nCTK7",retryBtn:"_2SbIfsyQ",tip:"_1ijUTJV4",tipClose:"_1pf-EJ-H",infoWindow:"_2OKqXkeF",info:"_22oneHA0",btn:"B0IP8U6s",locateIcon:"_2a4-U1bV"}},69272:function(e){e.exports={placeInfo:"_2MpuOdU9",main:"_1CLxomvR",icon:"_1ogwuxMa",info:"ELbg6nZ6",btn:"_1bbgCcav"}},64941:function(e){e.exports={autoComplete:"iSSJt4UM",option:"t_G9sH5P",inputCloseIcon:"Y-zV7-5g",searchButton:"_1Gsg-MTE",icon:"_1To6O-Ca",tip:"_1e2R8CCa",google:"_1PHIPWtN",customTip:"vhTngCJ6",highlightText:"_2oxw8vAQ",arrowIcon:"_12snWwJx",emptyWrap:"o5d2-nwe",emptyTitle:"_1lbQMkWa",loadingMessage:"_1Bz5bSEJ"}},80834:function(e){e.exports={zoomWrap:"_2Z4Ecm7_",zoom:"TUr9XDRS",icon:"_1icUK33H"}},17203:function(e){e.exports={maskWrap:"_3Djf2chj",isOverflow:"_3M9R_wT-",popupWrap:"_2mmWHrW2",listWrap:"zbvq-vrG",content:"_3X_lnziP",title:"_1efnhu3g",billAddressListTitle:"_2NA_fF6m",contentItem:"lYWMAyj-",leftAni:"_1vgPcYty",animate0:"_3FvSi1UK",rightAni:"_3W8npq2E",animate1:"_7pVHi5Nz",animate2:"_3OvyhrxG",addressList:"_3qKCp0bU",addressListInPage:"_2ZupN38C",editHead:"_1QLH0Ud_",cardInitEditHead:"_17QmcqXA",cardEditHead:"nMbIXLgu",cardListHead:"_2KJ37mN_",cardListBack:"_2ONHqYP3",topGradient:"_1l6OmUvo",bottomGradient:"_8MlPKINV"}},47409:function(e){e.exports={btn:"Cs_sS2_Y",navAdd:"_23cjqOKT",addText:"_3LH6Pe3G"}},84585:function(e){e.exports={wrap:"_1InAqjs4",addressInfo:"_5rLyoVZ1",left:"_3VqePpij",editHotZone:"_1VUoxSNg",user:"_3EJ82aS9",hasUserInfo:"_2M-vNNpx",name:"_3l9OWPqM",mobile:"_2KULO_6t",address:"_1MfadH5q",region:"_1Xum25rC",cardAddressContainer:"_1sFeQc_q",usedContainer:"_2h_TmqMR",cardAddressDeleteArea:"_1bpvkJWx",used:"_3rofQVBd",notUsed:"_2F1hsdGH",billBtn:"_2kxaKddG",btnWrap:"_2owHKEU_",default:"_3T59yAlD",showDefault:"h5E6WYZ8",checkIcon:"xVeVND94",operateArea:"_1LYWCOrM",operate:"_3uepS-XD",sep:"_2xx1Mb37",overlay:"_28zlZ3vO",btnArea:"_1aff0GBz",cancelBtn:"_18n3eVFp",confirmBtn:"_2vaUDm4n",editIcon:"_3wDO9X6q",tip:"xbR2HuCF",tipIcon:"bi-cn9m8",btns:"_1r3xWfjL",btn:"rlzVPIXE",addressRowItem:"HU22hFNo",isBold:"suHFCW3b",disableUseArea:"_2eZ6Lbcg",disableMsg:"_1L2Qc3-g",lastUsedAddressTag:"_3c_S1U6V",pickupHeader:"_2VOEp261",pickupHeaderBtn:"XNFI-lx2",pickupHeaderTitle:"_2aAlHRMP",locationIcon:"_2Ta-ZVt5",addressUsedTips:"_2F9IuOVo",clickable:"_1zDA4i6x"}},47714:function(e){e.exports={errorMain:"_34ObWEu-",flexcolumn:"_1HXQUizI",errorRight:"_2g62eSdh",errorButton:"cDCmjD4y",text:"_2pgxkynP",warnIcon:"u41U0tsg",type2:"SYUC0uKT",type1:"TTF11Aau",type0:"_1Eqn6wTt",type3:"_1N7HJifq",compositeAddressRichFont:"_2M-7wfip"}},89896:function(e){e.exports={wrap:"ZxP6CmLs",loading:"_202ZA-vO",icon:"_2mfh9Cwk",empty:"u26TxCaR",emptyInPage:"tjKc3GDH",kongtaiDizhikong:"_1bBcUgWJ",leading:"_3vzAbw2t",security:"_9ZFc2zCo",securityInEmpty:"_1zUZMMd4"}},71161:function(e){e.exports={prefixClsRtl:"_2CclJeEK",prefixClsSeparator:"_35FLJ3aN",prefixClsLink:"_2RyWajdT",active:"_2BB2QNLU",arrow:"_2rO10CUB",h1:"_22v_d0x2"}},32160:function(e){e.exports={closeIcon:"_3DlFNn_S",mouseLeave:"yqqSv_fL",mouseEnter:"_2AhLXs7Q"}},71968:function(e){e.exports={rootContainer:"_1Crcmg9n",container:"_2ZMKXVRU",title:"_2HlPBcHZ",text:"sj9N7DqB",textWithNoTitle:"EQWEtuKd",tips:"_3ism1LBk",footer:"_2bjTENGi",yellow:"BwASoWQK",button:"_11BvbIMh",confirmButton:"_2maMzePQ",singlButton:"gZboqXn5"}},83336:function(e){e.exports={content:"_2A2jaTuL",daysHeader:"EHhLj4d0",daysHeaderItem:"_1A3W0We1",daysContainer:"_2ZVEEoHJ",calendarDateOption:"IItn5VVR",hiddenOption:"_3yUZZrei",disableOption:"_20GkBZW0",arrowWrap:"_122UGjUy",monthHeader:"_1VZsmHNn",arrow:"khCeJWGj",isOpen:"_3jd9eUsG",title:"_3E7dis55",disable:"_3p6I3ylz",calenderWrap:"_1bZbMI2R",dropDownWrap:"dalw5vez",item:"_1_W8RS9S",list:"_2fxGA2Ik",listItem:"_3rbeC2B4",selectedIcon:"_2M69i-3D"}},15227:function(e){e.exports={arrow:"l_ma0iww",arrowOpen:"_1ZxnxlK5"}},988:function(e){e.exports={box:"PABWwNAE",icon:"YwY9Xl6G",title:"n3mNt17u",desc:"_3ct96j59"}},46658:function(e){e.exports={gradient:"_34ivD6At",top:"_2jeUP8Sz",bottom:"_1601TFT-"}},26736:function(e){e.exports={head:"cPkOWUAj",backWrap:"_2RqTiAir",showBackWrap:"_1vZnbZ60",backIcon:"_2v53kqWJ",closeIcon:"_3G7lHDeK",mouseLeave:"_3dHeiSXz",mouseEnter:"_3HUl41lp"}},62319:function(e){e.exports={headerTips:"FY9_KNNA",warnIcon:"_2kpAsErZ",outlinedIcon:"_8IFPGMbw",linkText:"_2-X3HLiN",arrow:"_3ShVLtgI",orange:"q-u3PiJN",noBorder:"_3UzDH3Mi",filled:"_2Pl6h6bB",richText:"_1tLlXD1E"}},18424:function(e){e.exports={inputWrap:"_1Ctqd0_g",prefix:"_1fo2dtac",isFocus:"AwPm0oYn",input:"U08v6aNg",withPrefix:"_2cgfLkHi",inputCloseIcon:"_1jxqxVZ4",hideInputCloseIcon:"_1BdpL4eF"}},4252:function(e){e.exports={block:"_3H3dCfJx",submitContainer:"_2rqodPlY",loading:"dyJSxM5e"}},90546:function(e){e.exports={inputWrap:"_3I0SLw6y",input:"XpcPiW4B",inputCloseIcon:"pv8RFLtu"}},49193:function(e){e.exports={wrap:"fhcIl8Hn",radio:"_10S2a6pb",checkIcon:"_1gpQSApK"}},39064:function(e){e.exports={cancelButton:"_6r-tBqag",saveDraftTip:"_3d55ikFI"}},56861:function(e){e.exports={richText:"_2xWTGm9-",richTextItem:"CDSxbR8a",clickable:"_35OJSw2L",icon:"_1TismxPk"}},88848:function(e){e.exports={placeholder:"ZOXv4t5f",security:"_2zxOu-DY",clickable:"_2WilFX-M",isPop:"_2UDcjIKt",icon:"_3uGxh665",arrow:"_36gtQjWA",securityImage:"_2MsM6L8u",securityEnhanceText:"AKWcmOA2"}},52163:function(e){e.exports={container:"_1jrybLK8"}},31024:function(e){e.exports={wrap:"_2SgazWHI",checked:"_2Fm-qQnP",selectIcon:"cIV7GH7u",noCheck:"_2b0ompDe"}},8058:function(e){e.exports={arrowWrap:"m1Gy5P8T",dialogClose:"_1B1IdNny"}},49657:function(e){e.exports={upload:"_1_ZqU0zr"}},19745:function(e){e.exports={fileDialogOpener:"_2sqC2DuH",icon:"_2P2J5Ed5",newBorder:"_2NqYDsUv",filePreviewList:"_2jf5h-PD",previewItem:"ulkkPg4V",thumbnail:"_1-V-ItdH",percent:"_3AwEVgaw",previewButton:"Y7Az4Q91",playButton:"_3Ojtxvpa",playIcon:"Xmdlzgt-",retry:"_1cYpxKmG",retryIcon:"_2p_Diyl4",deleteIcon:"_34MWqiFc",progress:"_3uMZP1ks",graphOuter:"_2e-F9cJA",graphInner:"_2ia155nn"}},69082:function(e,t,n){"use strict";n.d(t,{A:function(){return R}});var r=n(61877),o=n(74533),a=n(6356),i=n(11286),l=n.n(i),s=n(33514),c=n(32485),u=n.n(c),d=n(14511),p=n(97582),m=n(99117),f=n(99908),g=n(73035),v=n(59661),b=n(94995),h=n(44458),E=n(24148),_=n(33546),y=n(60043),A=n(90930),S=n(66808),C=n(76394),I=n(54639),O=n(91793),N=n(10562),w=n.n(N),x=function(e){var t=e.onChooseOtherAddress,n=(0,p.B)("bec-fe.web-address").t;return s.createElement("div",{className:w().cardContainer},s.createElement("div",{className:w().billingAddress,role:"button",tabIndex:0,onClick:t},s.createElement("div",{className:w().title},n("cardHead.title")),s.createElement("div",{className:w().entry},n("cardHead.entry"),s.createElement(O.A,{className:w().rightArrow,"aria-hidden":!0}))))},k=(0,s.memo)(x),P=n(75813);var T=n(36713),D=n.n(T),R=(0,A.A)((0,d.W4)())((function(e){var t=e.isEdit,n=e.isPop,i=void 0===n||n,c=e.onClose,d=e.hasMultipleAddress,A=void 0===d||d,O=e.addressItem,N=e.localInfo,w=e.onSuccessCb,x=e.onFailCb,T=e.defaultAddressItem,R=e.isGuestMode,L=e.parentOrderSn,j=e.wrapClassName,M=e.isShowEditNav,B=e.backText,F=e.title,W=e.onBack,U=e.btnText,V=e.styleObj,H=e.allowCloseOnEsc,G=e.notDeliveredList,K=e.needSubmitToast,z=e.onSuccessToast,q=e.isShowSetDefault,Y=e.isCardAddress,J=e.hideCardInfo,Z=e.hideSecurityText,Q=e.onChangeCountryRegion,X=e.formHeaderSlot,$=e.needShowDiffDrDialog,ee=e.needShowDiffSiteDialog,te=e.needSaveContract,ne=e.addressDisplayType,re=e.switchDiffDrAction,oe=e.switchDiffSiteAction,ae=e.countryScene,ie=e.addrScene,le=e.editAddressScene,se=e.interactionMonitor,ce=e.extraRequestInfo,ue=(0,p.B)("bec-fe.web-address").t,de=(0,s.useState)(null),pe=(0,a.A)(de,2),me=pe[0],fe=pe[1],ge=(0,s.useState)({}),ve=(0,a.A)(ge,2),be=ve[0],he=ve[1],Ee=(0,s.useRef)({num:0}),_e=be||{},ye=_e.securityTxt,Ae=_e.retainNum,Se=void 0===Ae?0:Ae,Ce=(0,s.useState)(!1),Ie=(0,a.A)(Ce,2),Oe=Ie[0],Ne=Ie[1],we=(0,s.useRef)(null),xe=(0,s.useRef)(null),ke=(0,s.useRef)(!1),Pe=(0,S.A)().isOverflow,Te=(0,s.useState)(),De=(0,a.A)(Te,2),Re=De[0],Le=De[1],je=le===y.FC.PaymentSuccessTaxCode,Me=F||ue(t?"editAddressTitle":"addAddressTitle"),Be=(0,s.useCallback)((function(){var e,t,n,r,o=null===(e=we.current)||void 0===e?void 0:e.hasFormEdited,a=!1===(null===(t=we.current)||void 0===t||null===(n=t.abMap)||void 0===n||null===(r=n.cp70400)||void 0===r?void 0:r.newStyle);return!(Se<0||Se&&Ee.current.num>=Se)&&(!!(a||null!=o&&o.current)&&(Ee.current.num+=1,Ne(!0),!0))}),[Se]),Fe=function(e){c(),Y||t||R||function(e){(0,P.SA)({url:"/api/bg-origenes/address/save/cancel/report",params:e,errorHandler:function(e){return e}})}(e);var n=we.current||{},r=n.checkValid,o=n.matchErrors;null==r||r(void 0,{isClose:!0}),(0,m.E0)({page_el_sn:241487,addr_scene:ie,error_code:o})},We=(0,s.useCallback)((function(){var e,t,n;window.dispatchEvent(new Event(y.up.CloseAddress)),null!==(e=we.current)&&void 0!==e&&null!==(t=e.getIsSubmitLock)&&void 0!==t&&t.call(e)||Be()||Fe({region_id1:null===(n=we.current)||void 0===n?void 0:n.regionId1})}),[Be]),Ue=(0,s.useCallback)((function(){Oe?Ne(!1):We()}),[Oe]),Ve=null==N?void 0:N.region;(0,s.useEffect)((function(){(0,o.A)(l().mark((function e(){var n,r,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.j4)({isEdit:t,isGuestMode:R,region:Ve,isBillingAddress:Y});case 2:n=e.sent,r=n.defaultAddressInfo,o=n.styleConfig,fe(r),he(o);case 7:case"end":return e.stop()}}),e)})))(),(0,m.WW)({page_el_sn:241487,addr_scene:ie})}),[]),(0,f.A)((function(){Oe?(0,g.P)({popupNode:s.createElement(E.A,{addrScene:ie,isNewRetainStyle:ke.current,onClose:function(){Ne(!1)},onCancel:function(){var e;return Fe({region_id1:null===(e=we.current)||void 0===e?void 0:e.regionId1})}})}):(0,g.L)(!1)}),[Oe]);var He=function(){var e;return je?s.createElement("div",{className:u()(D().wrap,D().miniWrap,j),id:I.RA,ref:xe},s.createElement(h.A,{isShowEditNav:M,backText:B,onBack:W,onClose:We,styleObj:V}),s.createElement("div",{className:D().content},X,s.createElement(C.Ay,{isCardAddress:Y,addressDisplayType:ne,ref:we,isEdit:t,isPop:i,isInPop:!0,hasMultipleAddress:A,addressItem:O,defaultAddressItem:T,defaultAddressInfo:me,isGuestMode:R,parentOrderSn:L,localInfo:N,onSuccessCb:w,onFailCb:x,styleConfig:be,btnText:U,notDeliveredList:G,allowCloseOnEsc:H,onEsc:Ue,needSubmitToast:K,onSuccessToast:z,isShowSetDefault:q,needShowDiffDrDialog:$,needShowDiffSiteDialog:ee,needSaveContract:te,switchDiffDrAction:re,switchDiffSiteAction:oe,countryScene:ae,addrScene:ie,editAddressScene:le,onAbSuccess:function(e){ke.current=e},interactionMonitor:se}))):s.createElement("div",{className:u()(D().wrap,j,(0,r.A)({},D().hideSecurityText,Z)),id:I.RA,ref:xe},s.createElement(h.A,{isShowEditNav:M,backText:B,onBack:W,onClose:We,styleObj:V}),s.createElement("div",{className:u()(D().titleWrap,null==V?void 0:V.head)},s.createElement("div",{className:D().title},Me),Z?null:s.createElement(_.A,{securityTxt:ye,enableDialog:!(null==Re||null===(e=Re.overallExtAttributes)||void 0===e||!e.dataSecurityPopupConfigAbtest),isPop:!0})),s.createElement("div",{className:D().content},X,!Y||R||J?null:s.createElement(k,{onChooseOtherAddress:W}),s.createElement(C.Ay,{isCardAddress:Y,addressDisplayType:ne,ref:we,isEdit:t,isPop:i,isInPop:!0,hasMultipleAddress:A,addressItem:O,defaultAddressItem:T,defaultAddressInfo:me,isGuestMode:R,parentOrderSn:L,localInfo:N,onSuccessCb:w,onFailCb:x,styleConfig:be,btnText:U,notDeliveredList:G,allowCloseOnEsc:H,onEsc:Ue,onChangeCountryRegion:Q,needSubmitToast:K,onSuccessToast:z,isShowSetDefault:q,needShowDiffDrDialog:$,needShowDiffSiteDialog:ee,needSaveContract:te,switchDiffDrAction:re,switchDiffSiteAction:oe,countryScene:ae,addrScene:ie,editAddressScene:le,onAbSuccess:function(e){ke.current=e},onEditConfigReady:function(e){Le(e)},interactionMonitor:se,extraRequestInfo:ce})),s.createElement(b.A,{scrollRef:xe,styleObj:{top:Z&&D().topGradient}}))};return i?s.createElement(v.Ay,{isShowClose:!1,needCloseHide:!1,wrapClassName:u()(D().maskWrap,(0,r.A)({},D().isOverflow,Pe)),className:u()(D().popupWrap,(0,r.A)({},D().miniPopupWrap,je))},He()):He()}))},87291:function(e,t,n){"use strict";n.d(t,{Bs:function(){return f},CM:function(){return d},Cr:function(){return m},Gb:function(){return g},Jk:function(){return a},Sg:function(){return s},XQ:function(){return c},Y:function(){return u},s4:function(){return i},wn:function(){return p}});var r=n(33514),o=(0,r.createContext)({}),a=function(e){var t=e.value,n=e.children;return r.createElement(o.Provider,{value:t},n)},i=function(){return r.useContext(o)},l=(0,r.createContext)({}),s=function(e){var t=e.value,n=e.children;return r.createElement(l.Provider,{value:t},n)},c=function(){return r.useContext(l)},u=(0,r.createContext)({}),d=function(){return r.useContext(u)},p=(0,r.createContext)({}),m=function(){return r.useContext(p)},f=(0,r.createContext)({});function g(){return r.useContext(f)}},54639:function(e,t,n){"use strict";n.d(t,{CM:function(){return l},Ky:function(){return c},RA:function(){return u},W1:function(){return a},rJ:function(){return i},tQ:function(){return s},wT:function(){return d}});var r,o=n(61877),a={NAME:"name",FIRST_NAME:"firstName",MIDDLE_NAME:"middleName",LAST_NAME:"lastName",ADDITIONAL_NAME:"additionalName",ADDITIONAL_FIRST_NAME:"additionalFirstName",ADDITIONAL_LAST_NAME:"additionalLastName",MOBILE:"mobile",ADDITIONAL_MOBILE:"additionalMobile",PHONE_CODE:"phoneCode",ADDRESS_LINE1:"addressLine1",STREET_TYPE:"streetType",STREET_NAME:"streetName",HOUSE_NUMBER:"houseNumber",ADDRESS_LINE2:"addressLine2",ADDRESS_LINE3:"addressLine3",TAXCODE:"taxcode",ADDITIONAL_TAXCODE:"additionalTaxcode",STATE:"state",CITY:"city",DISTRICT:"district",ZIP_CODE:"zipCode",SET_DEFAULT:"setDefault",COUNTRY_REGION:"countryRegion",DATE_GROUP:"dateGroup",TAXCODE_DATE:"taxcodeDate",BIRTH_DATE:"birthDate",MAP_POI:"mapPoi",SEARCH_BAR:"searchBar",CERT_FRONT_TICKET:"certFrontTicket",CERT_BACK_TICKET:"certBackTicket",COMBINED_REGION:"combinedRegion"},i=(r={},(0,o.A)(r,a.NAME,"name"),(0,o.A)(r,a.FIRST_NAME,"first_name"),(0,o.A)(r,a.MIDDLE_NAME,"middle_name"),(0,o.A)(r,a.LAST_NAME,"last_name"),(0,o.A)(r,a.ADDITIONAL_NAME,"additional_name"),(0,o.A)(r,a.ADDITIONAL_FIRST_NAME,"additional_first_name"),(0,o.A)(r,a.ADDITIONAL_LAST_NAME,"additional_last_name"),(0,o.A)(r,a.MOBILE,"mobile"),(0,o.A)(r,a.ADDITIONAL_MOBILE,"additional_mobile"),(0,o.A)(r,a.ADDRESS_LINE1,"address_line1"),(0,o.A)(r,a.STREET_TYPE,"street_type"),(0,o.A)(r,a.STREET_NAME,"street_name"),(0,o.A)(r,a.HOUSE_NUMBER,"house_number"),(0,o.A)(r,a.ADDRESS_LINE2,"address_line2"),(0,o.A)(r,a.ADDRESS_LINE3,"address_line3"),(0,o.A)(r,a.ZIP_CODE,"post_code"),(0,o.A)(r,a.COUNTRY_REGION,"region1"),(0,o.A)(r,a.STATE,"region2"),(0,o.A)(r,a.CITY,"region3"),(0,o.A)(r,a.DISTRICT,"region4"),(0,o.A)(r,a.TAXCODE,"taxcode"),(0,o.A)(r,a.ADDITIONAL_TAXCODE,"additional_taxcode"),(0,o.A)(r,a.DATE_GROUP,"date_group"),(0,o.A)(r,a.TAXCODE_DATE,"taxcode_date"),(0,o.A)(r,a.BIRTH_DATE,"birth_date"),(0,o.A)(r,a.MAP_POI,"map_poi"),(0,o.A)(r,a.SEARCH_BAR,"search_bar"),(0,o.A)(r,a.CERT_FRONT_TICKET,"cert_front_ticket"),(0,o.A)(r,a.CERT_BACK_TICKET,"cert_back_ticket"),(0,o.A)(r,a.COMBINED_REGION,"combined_region"),r),l=[i[a.ADDRESS_LINE1],i[a.STREET_NAME],i[a.HOUSE_NUMBER]],s={LINE_CONFIRM_POP:"lineConfirmPop"},c=function(e){return e[e.NORMAL_ADDRESS=0]="NORMAL_ADDRESS",e[e.BUSINESS_ADDRESS=1]="BUSINESS_ADDRESS",e}({}),u="addressEditScrollContainer",d=8},94179:function(e,t){"use strict";t.A=function(e){var t=document.body,n={};if(null!=e&&e.componentLayout&&e.componentLayout<100){var r,o,a=e.componentKey||"",i=(null===(r=document.querySelector("#".concat(a)))||void 0===r||null===(o=r.parentElement)||void 0===o?void 0:o.getBoundingClientRect())||{};n={left:i.left,width:i.width}}return{menuPortalTarget:t,menuPortalStyle:n}}},76394:function(e,t,n){"use strict";n.d(t,{Ay:function(){return Ip},j4:function(){return Sp}});n(79432),n(52675),n(2008),n(83851),n(44114),n(23500),n(81278),n(67945),n(84185);var r=n(6356),o=n(61877),a=n(74533),i=(n(23792),n(26099),n(3362),n(47764),n(62953),n(11286)),l=n.n(i),s=n(33514),c=n(60043),u=n(57402),d=n(49225),p=n(56687),m=(n(28706),n(11392),n(72712),n(74423),n(21699),n(62062),n(32485)),f=n.n(m),g=n(26247),v=n.n(g),b=n(4254),h=n.n(b),E=n(8515),_=n(97582),y=n(99117),A=n(46694),S=n(20162),C=n(73035),I=n(34243),O=n(84889),N=n(95376),w=n(33546),x=n(91251),k=n(84172),P=n(20515),T=(n(23418),function(e){(0,s.useEffect)((function(){if(e){var t=setTimeout((function(){var e=document.querySelectorAll('input[inputMode="none"]');e&&Array.from(e).forEach((function(e){return e.setAttribute("autocomplete","off")}))}),100);return function(){clearTimeout(t)}}}),[e])});var D=function(e){var t=e.storeCtor,n=e.initProps,r=void 0===n?{}:n,o=(e.devKey,(0,s.useRef)(!1)),a=(0,s.useRef)({});if(!o.current){var i,l=new t;null==l||null===(i=l.initService)||void 0===i||i.call(l),null==l||l.initDataAction(r),a.current=l,o.current=!0}return{storeRef:a,isFinish:o}};function R(e){var t=(0,s.useState)(e),n=(0,r.A)(t,2),o=n[0],a=n[1];return(0,s.useEffect)((function(){a(e)}),[e]),[o,a]}var L=n(38532),j=(n(54554),n(48980),n(13852)),M=n(14511),B=n(50453),F=n(10147),W=n(59717),U=n(21447),V=n(90930),H=n(21465),G=n.n(H),K=(0,s.memo)((function(e){var t=e.item,n=e.idx,r=t.buttonText,o=t.type;return s.createElement(F.A,{className:f()("cursorPointer",G().mainButton),type:0===n?"primary":"border",onClick:function(){12===o?B.Ay.uniformForward((0,j.rE)({page_from:1601},"/bgt_orders.html"),{openTarget:"_blank"}):(0,C.L)()}},r)})),z=(0,V.A)((0,M.W4)())((function(e){var t=e.data||{},n=t.topTitleRich,r=t.titleRich,o=t.titleRichList,a=t.viewObjects,i=t.buttons;return s.createElement(W.A,{onClose:C.L},s.createElement(W.A.CloseButton,{onClick:C.L}),s.createElement(W.A.Title,{style:{color:n.fontColor,fontSize:"20px"}},n.text),null!=o&&o.length?s.createElement(U.A,{data:o,className:G().titleRichList}):!(null==r||!r.text)&&s.createElement(W.A.SubTitle,null,r.text),null!=a&&a.length?s.createElement(W.A.ScrollContainer,{minHeight:1},s.createElement("div",{className:G().content},s.createElement("div",{className:G().addressContent},(a||[]).map((function(e,t){var n=e.titleRich,r=e.viewInfo;return s.createElement("div",{className:G().addressContentItemMain,key:t},s.createElement("div",{className:G().addressContentItem},s.createElement("div",{className:G().addressContentItemTitleWrap},s.createElement("p",{className:G().addressContentItemTitle},n.text)),s.createElement("p",{className:G().addressContentItemText},function(e){var t=["name","addressLine1","addressLine2","regionName3","regionName2","postCode"];Boolean(e.regionName4)&&(t=["name","addressLine1","addressLine2","regionName4","postCode","regionName3","regionName2"]);var n=Boolean(e.addressLine2);n||t.splice(t.findIndex((function(e){return"addressLine2"===e})),1);var r=["name",n?"addressLine2":"addressLine1"];return t.map((function(n,o){var a=e[n];return a?s.createElement("span",{key:o,style:{color:a.fontColor,fontSize:"14px"}},a.text,r.includes(n)?s.createElement("br",null):"postCode"===n?" ":o!==t.length-1?", ":""):null}))}(r))))}))))):null,s.createElement(W.A.StaticContainer,null,(i||[]).map((function(e,t){return s.createElement(K,{key:t,idx:t,item:e})}))))})),q=n(54639),Y=n(87291),J=n(49843),Z=n(18046),Q=n(90265);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(e){var t,n,i,d,p,m,f,g,v,b=e.region,h=e.initComponentList,E=e.initRegionConfig,_=e.initRegionTips,y=void 0===_?"":_,A=e.initRegionTipsColor,S=e.initMultiSelectItemMap,C=e.initOverallExtAttributes,I=void 0===C?{}:C,O=e.initPageAttributes,N=void 0===O?{}:O,w=e.initAddressRecommendInfo,x=void 0===w?{}:w,P=e.isCardAddress,T=(e.isEdit,e.addressSnapshotId),D=e.addressSnapshotSn,R=e.setFormData,j=e.isGuestMode,M=e.parentOrderSn,B=e.editAddressScene,F=e.addrScene,W=e.interactionMonitor,U=e.onEditConfigReady,V=e.extraRequestInfo,H=(0,s.useState)((E||h)&&b?(0,o.A)({},b,{componentList:h||[],fieldList:E,regionTips:y,regionTipsColor:A,multiSelectItemMap:S,overallExtAttributes:I,pageAttributes:N,addressRecommendInfo:x,recommendBlockDisplayItem:[]}):{}),G=(0,r.A)(H,2),K=G[0],z=G[1],Y=(0,s.useRef)(K);Y.current=K;var X=(0,s.useRef)(!1),ee=(0,s.useState)(!!b&&!E&&!h),te=(0,r.A)(ee,2),ne=te[0],re=te[1],oe=(0,s.useState)(!1),ae=(0,r.A)(oe,2),ie=ae[0],le=ae[1],se=(0,s.useState)({}),ce=(0,r.A)(se,2),ue=ce[0],de=ce[1],pe=(0,s.useState)(),me=(0,r.A)(pe,2),fe=me[0],ge=me[1],ve=(0,s.useRef)(!1),be=function(){var e=(0,a.A)(l().mark((function e(t){var n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:re(!0),X.current=!0,null==W||W.onStageStart(),n=B&&[c.FC.AddAddressWithPrefill,c.FC.AddAddressWithPartlyPrefill].includes(B),a=(0,Q.getRegionConfig)($({region_id1:t,address_type:P?q.Ky.BUSINESS_ADDRESS:q.Ky.NORMAL_ADDRESS,scene_id:P?c.In:null,address_snapshot_id:ve.current?"":T,address_snapshot_sn:ve.current?"":D,is_add_address:!!n||!T&&!D,parent_order_sn:ve.current?"":M,edit_address_scene:B,addr_scene:F||(P?c.mp.BillingScene:c.mp.DefaultScene),report_version:c.xv,isGuestMode:j,maps_scene_id:"MAPS_ADDRESS_H5"},V?{extra_request_info:(0,k.qi)(V)}:{})),i=(0,Q.queryABTest)({sceneList:["cp70400"]}),Promise.all([a,i]).then((function(e){var n,a,i,l=(0,r.A)(e,2),s=l[0],c=l[1];null==W||W.onStageEnd();var d=null==s?void 0:s.result;if(de(null==c?void 0:c.result),!(null!=d&&null!==(n=d.fieldList)&&void 0!==n&&n.length||null!=d&&null!==(a=d.componentList)&&void 0!==a&&a.length))return le(!0),re(!1),X.current=!1,void(0,L.mE)({event:"addressFormV2RenderError_csr",data:(0,u.Jm)(s)});var p={componentList:null==d?void 0:d.componentList,fieldList:null!=d&&null!==(i=d.fieldList)&&void 0!==i&&i.length?(0,Z.k1)(null==d?void 0:d.fieldList):(0,Z.QD)(null==d?void 0:d.componentList),regionTips:(null==d?void 0:d.regionTips)||"",regionTipsColor:(null==d?void 0:d.regionTipsColor)||"",multiSelectItemMap:null==d?void 0:d.multiSelectItemMap,overallExtAttributes:null==d?void 0:d.overallExtAttributes,pageAttributes:null==d?void 0:d.pageAttributes,addressRecommendInfo:null==d?void 0:d.addressRecommendInfo,recommendBlockDisplayItem:null==d?void 0:d.recommendBlockDisplayItem};if(z((function(e){var n;return $($({},e),{},(0,o.A)({},(null==d||null===(n=d.addressRegion)||void 0===n?void 0:n.regionId1)||t,p))})),null==U||U(p),null!=d&&d.addressRegion&&!ve.current){var m,f,g,v=$($({},(0,Z._W)()),(0,Z.ST)({item:null==d?void 0:d.addressRegion}));R(v),ge(null==d||null===(m=d.addressRegion)||void 0===m||null===(f=m.addressCorrectionInfo)||void 0===f||null===(g=f.matchErrors)||void 0===g?void 0:g.join(","))}ve.current=!0,le(!1),re(!1),X.current=!1}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){if(null!=E&&E.hasError)return le(!0),void(0,L.mE)({event:"addressFormV2RenderError_ssr",data:(0,u.Jm)(E)});!b||Y.current[b]||X.current||be(b)}),[b,P]);var he=(0,J.A)(b),Ee=(0,s.useRef)(!1);return(0,s.useEffect)((function(){if(b&&he&&b!==he&&(Ee.current=!0),Ee.current&&K[b]){var e,t,n;Ee.current=!1;var r=(null===(e=K[b])||void 0===e||null===(t=e.fieldList)||void 0===t||null===(n=t.mobile)||void 0===n?void 0:n.extraInfo)||{},o=r.phoneRegionId,a=r.phoneRegionCode,i=r.phoneRegionShortName;o&&a&&i&&R((function(e){return $($({},e),{},{phoneCode:a,phoneRegionId:o,phoneShortName:i})}))}}),[b,K]),{componentList:null===(t=K[b])||void 0===t?void 0:t.componentList,regionConfig:(null===(n=K[b])||void 0===n?void 0:n.fieldList)||{},regionTips:null===(i=K[b])||void 0===i?void 0:i.regionTips,regionTipsColor:null===(d=K[b])||void 0===d?void 0:d.regionTipsColor,multiSelectItemMap:(0,Z.Y6)(null===(p=K[b])||void 0===p?void 0:p.multiSelectItemMap),overallExtAttributes:(null===(m=K[b])||void 0===m?void 0:m.overallExtAttributes)||{},pageAttributes:(null===(f=K[b])||void 0===f?void 0:f.pageAttributes)||{},addressRecommendInfo:(null===(g=K[b])||void 0===g?void 0:g.addressRecommendInfo)||{},recommendBlockDisplayItem:(null===(v=K[b])||void 0===v?void 0:v.recommendBlockDisplayItem)||{},hasConfigError:ie,regionConfigLoading:ne,abMap:ue,matchErrors:fe,refreshRegionConfig:function(){return be(b)},setConfig:z}},te=n(50878),ne=n(34678),re=n(44759),oe=n.n(re),ae=function(e){var t,n,r=e.correctInfo,o=e.resetCallback,a=e.onClose,i=r||{},l=i.topTitleRich,c=i.viewObjects,u=void 0===c?[]:c,d=i.buttons,p=(0,te.w)((function(e){var t;11===(null===(t=d[e])||void 0===t?void 0:t.type)&&o(),a()}));return s.createElement(ne.A,{title:s.createElement("span",{className:oe().title,style:{color:null==l?void 0:l.fontColor,fontSize:(null==l?void 0:l.fontSize)||14,verticalAlign:"middle",fontWeight:null!=l&&l.bold?600:500}},null==l?void 0:l.text),confirmButtonLabel:null===(t=d[0])||void 0===t?void 0:t.buttonText,cancelButtonLabel:null===(n=d[1])||void 0===n?void 0:n.buttonText,buttonConfigs:{direction:"vertical"},onClose:a,onConfirm:function(){p(0)},onCancel:function(){p(1)}},s.createElement("div",{className:oe().content},s.createElement("div",{className:oe().addressContent},(u||[]).map((function(e){var t=e.titleRich,n=e.viewInfo;return s.createElement("div",{className:oe().addressContentItemMain},s.createElement("div",{className:oe().addressContentItem},s.createElement("div",{className:oe().addressContentItemTitleWrap},s.createElement("div",{className:oe().addressContentItemTitle,style:{color:null==t?void 0:t.fontColor,fontSize:"16px"}},null==t?void 0:t.text)),s.createElement("div",{className:oe().addressContentItemText},function(e){var t=Object.keys(e),n=["name","phoneCode","mobile","addressLine1","addressLine2","regionName3","regionName2","postCode"].filter((function(n){return t.includes(n)&&!!e[n]}));Boolean(e.regionName4)&&(n=["name","phoneCode","mobile","addressLine1","addressLine2","regionName4","postCode","regionName3","regionName2"]);var r=Boolean(e.addressLine2);if(!r){var o=n.findIndex((function(e){return"addressLine2"===e}));o>-1&&n.splice(o,1)}var a=["mobile",r?"addressLine2":"addressLine1"];return n.map((function(t,r){var o=e[t]||{};return s.createElement("span",{key:r,style:{color:o.fontColor,fontSize:o.fontSize||16}},"phoneCode"===t&&o.text?"+":"",o.text,a.includes(t)?s.createElement("br",null):"postCode"===t||"phoneCode"===t?" ":r!==n.length-1?", ":"")}))}(n))))})))))},ie=(0,s.memo)(ae);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce,ue,de,pe,me,fe,ge,ve,be,he,Ee,_e,ye,Ae,Se,Ce,Ie=function(e){var t=e.addrScene,n=e.defaultAddressInfo,r=e.isGuestMode,i=e.setFormData,c=e.manualCheckValid,u=e.validateValueBack,d=e.warningValueBack,p=e.resetValidateInfo,m=e.hasSubmited;(0,s.useEffect)((function(){if(232===t){var e=function(){var e=(0,a.A)(l().mark((function e(){var t,a,f,g,v;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.getCorrection({isVisitor:r,addressSnapshotId:null==n?void 0:n.addressSnapshotId,addressSnapshotSn:null==n?void 0:n.addressSnapshotSn});case 2:if(f=e.sent,g=(null===(t=f.result)||void 0===t?void 0:t.fillBackInfoList)||[],v=function(){i((function(e){var t={},n={};return g.forEach((function(e){var r=q.W1[null==e?void 0:e.fieldKey];["addressLine1","addressLine2","streetName","houseNumber"].includes(r)?t[r]=e.fillBackValue||"":n[r]=e.fillBackValue||""}),{}),se(se(se({},e),n),{},{addressInfo:se(se({},e.addressInfo),t)})})),null==g||g.forEach((function(e){var t=q.W1[null==e?void 0:e.fieldKey];t&&(e.fieldCheckFailedWarnTips?(p([t]),d({name:t,warning:{showWarning:!0,show2Line:t===q.W1.NAME,warningText:e.fieldCheckFailedWarnTips,level:"warn",valid:!1,errorType:"back",canSubmit:!0,warningBoard:!0}})):e.fieldCheckFailedErrorTips?u({val:"",name:t,validateText:e.fieldCheckFailedErrorTips}):setTimeout((function(){c([t],(0,o.A)({},t,e.fillBackValue||""))}),0))}))},null==f||!f.success||null===(a=f.result)||void 0===a||!a.addressCorrectionInfo){e.next=9;break}if(!m.current){e.next=8;break}return e.abrupt("return");case 8:(0,C.P)({popupNode:s.createElement(ie,{correctInfo:f.result.addressCorrectionInfo,onClose:function(){(0,C.L)(!0)},resetCallback:v})});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();null!=n&&n.addressSnapshotId&&null!=n&&n.addressSnapshotSn&&e()}}),[])},Oe=n(25804),Ne=n(13425),we=n(29659),xe=n(22751),ke=n(60055),Pe=(n(35639),n(69085),n(72505)),Te=n.n(Pe),De=n(37451);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=(ce=(0,we.A)((function e(){(0,xe.A)(this,e),this.cancelTokenSource=Te().CancelToken.source(),(0,Ne.A)(this,"showSearchBarFieldByBlur",ue,this),(0,Ne.A)(this,"isSearchBarError",de,this),(0,Ne.A)(this,"translateCtx",pe,this),(0,Ne.A)(this,"showSearchBarField",me,this),(0,Ne.A)(this,"showOnlyReadSearchBar",fe,this),(0,Ne.A)(this,"tempDisplayMap",ge,this),(0,Ne.A)(this,"searchBarValue",ve,this),(0,Ne.A)(this,"initDataAction",be,this),(0,Ne.A)(this,"setShowSearchBarFieldByBlur",he,this),(0,Ne.A)(this,"setIsSearchBarError",Ee,this),(0,Ne.A)(this,"setTranslateCtx",_e,this),(0,Ne.A)(this,"setShowSearchBarField",ye,this),(0,Ne.A)(this,"setShowOnlyReadSearchBar",Ae,this),(0,Ne.A)(this,"setTempDisplayMap",Se,this),(0,Ne.A)(this,"setSearchBarValue",Ce,this),(0,De.Gn)(this)})),ue=(0,ke.A)(ce.prototype,"showSearchBarFieldByBlur",[De.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),de=(0,ke.A)(ce.prototype,"isSearchBarError",[De.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pe=(0,ke.A)(ce.prototype,"translateCtx",[De.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),me=(0,ke.A)(ce.prototype,"showSearchBarField",[De.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fe=(0,ke.A)(ce.prototype,"showOnlyReadSearchBar",[De.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ge=(0,ke.A)(ce.prototype,"tempDisplayMap",[De.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=(0,ke.A)(ce.prototype,"searchBarValue",[De.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),be=(0,ke.A)(ce.prototype,"initDataAction",[De.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){Object.assign(e,t)}}}),he=(0,ke.A)(ce.prototype,"setShowSearchBarFieldByBlur",[De.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.showSearchBarFieldByBlur=t}}}),Ee=(0,ke.A)(ce.prototype,"setIsSearchBarError",[De.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isSearchBarError=t}}}),_e=(0,ke.A)(ce.prototype,"setTranslateCtx",[De.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.translateCtx=Le(Le({},e.translateCtx),t)}}}),ye=(0,ke.A)(ce.prototype,"setShowSearchBarField",[De.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.showSearchBarField=t,t&&(e.showOnlyReadSearchBar=!1,e.isSearchBarError=!1)}}}),Ae=(0,ke.A)(ce.prototype,"setShowOnlyReadSearchBar",[De.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.showOnlyReadSearchBar=t}}}),Se=(0,ke.A)(ce.prototype,"setTempDisplayMap",[De.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.tempDisplayMap=t}}}),Ce=(0,ke.A)(ce.prototype,"setSearchBarValue",[De.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.searchBarValue=t}}}),ce),Me="keydown",Be=function(e){var t=e.isActive,n=(0,Y.CM)().onEsc,r=(0,Y.Cr)(),o=r.isShowErrorPop,a=r.setIsShowErrorPop,i=r.isShowCorrectPop,l=r.setIsShowCorrectPop;return(0,s.useEffect)((function(){if(t){var e=function(e){if(27===(null==e?void 0:e.keyCode)){if(o)return void a(!1);if(i)return void l(!1);null==n||n()}};return document.addEventListener(Me,e),function(){document.removeEventListener(Me,e)}}}),[t,o,n,i]),null},Fe=(0,s.memo)(Be),We=n(40304),Ue=n(82370),Ve=n(87837),He=n(44166),Ge=n.n(He);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe=1,Ye=2,Je=3,Ze=function(e){var t=e.isInEditPop,n=e.correctInfo,r=e.handleSubmit,a=(0,Y.Cr)(),i=a.isShowCorrectPop,l=a.setIsShowCorrectPop,c=a.setActivateField,u=n||{},d=u.title,p=u.richTitle,m=u.fieldViews,g=void 0===m?[]:m,v=u.contrastView,b=u.acceptMenu,h=u.rejectMenu,E=u.selectNote,_=u.selectNoteList,y=void 0===_?[]:_,A=u.fields,S=u.type,C=u.activateFields,I=b||{},O=I.text,N=I.type,w=h||{},x=w.text,T=w.type,D=E||{},R=D.text,L=D.fontSize,j=D.fontColor,M=(0,s.useMemo)((function(){return(A||[]).reduce((function(e,t){var n=t||{},r=n.fieldName,a=n.correctValue;return r?ze(ze({},e),{},(0,o.A)({},(0,k.Su)(r),a)):e}),{})}),[A]),B=(0,s.useCallback)((function(){l(!1)}),[]),F=(0,s.useCallback)((function(){(0,P.AI)(204116,{pop_type:S}),B()}),[]),W=function(e){switch(e){case qe:(0,P.AI)(204113,{pop_type:e}),r({needCorrect:!1,correctParams:M,acceptStatus:1,onSuccessInnerCb:B});break;case Ye:(0,P.AI)(204114,{pop_type:e}),r({needCorrect:!1,acceptStatus:2,onSuccessInnerCb:B});break;case Je:(0,P.AI)(204115,{pop_type:e}),B(),null!=C&&C.length&&(c((0,k.yp)(C[0])),setTimeout((function(){c("")}),0))}};if(!i)return null;return s.createElement(ne.A,{baseDialogProps:{controllerProps:{usePortal:!0},containerProps:t?{className:Ge().backDrop}:{}},scrollContainerProps:{minHeight:1},title:p?s.createElement("div",{dangerouslySetInnerHTML:{__html:p}}):d,confirmButtonLabel:O,cancelButtonLabel:x,contentAfterBtn:R?s.createElement("div",{className:Ge().tip,style:{fontSize:"".concat(L,"px"),color:j}},R):null!=y&&y.length?s.createElement("div",{className:Ge().bottomTip},s.createElement(We.A,{className:Ge().icon,"aria-hidden":!0}),s.createElement(U.A,{data:y,className:Ge().bottomTipText})):null,buttonConfigs:{direction:"vertical"},onClose:F,onConfirm:function(){W(N||qe)},onCancel:function(){W(T||Ye)}},function(){var e,t,n,r;null!==(e=g[0])&&void 0!==e&&null!==(t=e.displayFieldViewList)&&void 0!==t&&t.length?n=s.createElement("div",{className:Ge().content2},g.map((function(e,t){var n=e.fieldTitle,r=e.displayFieldViewList;return s.createElement("div",{key:t,className:Ge().fieldItem},s.createElement("div",{className:Ge().fieldTitle},n),r.map((function(e){return s.createElement("div",{key:e.fieldKey,className:Ge().displayFieldViewItem},s.createElement("div",{className:Ge().label},e.fieldName),s.createElement("div",{className:Ge().value,style:{color:e.fieldText.fontColor}},e.fieldText.text))})))}))):n=s.createElement("div",{className:f()(Ge().content,(r={},(0,o.A)(r,Ge().hasMargin,null==g?void 0:g.length),(0,o.A)(r,Ge().content3,!!v),r))},g.map((function(e,t){var n=e.fieldTitle,r=e.text,o=e.richText;return s.createElement("div",{key:t,className:Ge().fieldItem},s.createElement("div",{className:Ge().fieldTitle},n),o?s.createElement("div",{className:Ge().fieldText,dangerouslySetInnerHTML:{__html:o}}):s.createElement("div",{className:Ge().fieldText},r))})),function(){if(!v)return null;var e=v.topText,t=v.currentField,n=v.recommendedField;return s.createElement("div",{className:Ge().contrastView},s.createElement("div",{className:Ge().topText},s.createElement(U.J,{item:e})),s.createElement("div",{className:Ge().contrastViewMain},s.createElement("div",{className:Ge().currentField},s.createElement("div",null,s.createElement(U.J,{item:t.text})),s.createElement("div",null,s.createElement(U.J,{item:t.bottomText}))),s.createElement(Ue.Ay,{className:Ge().arrow,src:"https://aimg.kwcdn.com/upload_aimg/temu/ecafc7e6-1190-4731-98cb-730696e82cc3.png.slim.png",resizeWidth:78,"aria-hidden":!0,alt:""}),s.createElement("div",{className:Ge().recommendedField},s.createElement("div",null,s.createElement(U.J,{item:n.text})),s.createElement("div",null,s.createElement(U.J,{item:n.bottomText})))))}());return s.createElement(Ve.Rp,{page_el_sn:204112,others:{tanchuang_type:S},useClick:!1},n)}())},Qe=(0,s.memo)(Ze),Xe=n(14242),$e=n(89243),et=n(59661),tt=n(71968),nt=n.n(tt);function rt(e){var t=e.title,n=void 0===t?"":t,r=e.text,a=void 0===r?"":r,i=e.onClose,l=e.onConfirm,c=e.onCancel,u=e.renderContent,d=e.tips,p=void 0===d?"":d,m=e.confirmButtonLabel,g=void 0===m?"Yes":m,v=e.cancelButtonLabel,b=void 0===v?"No":v,h=e.theme,E=void 0===h?"black":h,_=e.buttonConfigs,y=void 0===_?{}:_,A=e.className,S=e.containerClassName,C=e.titleClassName,I=e.textClassName,O=e.wrapClassName,N=e.isCustomFoot;return(0,$e.createPortal)(s.createElement(et.Ay,{isShowClose:!(null!=y&&y.disableCloseButton),onClick:i||c,className:f()(nt().rootContainer,A),wrapClassName:O||{}},s.createElement("div",{className:f()(nt().container,S)},n?s.createElement("div",{className:f()(nt().title,C)},n):null,a?s.createElement("div",{className:f()(nt().text,I,(0,o.A)({},nt().textWithNoTitle,!n))},a):null,u?u():null,p?s.createElement("div",{className:nt().tips},p):null,!N&&s.createElement("div",{className:f()(nt().footer,nt()[E]),dir:"ltr"},!(null!=y&&y.disableCancel)&&s.createElement(F.A,{type:"border",className:f()(nt().button,y.className,y.cancelClassName),onClick:c},b),!(null!=y&&y.disableConfirm)&&s.createElement(F.A,{className:f()(nt().button,y.className,y.confirmClassName,(0,o.A)({},nt().singlButton,null==y?void 0:y.disableCancel)),onClick:l},g)))),document.body)}rt.defaultProps={title:"",imgList:[],text:"",onClose:null,onConfirm:null,onCancel:null,verticalButton:!1,renderContent:null,tips:"",imgTips:"",theme:"black",buttonConfigs:{disableCloseButton:!1}};var ot=rt,at=n(71108),it=n.n(at),lt={className:it().modal,containerClassName:it().container,titleClassName:it().title,buttonConfigs:{confirmClassName:it().confirmBtn,disableCancel:!0}},st=function(e){var t=e.isInEditPop,n=e.hideErrorPop,r=(0,_.B)("bec-fe.web-address").t,o=r("lineConfirmPop.title"),a=r("lineConfirmPop.confirmButtonLabel"),i=(0,s.useMemo)((function(){return t?{className:it().backDrop}:{}}),[t]);return s.createElement(ot,(0,Xe.A)({},lt,{wrapClassName:i,onCancel:n,onClose:n,onConfirm:n,title:o,confirmButtonLabel:a}))},ct=function(e){var t,n=e.isInEditPop,r=e.errorPopType,o=(0,Y.Cr)(),a=o.isShowErrorPop,i=o.setIsShowErrorPop,l=(0,s.useCallback)((function(){i(!1)}),[]);if(r===q.tQ.LINE_CONFIRM_POP)t=s.createElement(st,{isInEditPop:n,hideErrorPop:l});return a&&t?t:null},ut=(0,s.memo)(ct),dt=n(35780),pt=n.n(dt),mt=function(){var e=((0,Y.Cr)().pageAttributes||{}).pageConfirmTips;return e?s.createElement("div",{className:pt().pageConfirmTips},s.createElement(We.A,{className:pt().icon,"aria-hidden":!0}),s.createElement("span",null,e)):null},ft=n(35262),gt=(n(16034),n(10644)),vt=n(31024),bt=n.n(vt),ht=function(e){var t=e.className,n=e.checked,r=e.onClick,o=e.disable,a=e.iconClass,i=e.ariaLabel;return s.createElement(gt.Sc,{isChecked:n,toggleCheck:r,disabled:o,iconClass:a,className:f()(t,bt().wrap),"aria-label":i})},Et=(0,s.memo)(ht),_t=n(18360),yt=n.n(_t);function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct=function(e){var t=e.isShowSetDefault,n=e.isDefault,r=e.regionConfig,a=(0,_.B)("bec-fe.web-address").t,i=(0,Y.Cr)().setFormData,l=(0,s.useMemo)((function(){var e,t=null;return Object.values(r||{}).forEach((function(e){var n;t?((null==e?void 0:e.order)||0)>((null===(n=t)||void 0===n?void 0:n.order)||0)&&(t=e):t=e})),!(null===(e=t)||void 0===e||!e.fieldTips)}),[r]),c=(0,s.useCallback)((function(){i((function(e){return St(St({},e),{},{isDefault:e.isDefault?0:1})}))}),[i]);return t?s.createElement("div",{className:f()((0,o.A)({},yt().sepWrap,l))},s.createElement(Ve.Rp,{page_el_sn:200126},s.createElement("div",{className:yt().defaultWrap,onClick:c,role:"button",tabIndex:20,"data-aria-enter":"1"},s.createElement(Et,{className:yt().checkBox,checked:!!n,ariaLabel:a("setDefault2")}),a("setDefault2")))):null},It=(0,s.memo)(Ct),Ot=(n(50113),n(46800)),Nt=n(84448),wt=n(36002),xt=(n(2892),n(42762),n(90010)),kt=n(16835),Pt=n(25008),Tt=n(38221),Dt=n.n(Tt),Rt=n(54461),Lt=n(71161),jt=n.n(Lt),Mt=function(e){var t=e.item,n=e.activeKey,r=e.onClickCallback;return s.createElement("li",null,s.createElement("span",{className:f()(jt().prefixClsLink,(0,o.A)({},jt().active,n===t.key)),onClick:function(){return null===(e=t.onClick)||void 0===e||e.call(t),void(null==r||r());var e},role:"button",tabIndex:0},t.title),s.createElement("span",{className:jt().prefixClsSeparator},s.createElement(Rt.hu,{className:jt().arrow})))},Bt=function(e){var t=e.className,n=e.list,r=void 0===n?[]:n,o=e.activeKey,a=e.onClickCallback;return s.createElement("nav",{className:f()(jt().prefixClsRtl,t)},s.createElement("ol",null,r.map((function(e,t){return s.createElement(Mt,{key:t,item:e,activeKey:o,onClickCallback:a})}))))},Ft=(0,s.memo)(Bt),Wt=n(61431),Ut=n(21892),Vt=n(5874),Ht=n(94179),Gt=function(e){return e[e.State=0]="State",e[e.City=1]="City",e[e.District=2]="District",e}({});function Kt(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))switch(e){case Gt.State:return Gt.City;case Gt.City:return Gt.District;case Gt.District:default:return}}var zt=(0,s.createContext)({});function qt(){return s.useContext(zt)}var Yt=n(95789),Jt=n(27092),Zt=(n(9391),n(23058)),Qt=n(24402),Xt=n(44458),$t=n(87642),en=n(8297),tn=n(66808),nn=n(35660),rn=(0,s.createContext)({});function on(){return s.useContext(rn)}var an=n(6864),ln=n(29934),sn=n.n(ln);function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dn=function(e){var t=e.vKey,n=on(),r=n.formData,a=n.setFormData,i=n.regionConfig[t],l=(0,s.useMemo)((function(){switch(t){case"region_name2":return 232268;case"region_name3":return 232269;case"region_name4":return 232270;case"reference":return 232271;default:return 0}}),[t]),c=(0,s.useCallback)((function(e){a((function(n){return un(un({},n),{},(0,o.A)({},(0,k.yp)(t),e))}))}),[t,a]);return s.createElement(Nt.A,{vKey:t,labelClassName:f()(sn().label,sn().blackLabel),regionConfig:i},s.createElement(Ot.A,{vKey:t,trigger:["onChange","onBlur"],regionConfig:i},s.createElement(an.A,{value:r[(0,k.yp)(t)],maxLength:i.maxSize,className:sn().input,onChange:c,placeholder:i.placeholder,pageElSn:l,useImpr:!1})))},pn=(0,s.memo)(dn),mn=n(75813),fn="/api/bg-origenes/address/additional/page/config",gn="/api/bg-origenes/visitor/address/additional/page/config",vn="/api/bg-origenes/address/missing/initiative/report",bn="/api/bg-origenes/visitor/address/missing/initiative/report";function hn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isGuestMode?bn:vn;return(0,mn.SA)({url:t,params:e,errorHandler:function(e){return e}}).then((function(e){return(null==e?void 0:e.result)||{}}))}var En=n(34043),_n=n.n(En);function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sn=function(){var e=(0,a.A)(l().mark((function e(t){var n,r,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Qt.y)(0);case 2:if(r=null==t||null===(n=t.querySelector(".".concat(Oe.u)))||void 0===n?void 0:n.parentElement){e.next=5;break}return e.abrupt("return");case 5:o=r.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop-40-2,(0,$t.B)(o,t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Cn=(0,s.memo)((function(e){var t=e.component,n=t.fieldKey,r=t.subComponent;return s.createElement(s.Fragment,null,null!=r&&r.length?r.map((function(e){return s.createElement(Cn,{component:e})})):s.createElement(pn,{vKey:n}))})),In=(0,s.memo)((function(){var e,t=(0,Y.s4)().validateValue,n=on(),r=n.isGuestMode,o=n.config,i=n.regionConfig,c=n.formData,d=n.onClose,p=(o||{}).componentList,m=void 0===p?[]:p,f=(0,en.A)(),g=f.isLock,v=f.lockSubmit,b=(0,s.useRef)(null),h=(0,s.useCallback)((function(){var e={region_name2:c.regionName2,region_name3:c.regionName3,region_name4:c.regionName4},n=Object.keys(e).reduce((function(n,r){var o=null==i?void 0:i[r],a=(0,u.bz)(e[r]),l=t({val:a,name:r,needShowValidate:!0,needRequired:!(null==o||!o.isRequired),regionConfig:o,hasClickSubmit:!0,formData:c});return(null==l?void 0:l.valid)&&n}),!0);return(0,L.mE)({event:"addressReportValidateError"}),n||b.current&&Sn(b.current),n}),[c,i,t]),E=(0,s.useCallback)((0,a.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,L.mE)({event:"addressReportSubmitStart"}),h()&&!g){e.next=4;break}return e.abrupt("return");case 4:return v(!0),e.next=7,hn(An(An({},(0,k.qi)(c)),{},{isGuestMode:r}));case 7:t=e.sent,v(!1),null!=t&&t.result?(Zt.A.success(t.resultMsg),d(),(0,y.WW)({page_el_sn:232273}),(0,L.mE)({event:"addressReportSubmitSuccess"})):Zt.A.error(null==t?void 0:t.resultMsg);case 10:case"end":return e.stop()}}),e)}))),[c,h,r,g,v,d]);(0,s.useEffect)((function(){var e,t,n;null==b||null===(e=b.current)||void 0===e||null===(t=e.querySelector('input[value=""]'))||void 0===t||null===(n=t.focus)||void 0===n||n.call(t)}),[]);var _=(null===(e=m[0])||void 0===e?void 0:e.componentAttributes)||{},A=_.pageTitle,S=_.pageTextRich,C=_.bottomMenuList;return s.createElement(s.Fragment,null,!!A&&s.createElement("div",{className:_n().title},A),s.createElement("div",{ref:b,className:_n().main},!!S&&s.createElement("div",{className:_n().subTitle,dangerouslySetInnerHTML:{__html:S}}),m.map((function(e){return s.createElement(Cn,{component:e})}))),!(null==C||!C.length)&&s.createElement("div",{className:_n().footer},s.createElement(Ve.Rp,{page_el_sn:232272},s.createElement(F.A,{className:_n().confirmButton,onClick:E},null==C?void 0:C[0].text))))})),On=(0,V.A)((0,M.W4)())((0,s.memo)((function(e){var t,n,a=e.regionId1,i=e.isGuestMode,l=e.activeStep,u=e.selectedOption,d=e.onClose,p=(0,s.useState)(!1),m=(0,r.A)(p,2),g=m[0],v=m[1],b=(0,s.useState)(),h=(0,r.A)(b,2),E=h[0],_=h[1],A=(0,s.useState)(),S=(0,r.A)(A,2),C=S[0],I=S[1],O=(0,s.useState)({regionId1:a,regionName2:l&&l>Gt.State?null==u||null===(t=u[Gt.State])||void 0===t?void 0:t.regionName:"",regionName3:l&&l>Gt.City?null==u||null===(n=u[Gt.City])||void 0===n?void 0:n.regionName:"",regionName4:"",reference:""}),w=(0,r.A)(O,2),x=w[0],k=w[1],P=(0,tn.A)().isOverflow;(0,s.useEffect)((function(){(0,y.WW)({page_el_sn:232267}),v(!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isGuestMode?gn:fn;return(0,mn.SA)({url:t,params:e,errorHandler:function(e){return e}}).then((function(e){return(null==e?void 0:e.result)||{}}))}({region_id1:a,report_version:c.xv,page_type:"missing_address_report",isGuestMode:i}).then((function(e){_(e),I((0,Z.QD)(e.componentList))})).finally((function(){v(!1)}))}),[]);var T=(0,s.useMemo)((function(){return{isGuestMode:i,config:E,regionConfig:C,formData:x,setFormData:k,onClose:d}}),[i,E,C,x,k,d]);return s.createElement(et.Ay,{isShowClose:!1,wrapClassName:f()("addressReportPop",_n().maskWrap,(0,o.A)({},_n().isOverflow,P)),className:_n().popupWrap},s.createElement(nn.A,null,s.createElement("div",{className:_n().wrap},s.createElement(Xt.A,{onClose:d}),g?s.createElement(N.A,{className:_n().loadingWrap}):s.createElement(rn.Provider,{value:T},s.createElement(In,null)))))}))),Nn=n(64817),wn=n.n(Nn),xn=(0,s.memo)((function(e){var t=e.setIsOpenAddressReportPop,n=e.onMenuInputFocus,r=e.activeStep,o=e.selectedOption,a=(0,_.B)("bec-fe.web-address").t,i=(0,Y.CM)().isGuestMode,l=(0,Y.Cr)(),c=l.regionId1,u=(l.overallExtAttributes||{}).addressMissingReportAbtest,d=(0,s.useMemo)((function(){switch(r){case Gt.State:return 232261;case Gt.City:return 232262;case Gt.District:return 232263;default:return 0}}),[r]);return u?s.createElement("div",{className:wn().regionReport},s.createElement("div",{className:wn().tip},a("cannotFindYourLocation")),s.createElement(Ve.Rp,{page_el_sn:d},s.createElement("div",{className:wn().link,onClick:function(){(0,L.mE)({event:"openAddressReportPop"}),t(!0);var e=(0,Yt.A)(s.createElement(On,{regionId1:c,isGuestMode:i,activeStep:r,selectedOption:o,onClose:function(){null==e||e(),t(!1),n()}}),null)},role:"button",tabIndex:0},a("report")," ",s.createElement(Jt.A,{className:wn().arrowIcon,"aria-hidden":!0})))):null})),kn=(0,s.memo)((function(e){var t=e.setIsOpenAddressReportPop,n=e.onMenuInputFocus,r=e.activeStep,o=e.selectedOption,a=(0,_.B)("bec-fe.web-address").t,i=(0,Y.CM)().isGuestMode,l=(0,Y.Cr)().regionId1,c=(0,s.useMemo)((function(){switch(r){case Gt.State:return 232264;case Gt.City:return 232265;case Gt.District:return 232266;default:return 0}}),[r]);return s.createElement(Ve.Rp,{page_el_sn:c},s.createElement(F.A,{className:wn().button,onClick:function(){(0,L.mE)({event:"openAddressReportPop"}),t(!0);var e=(0,Yt.A)(s.createElement(On,{regionId1:l,isGuestMode:i,activeStep:r,selectedOption:o,onClose:function(){null==e||e(),t(!1),n()}}),null)}},a("report")))})),Pn=n(51423),Tn=n.n(Pn),Dn=["children"],Rn=["selectProps"],Ln=["children","selectProps"],jn=["selectProps"];function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fn=xt.c.MenuList,Wn=xt.c.ValueContainer,Un=xt.c.SingleValue,Vn=xt.c.Placeholder,Hn=function(e){var t=e.children,n=(0,p.A)(e,Dn);return s.createElement(Ve.Rp,{page_el_sn:200124},s.createElement("div",{className:"controlWrap"},s.createElement(xt.c.Control,n,t)))},Gn=function(e){var t=e.selectProps,n=(0,_.B)("bec-fe.web-address").t,r=qt(),o=r.activeStep,a=r.selectedOption,i=r.loading,l=r.loadingMore,c=((0,Y.Cr)().overallExtAttributes||{}).addressMissingReportAbtest,u=t.setIsOpenAddressReportPop,d=t.onMenuInputFocus;return i||l?null:c?s.createElement("div",{className:Tn().notFoundWrap},s.createElement(Ut.r,{title:n("noSearchResultsFound"),desc:n("cannotFindYourLocationDesc"),iconClassName:Tn().icon,descClassName:Tn().desc}),s.createElement(kn,{activeStep:o,selectedOption:a,onMenuInputFocus:d,setIsOpenAddressReportPop:u})):s.createElement("div",{className:Tn().baseNotFoundWrap},n("address.noSearchOptions"))},Kn=function(e){var t=e.selectProps,n=(0,p.A)(e,Rn),r=(0,_.B)("bec-fe.web-address").t,o=(0,Y.CM)().isCardAddress,a=(0,Y.Cr)(),i=a.addressInfo,l=a.regionConfig,c=qt().isPagination,u=i.regionId1,d=i.regionId2,m=i.regionId3,g=l||{},v=g.region2,b=g.region3,h=g.region4,E=qt(),y=E.step,A=E.activeStep,S=E.setActiveStep,C=E.selectedOption,O=E.loading,w=E.isApiError,x=E.handleBreadcrumbClick,k=E.getOptions,P=E.loadingMore,T=(0,s.useRef)(null),D=t.onInputChange,R=t.inputValue,L=t.onMenuInputFocus,j=t.initActiveStep,M=t.showReportEntry,B=t.setIsOpenAddressReportPop,F=t.customBreadcrumbSelectTitle,W=t.getRegionListWithPostCode;(0,s.useEffect)((function(){var e;j===Gt.State?e=j:j===Gt.City?e=C[Gt.State]?j:Gt.State:j===Gt.District&&(e=C[Gt.City]?j:C[Gt.State]?Gt.City:Gt.State),S(e)}),[j]);var U=(0,s.useMemo)((function(){if(F)return F;switch(y){case Gt.State:return null==v?void 0:v.fieldTitle;case Gt.City:return null==b?void 0:b.fieldTitle;case Gt.District:return null==h?void 0:h.fieldTitle;default:return r("select")}}),[y,F]),V=(0,s.useMemo)((function(){var e,t,n;switch(A){case Gt.State:return(null==v||null===(e=v.extraInfo)||void 0===e?void 0:e.innerPlaceHolder)||r("search");case Gt.City:return(null==b||null===(t=b.extraInfo)||void 0===t?void 0:t.innerPlaceHolder)||r("search");case Gt.District:return(null==h||null===(n=h.extraInfo)||void 0===n?void 0:n.innerPlaceHolder)||r("search");default:return r("search")}}),[A]),H=(0,s.useMemo)((function(){var e,t,n;return[{key:Gt.State,title:(null===(e=C[Gt.State])||void 0===e?void 0:e.regionName)||U,onClick:function(){return x(Gt.State)}},{key:Gt.City,title:(null===(t=C[Gt.City])||void 0===t?void 0:t.regionName)||U,onClick:function(){return x(Gt.City)}},{key:Gt.District,title:(null===(n=C[Gt.District])||void 0===n?void 0:n.regionName)||U,onClick:function(){return x(Gt.District)}}].filter((function(e){return y>=e.key}))}),[y,C,U,x]),G=function(e){e.stopPropagation(),e.target.focus()};return s.createElement(s.Fragment,null,s.createElement(Ft,{className:Tn().headerWrap,list:H,activeKey:A,onClickCallback:function(){var e;return null===(e=T.current)||void 0===e?void 0:e.focus()}}),s.createElement("div",{className:Tn().inputWrap},s.createElement("input",{ref:T,placeholder:V,autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text",className:Tn().input,value:R,onChange:function(e){D(e.currentTarget.value)},onMouseDown:G,onTouchEnd:G,onFocus:L,onKeyDown:function(e){"Space"===e.code&&e.stopPropagation()}}),R?s.createElement(Rt.sL,{className:Tn().clean,onClick:function(){return D("")}}):null,s.createElement("div",{className:Tn().searchButton},s.createElement(Rt.Qn,{className:Tn().icon}))),O?s.createElement(N.A,{className:Tn().loadingWrap}):w?s.createElement(I.E,{onClick:function(){c?W({currentStep:A}):A===Gt.State?k(A,o,u):A===Gt.City?k(A,o,d):k(A,o,m)},wrapClass:Tn().errorView,iconClass:Tn().errorIcon}):s.createElement(s.Fragment,null,s.createElement(Fn,(0,Xe.A)({},n,{selectProps:t}),n.children,P&&s.createElement(N.A,{className:f()(Tn().loadingWrap,Tn().loadingMore)})),!!M&&s.createElement(xn,{activeStep:A,selectedOption:C,onMenuInputFocus:L,setIsOpenAddressReportPop:B})))},zn=function(e){var t=e.children,n=e.selectProps,r=(0,p.A)(e,Ln),o={cx:r.cx,clearValue:r.clearValue,getStyles:r.getStyles,getValue:r.getValue,hasValue:r.hasValue,isMulti:r.isMulti,isRtl:r.isRtl,options:r.options,selectOption:r.selectOption,setValue:r.setValue,selectProps:n,theme:r.theme};return s.createElement(Wn,(0,Xe.A)({},r,{selectProps:n}),s.Children.map(t,(function(e){return e||(r.hasValue?s.createElement(Un,(0,Xe.A)({},o,{isFocused:n.isFocused,isDisabled:n.isDisabled}),n.getOptionLabel(r.getValue()[0])):s.createElement(Vn,(0,Xe.A)({},o,{key:"placeholder",isDisabled:n.isDisabled,data:r.getValue()}),n.placeholder))})))},qn=function(e){var t,n,r,i,d=e.selectProps,m=(0,p.A)(e,jn),g=m.innerProps,v=m.data,b=v||{},h=b.regionName,E=b.regionId,_=b.childrenIsInformal,y=b.postcode,A=qt(),S=A.activeStep,C=A.selectedOption,I=A.setSelectedOption,O=A.setIsBack,N=A.setStep,w=A.setActiveStep,x=A.isPagination,k=(0,Y.Cr)(),P=k.setFormData,T=k.manualCheckValid,D=k.regionConfig,R=k.setShowRegion4,L=k.zipCodeRef,j=k.overallExtAttributes,M=D||{},B=M.region2,F=M.region3,W=M.region4,U=M.post_code,V=(j||{}).selectedRegionPostcodeAutofillAbtest,H=((null==U?void 0:U.order)||0)>((null==B?void 0:B.order)||0),G=(0,u.dI)(E)===(0,u.dI)(null===(t=C[S])||void 0===t?void 0:t.regionId)&&(!x||(0,u.dI)(y)===(0,u.dI)(null===(n=C[S])||void 0===n?void 0:n.postCode)),K=(0,s.useCallback)((function(e){var t,n;return null!=W&&null!==(t=W.extraInfo)&&void 0!==t&&t.isMultiSelection?null!=F&&null!==(n=F.extraInfo)&&void 0!==n&&n.isMultiSelection?S===Gt.City?e:S===Gt.District:S===Gt.State:S===Gt.City}),[S,null==F||null===(r=F.extraInfo)||void 0===r?void 0:r.isMultiSelection,null==W||null===(i=W.extraInfo)||void 0===i?void 0:i.isMultiSelection]),z=function(e){var t={};for(var n in C)Number(n)>e&&(t[n]=null);return t},J=function(){var e=(0,a.A)(l().mark((function e(t){var n,r,a,i,s,c,p,m,f,b,h,y;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||t.stopPropagation(),null==t||t.preventDefault(),S===Gt.City&&R(W&&!_),O(!1),(r=Kt(S,K(_)))?w(r):N(S),d.onInputChange(""),v.value!==(0,u.dI)(null===(n=C[S])||void 0===n?void 0:n.regionId)&&(a=z(S),I((function(e){return Bn(Bn({},e),a)}))),I((function(e){return Bn(Bn({},e),{},(0,o.A)({},S,v))})),!K(_)){e.next=31;break}if(g.onClick(),1!==V||x){e.next=15;break}return e.next=14,null===(s=L.current)||void 0===s||null===(c=s.checkZipCodeList)||void 0===c?void 0:c.call(s,{regionId:E,isPostCodeAfterState:H});case 14:i=e.sent;case 15:if(1!==(null==(p=i||v.postcodeList||(v.postcode?[v.postcode]:[]))?void 0:p.length)){e.next=26;break}if(p[0]){e.next=19;break}return e.abrupt("return");case 19:b=(null==U||null===(m=U.extraInfo)||void 0===m||null===(f=m.postCodeDisplayRule)||void 0===f?void 0:f.prefix)||"",h={postCode:p[0].substring(b.length)},P((function(e){return Bn(Bn({},e),{},{addressInfo:Bn(Bn({},e.addressInfo),h)})})),y=[q.W1.ZIP_CODE],T(y,h),e.next=29;break;case 26:if(H&&1!==V){e.next=28;break}return e.abrupt("return");case 28:P((function(e){return Bn(Bn({},e),{},{addressInfo:Bn(Bn({},e.addressInfo),{},{postCode:""})})}));case 29:e.next=32;break;case 31:d.onMenuInputFocus();case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){return window.addEventListener(c.up.OnlyResultAutoFillback,J),function(){window.removeEventListener(c.up.OnlyResultAutoFillback,J)}}),[]),s.createElement(Ve.Rp,{page_el_sn:200137},s.createElement("div",(0,Xe.A)({},g,{onClick:J,"data-index":v.index,role:"button",tabIndex:0}),s.createElement("div",{className:f()(Tn().item,(0,o.A)({},Tn().activeItem,G)),id:G?"activeItem":""},s.createElement("div",null,s.createElement("span",{className:Tn().regionName},h),!!y&&s.createElement("span",{className:Tn().postCode},y)),K(_)&&G&&s.createElement(Rt.Cl,{className:Tn().selectedIcon}),!K(_)&&s.createElement(Rt.hu,{className:Tn().arrowIcon}))))},Yn=function(e){var t;return s.createElement(Wt.A,{isOpen:null==e||null===(t=e.selectProps)||void 0===t?void 0:t.menuIsOpen})},Jn=function(){return s.createElement(N.A,{className:f()(Tn().loadingWrap,Tn().loadingMessage)})},Zn=(0,s.forwardRef)((function(e,t){var n=e.onBlur,a=e.onFocus,i=e.selectedItem,l=e.activeStep,c=e.placeholder,d=e.needServerSearchRegion,p=e.regionConfig,m=e.tabIndex,g=e.hasError,v=e.customBreadcrumbSelectTitle,b=(0,Y.Cr)(),h=b.isInEditPop,E=b.addressInfo,_=qt(),y=_.inputValue,A=_.setInputValue,S=_.options,C=_.activeStep,I=_.force,O=_.resetCascader,N=(0,s.useState)(!1),w=(0,r.A)(N,2),x=w[0],k=w[1],P=E.regionId1,T=E.regionId2,D=E.regionId3,R=(0,s.useState)(!0),L=(0,r.A)(R,2),j=L[0],M=L[1],B=(0,s.useState)(!1),F=(0,r.A)(B,2),W=F[0],U=F[1],V=(0,s.useCallback)((function(e){var t=document.querySelector(".address_state_select__menu"),n=document.querySelector(".addressReportPop");null!=n&&n.contains(e.target)||document.contains(e.target)&&t&&t.contains(e.target)||(k(!1),A(""))}),[]);(0,s.useEffect)((function(){var e=(0,u.Zw)("#addressEditScrollContainer")||document;return e.addEventListener("mousedown",V),function(){e.removeEventListener("mousedown",V)}}),[V]),(0,s.useEffect)((function(){var e=setTimeout((function(){var e=document.querySelector("#activeItem");null==e||e.scrollIntoView({block:"nearest",inline:"start"})}),20);return function(){clearTimeout(e)}}),[I]),(0,Vt.A)((function(){O()}),[P]),(0,Vt.A)((function(){!x&&n(),x&&(null==a||a())}),[x]),(0,Vt.A)((function(){!y&&M(!0)}),[y]),(0,s.useImperativeHandle)(t,(function(){return{setIsFocused:k}}));var H=(0,s.useCallback)(d?Dt()((function(e,t){var n;n=C===Gt.State?{region_id1:P,region_name2:e}:C===Gt.City?{region_id1:P,region_id2:T,region_name3:e}:{region_id1:P,region_id2:T,region_id3:D,region_name4:e},Q.getRegionSuggest(n).then((function(e){var n=e.list;M(!(null==n||!n.length)),t(n)}))}),300):function(e,t){var n=String(e).trim().toLowerCase(),r=S[C].filter((function(e){return String(e.label).toLowerCase().startsWith(n)||e.regionShortName.toLowerCase()===n}));M(!(null==r||!r.length)),t(r)},[S,C,P,T,D]),G=(0,Ht.A)(p),K=G.menuPortalTarget,z=G.menuPortalStyle,q=(0,s.useMemo)((function(){return{menuPortal:function(e){var t;return Bn(Bn(Bn({},e),z),{},{left:(null!==(t=e.left)&&void 0!==t?t:0)+window.scrollX})}}}),[z]);return s.createElement("div",{className:Tn().asyncSelectWrap},s.createElement(Pt.A,{"aria-label":c||(null==p?void 0:p.accessibleBroadcast),className:f()("stateContainer",(0,o.A)({},Tn().hasError,g)),classNamePrefix:"address_state_select",placeholder:c,defaultOptions:S[C],loadOptions:H,value:null==i?void 0:i.regionId,controlShouldRenderValue:!(null==i||!i.regionId),components:{Control:Hn,MenuList:Kn,ValueContainer:zn,Option:qn,IndicatorsContainer:Yn,LoadingMessage:Jn,NoOptionsMessage:Gn},inputValue:y,isSearchable:!1,initActiveStep:l,onMenuInputFocus:function(){return k(!0)},onChange:function(){return k(!1)},onInputChange:function(e){return A(e)},menuIsOpen:!!W||(x||void 0),isFocused:x||void 0,menuPortalTarget:K,maxMenuHeight:h?350:418,onMenuOpen:function(){setTimeout((function(){var e=document.querySelector("#activeItem");null==e||e.scrollIntoView({block:"nearest",inline:"start"})}),20)},closeMenuOnScroll:h?function(e){var t,n;return e.target instanceof Element&&!(null!==(t=e.target)&&void 0!==t&&null!==(n=t.className)&&void 0!==n&&n.includes("address_state_select__menu-list"))}:void 0,menuPlacement:"auto",showReportEntry:j,setIsOpenAddressReportPop:U,tabIndex:m,styles:q,customBreadcrumbSelectTitle:v}))})),Qn=(0,s.forwardRef)((function(e,t){var n=e.onBlur,i=e.onFocus,c=e.selectedItem,d=e.activeStep,p=e.placeholder,m=e.regionConfig,g=e.tabIndex,v=e.hasError,b=e.customBreadcrumbSelectTitle,h=(0,Y.CM)().isCardAddress,E=(0,Y.Cr)(),_=E.isInEditPop,y=E.addressInfo,A=qt(),S=A.inputValue,C=A.setInputValue,I=A.options,O=A.setOptions,N=A.selectedOption,w=A.setSelectedOption,x=A.activeStep,k=A.resetCascader,P=A.cachedOptionsRef,T=A.setStep,D=A.loading,R=A.setLoading,L=A.setLoadingMore,j=A.setIsApiError,M=A.regionConfig,B=(0,s.useState)(!1),F=(0,r.A)(B,2),W=F[0],U=F[1],V=y.regionId1,H=y.regionId2,G=y.regionId3,K=y.regionId4,z=y.regionName2,q=y.regionName3,J=y.regionName4,Z=y.postCode,X=(0,s.useState)(!0),$=(0,r.A)(X,2),ee=$[0],te=$[1],ne=(0,s.useState)(!1),re=(0,r.A)(ne,2),oe=re[0],ae=re[1],ie=(0,s.useRef)(!1),le=(0,s.useRef)(0),se=(0,s.useRef)(!1),ce=(0,s.useState)(!0),ue=(0,r.A)(ce,2),de=ue[0],pe=ue[1],me=((null==m?void 0:m.extraInfo)||{}).pageSize,fe=void 0===me?200:me,ge=(0,s.useCallback)((function(e){var t=document.querySelector(".address_state_select__menu"),n=document.querySelector(".addressReportPop");null!=n&&n.contains(e.target)||document.contains(e.target)&&t&&t.contains(e.target)||(U(!1),C(""))}),[]);(0,s.useEffect)((function(){return document.addEventListener("mousedown",ge),function(){document.removeEventListener("mousedown",ge)}}),[ge]),(0,Vt.A)((function(){k()}),[V]),(0,Vt.A)((function(){!W&&n(),W&&(null==i||i())}),[W]),(0,Vt.A)((function(){!S&&te(!0)}),[S]);var ve=(0,s.useCallback)(function(){var e=(0,a.A)(l().mark((function e(t){var n,r,a,i,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.currentStep,r=t.loadMore,e.prev=1,V&&!ie.current){e.next=4;break}return e.abrupt("return");case 4:return ie.current=!0,r?(L(!0),se.current=!0):R(!0),j(!1),a=r?le.current:0,i=Bn(Bn(Bn({region_id1:V,from:a*fe,size:fe,scene:h?"billing_address":"shipping_address"},n===Gt.State?{parent_region_id:V}:{}),n===Gt.City?{parent_region_id:H}:{}),n===Gt.District?{parent_region_id:G}:{}),e.next=11,Q.getRegionListWithPostCode(i);case 11:if(s=e.sent,c=s.list){e.next=16;break}return j(!0),e.abrupt("return");case 16:r?O((function(e){return Bn(Bn({},e),{},(0,o.A)({},n,[].concat((0,wt.A)(e[n]),(0,wt.A)(c))))})):(O((function(e){return Bn(Bn({},e),{},(0,o.A)({},n,c))})),P.current=Bn(Bn({},P.current),{},(0,o.A)({},n,c)),te(!(null==c||!c.length))),(!c.length||c.length<fe)&&pe(!1),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),j(!0);case 23:return e.prev=23,L(!1),R(!1),se.current=!1,ie.current=!1,e.finish(23);case 29:case"end":return e.stop()}}),e,null,[[1,20,23,29]])})));return function(t){return e.apply(this,arguments)}}(),[V,H,G,I]),be=(0,s.useCallback)(Dt()(function(){var e=(0,a.A)(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.val,e.prev=1,V){e.next=4;break}return e.abrupt("return");case 4:R(!0),j(!1),(r=x===Gt.State?{region_id1:V,region_name2:n}:x===Gt.City?{region_id1:V,region_id2:H,region_name3:n}:{region_id1:V,region_id2:H,region_id3:G,region_name4:n}).postcode_flatten=!0,Q.getRegionSuggest(r).then((function(e){var t=e.list;te(!(null==t||!t.length)),O((function(e){return Bn(Bn({},e),{},(0,o.A)({},x,t))}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),j(!0);case 14:return e.prev=14,R(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),300),[V,I,x]);(0,s.useEffect)((function(){d===Gt.State&&ve({currentStep:Gt.State})}),[d,V]),(0,s.useEffect)((function(){N[Gt.State]||!M.region2?N[Gt.City]||!M.region3?M.region4&&(N[Gt.District]?T(Gt.City):T(Gt.District)):T(Gt.City):T(Gt.State)}),[N]),(0,s.useEffect)((function(){w(z?function(e){return Bn(Bn({},e),{},(0,o.A)({},Gt.State,{regionId:(0,u.dI)(H),regionName:(0,u.dI)(z)}))}:function(e){return Bn(Bn({},e),{},(0,o.A)({},Gt.State,null))})}),[z]),(0,s.useEffect)((function(){P.current[x].length||x===Gt.City&&!H||x===Gt.District&&!G||ve({currentStep:x})}),[x,H,G]),(0,s.useEffect)((function(){w(q?function(e){return Bn(Bn({},e),{},(0,o.A)({},Gt.City,Bn({regionId:(0,u.dI)(G),regionName:(0,u.dI)(q)},!M.region4&&Z?{postCode:Z}:{})))}:function(e){return Bn(Bn({},e),{},(0,o.A)({},Gt.City,null))})}),[q]),(0,s.useEffect)((function(){w(J?function(e){return Bn(Bn({},e),{},(0,o.A)({},Gt.District,Bn({regionId:(0,u.dI)(K),regionName:(0,u.dI)(J)},M.region4&&Z?{postCode:Z}:{})))}:function(e){return Bn(Bn({},e),{},(0,o.A)({},Gt.District,null))})}),[J]),(0,s.useImperativeHandle)(t,(function(){return{setIsFocused:U}}));var he=(0,Ht.A)(m),Ee=he.menuPortalTarget,_e=he.menuPortalStyle,ye=(0,s.useMemo)((function(){return{menuPortal:function(e){var t;return Bn(Bn(Bn({},e),_e),{},{left:(null!==(t=e.left)&&void 0!==t?t:0)+window.scrollX})}}}),[_e]);return s.createElement("div",{className:Tn().asyncSelectWrap},s.createElement(kt.Ay,{className:f()("stateContainer",(0,o.A)({},Tn().hasError,v)),classNamePrefix:"address_state_select",placeholder:p,options:I[x],filterOption:function(){return!0},isLoading:D,value:null==c?void 0:c.regionName,controlShouldRenderValue:!(null==c||!c.regionName),components:{Control:Hn,MenuList:Kn,ValueContainer:zn,Option:qn,IndicatorsContainer:Yn,LoadingMessage:Jn,NoOptionsMessage:Gn},inputValue:S,isSearchable:!1,initActiveStep:d,onMenuInputFocus:function(){return U(!0)},onChange:function(){return U(!1)},onInputChange:function(e){le.current=0,pe(!0),C(e),e?be({val:e}):O(P.current)},getRegionListWithPostCode:ve,menuIsOpen:!!oe||(W||void 0),isFocused:W||void 0,menuPortalTarget:Ee,maxMenuHeight:_?350:418,closeMenuOnScroll:_?function(e){var t,n;return e.target instanceof Element&&!(null!==(t=e.target)&&void 0!==t&&null!==(n=t.className)&&void 0!==n&&n.includes("address_state_select__menu-list"))}:void 0,menuPlacement:"auto",showReportEntry:ee,setIsOpenAddressReportPop:ae,tabIndex:g,styles:ye,onMenuScrollToBottom:function(){de&&!se.current&&(le.current+=1,S||ve({currentStep:x,loadMore:!0}))},customBreadcrumbSelectTitle:b}))})),Xn=(0,s.forwardRef)((function(e,t){return qt().isPagination?s.createElement(Qn,(0,Xe.A)({},e,{ref:t})):s.createElement(Zn,(0,Xe.A)({},e,{ref:t}))})),$n=(n(33110),n(8565)),er=(n(58940),n(84864),n(57465),n(27495),n(87745),n(38781),n(25440),n(34782),n(44383)),tr=n.n(er),nr=n(47116),rr=n(92943),or=n(86063);var ar=function(e){var t=e.selectRef,n=e.cb;return(0,s.useCallback)((function(){var e;null===(e=t.current)||void 0===e||e.focus(),null==n||n(),setTimeout((function(){var e,n=(0,u.bV)("#".concat(q.RA)),r=function(e,t){if(!e||!t)return 0;var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return n.top-r.top+t.scrollTop-50}((null===(e=t.current)||void 0===e?void 0:e.controlRef)||t.current,n);(0,$t.B)(r,n)}),30)}),[t,n])},ir=n(18663),lr=n.n(ir),sr=["displayFields"];function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dr,pr=function(e){var t,n,r=(0,Y.Cr)(),o=r.formData,a=(r.addressRecommendInfo||{}).commonRecommendInfoList;return null==a||null===(t=a.filter((function(e){var t;return null===(t=e.selectedField)||void 0===t||!t.length||e.selectedField.join(",")===o.selectedField})))||void 0===t||null===(n=t.map((function(e){var t=e.displayFields,n=(0,p.A)(e,sr);return ur({displayFields:null==t?void 0:t.map((function(e){return(0,k.yp)(e)}))},n)})))||void 0===n?void 0:n.filter((function(t){var n;return null===(n=t.displayFields)||void 0===n?void 0:n.includes(e)}))},mr=function(e){var t=e.vKey,n=e.onlyMobile,r=e.callback,a=(0,Y.CM)().addrScene,i=(0,Y.Cr)(),l=i.setFormData,c=i.manualCheckValid,u=pr(t),d=(0,s.useCallback)((function(e){var n=document.querySelector(".recommendPopover".concat(t));null!=n&&n.contains(e.target)||r()}),[r,t]);(0,s.useEffect)((function(){return document.addEventListener("mousedown",d),function(){document.removeEventListener("mousedown",d)}}),[d]);var p=(0,s.useCallback)((function(e){var a=e.recommendAddressDetails,i=a.name,s=a.mobile,u=a.phoneCode,d=a.phoneRegionId,p=a.phoneShortName;n?(l((function(e){var n;return ur(ur({},e),{},(n={},(0,o.A)(n,t,s),(0,o.A)(n,"phoneCode",u),(0,o.A)(n,"phoneRegionId",d),(0,o.A)(n,"phoneShortName",p),n))})),setTimeout((function(){c([t],e.recommendAddressDetails)}),0)):(l((function(t){return ur(ur(ur({},t),e.recommendAddressDetails),{},{fullName:i})})),setTimeout((function(){c(e.displayFields,ur(ur({},e.recommendAddressDetails),{},{fullName:i}),{needShowSearchBarField:!1})}),0)),r()}),[r]);return s.createElement(Ve.nU,{page_el_sn:239387,others:{addr_scene:a},useImpr:!1},s.createElement("div",{className:f()(lr().recommendList,"recommendPopover".concat(t))},null==u?void 0:u.map((function(e){return s.createElement("div",{key:e.displayItem,className:lr().item,onClick:function(){p(e)},role:"button",tabIndex:0},n?e.recommendAddressDetails.mobile:e.displayItem)}))))},fr=(0,s.memo)(mr),gr=n(15906),vr=n.n(gr);function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?br(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Er=(dr={},(0,o.A)(dr,q.W1.NAME,{pageElSn:201046}),(0,o.A)(dr,q.W1.CITY,{pageElSn:201051}),(0,o.A)(dr,q.W1.ADDRESS_LINE2,{pageElSn:219077}),(0,o.A)(dr,q.W1.ADDRESS_LINE3,{pageElSn:224847}),(0,o.A)(dr,q.W1.TAXCODE,{pageElSn:223042}),(0,o.A)(dr,q.W1.LAST_NAME,{pageElSn:223273}),(0,o.A)(dr,q.W1.FIRST_NAME,{pageElSn:223272}),(0,o.A)(dr,q.W1.ADDITIONAL_LAST_NAME,{pageElSn:223276}),(0,o.A)(dr,q.W1.ADDITIONAL_FIRST_NAME,{pageElSn:223275}),dr),_r=(0,nr.PA)((function(e){var t=e.vKey,n=e.handleTranslate,r=((0,Y.Cr)().store||{}).translateCtx[t]||{},a=r.loading,i=r.translateTips,l=r.translatingTips,c=r.translationFillBackFieldKey,u=r.translationFieldKey,d=r.resultCode;if(!c)return null;if(t!==(0,k.yp)(c))return null;if(a)return s.createElement("div",{className:vr().translateTip},(0,or.A)(l));if(i){var p=1===d;return s.createElement("div",{className:f()(vr().translateTip,(0,o.A)({},vr().clickable,p)),role:"button",tabIndex:0,onClick:p?function(){return n(u)}:void 0},(0,or.A)(i))}return null})),yr=(0,s.forwardRef)((function(e,t){var n,i=e.vKey,c=e.value,d=e.type,p=e.className,m=e.handleInput,g=e.regionConfig,v=e.others,b=e.isSplit,h=e.isSlave,E=(0,Y.s4)(),_=E.warningValueFront,S=E.warningInfo[i]||{},C=S.showWarning,I=S.warningText,O=S.warningBoard,N=(0,Y.XQ)().notDeliveredInfo,w=!(null==N||!N[i]),x=(Er[i]||{}).pageElSn,P=(0,s.useRef)(null),T=(0,s.useState)(!1),D=(0,r.A)(T,2),R=D[0],j=D[1],M=(0,Y.CM)(),B=M.isEdit,F=M.addrScene,W=(0,Y.Cr)(),U=W.overallExtAttributes,V=W.formData,H=W.setFormData,G=W.setFormDataOrigin,K=W.matchErrors,z=W.regionId1,Z=W.manualCheckValid,X=W.regionConfig,$=W.store||{},ee=$.translateCtx,te=$.cancelTokenSource,ne=$.setTranslateCtx,re=(U||{}).addressEditPageOptimizationAbtest,oe=(0,s.useState)(!1),ae=(0,r.A)(oe,2),ie=ae[0],le=ae[1],se=(0,s.useState)(!1),ce=(0,r.A)(se,2),ue=ce[0],de=ce[1],pe=(0,s.useState)(!1),me=(0,r.A)(pe,2),fe=me[0],ge=me[1],ve=(0,A.Sz)().isRTL,be=C&&I&&O,he=(0,s.useCallback)(function(){var e=(0,a.A)(l().mark((function e(t){var n,r,a,s,u,d,p,m;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t?X[(0,k.Su)(t)]:g,r=(null==n?void 0:n.extraInfo)||{},a=r.translationScene,s=r.translationFillBackFieldKey,u=r.translatingTips,a&&s){e.next=4;break}return e.abrupt("return");case 4:return d=(0,k.yp)(s),ne((0,o.A)({},d,{loading:!0,translatingTips:u,translationFillBackFieldKey:d,translationFieldKey:t||i})),e.next=8,(0,Q.translate)({region_id1:z,field_key:s,translation_scene:a,origin_content:t?V[t]:c},{cancelToken:te.token});case 8:p=e.sent,(0,L.mE)({event:"translateSuccess",data:JSON.stringify({res:p})}),ne((0,o.A)({},d,hr(hr(hr({},ee[d]),p),{},{loading:!1}))),null!=p&&p.resultContent&&(m=(0,o.A)({},d,p.resultContent),H((function(e){return hr(hr({},e),m)})),Z([d],m));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[V,g,z,c,i]),Ee=(0,s.useCallback)((function(){ne((0,o.A)({},i,{}))}),[i]),_e=(0,s.useMemo)((function(){return[q.W1.FIRST_NAME,q.W1.LAST_NAME].includes(i)?hr(hr({},v),{},{addr_scene:F,error_code:K}):v}),[i,F,K,v]),ye=(0,s.useCallback)((function(e){var t,n;j(!0),le(!0),(0,L.mE)({event:"addressEditInputFocus",data:(0,u.Jm)((0,o.A)({},i,null==e||null===(t=e.target)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.length))})}),[i]),Ae=(0,s.useCallback)((function(e){(0,L.F$)({vKey:i,data:null==e?void 0:e.length}),m(e),Ee(),e||le(!1)}),[i,m,Ee]),Se=(0,s.useCallback)((0,a.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!1),(0,L.pW)(i),null==_||_({val:c,name:i,regionConfig:g}),c&&!ue){e.next=5;break}return e.abrupt("return");case 5:he();case 6:case"end":return e.stop()}}),e)}))),[he,g,i,c,ue]),Ce=(0,s.useMemo)((function(){var e,t=null==g||null===(e=g.extraInfo)||void 0===e?void 0:e.displayRule,n=[];if(!t)return null;var r=t.formatRule;return(void 0===r?[]:r).forEach((function(e){isNaN(parseInt(e,10))&&!n.includes(e)&&n.push(e)})),new RegExp("[".concat(n.join(""),"]"),"g")}),[g]),Ie=(0,s.useMemo)((function(){var e,t=null==g||null===(e=g.extraInfo)||void 0===e?void 0:e.displayRule;if(!t)return null;var n=t.enterWhiteListRegex;if(!n)return null;var r=n.replace(/^\[|\]$/g,"");return new RegExp("[^".concat(r,"]"),"g")}),[g]),Oe=(0,s.useCallback)((function(e){return(e||"").replace(Ie,"").replace(Ce,"")}),[Ce,Ie]),Ne=(0,s.useCallback)((function(e){var t,n=null==g||null===(t=g.extraInfo)||void 0===t?void 0:t.displayRule;if(!n)return e;var r=n.formatRule,o=void 0===r?[]:r,a=n.trigger,i=n.displayType;ge("blur"===a);var l=Oe(e);1===i&&(l=(0,u.A9)(l));for(var s=0,c=1;c<o.length;c+=2){var d=Number(o[c-1])+s;if(d>l.length-1)break;l="".concat(l.slice(0,d)).concat(o[c]).concat(l.slice(d)),s=d+1}return 1===i?(0,u.A9)(l):l}),[g,Oe]);(0,s.useEffect)((function(){b||G((function(e){return hr(hr({},e),{},(0,o.A)({},i,Ne(c)))}))}),[b]);var we=(0,J.A)(g);(0,s.useEffect)((function(){we===g&&(null==_||_({val:c,name:i,regionConfig:g}))}),[i,c,g,_]);var xe=ar({selectRef:P}),ke=pr(i),Pe=(0,s.useMemo)((function(){var e;if(null==ke||!ke.length)return!1;var t=ke.filter((function(e){return e.displayWhenAllEmpty})),n=ke.filter((function(e){return!e.displayWhenAllEmpty})),r=(null===(e=t[0])||void 0===e?void 0:e.displayFields)||[],o=hr(hr({},V),{},{name:V.fullName}),a=0===Object.values(tr()(o,r)).filter((function(e){return!!e})).length;return ie&&!o[i]&&(n.length||t.length&&a)}),[i,ie,V,ke]);return(0,s.useEffect)((function(){Pe&&(0,y.WW)({page_el_sn:239387,addr_scene:F})}),[Pe,F]),s.createElement(s.Fragment,null,s.createElement(Nt.A,{vKey:i,labelClassName:vr().label,regionConfig:g,isFloatLabel:R||!!c,onValidateChange:de,isSplit:b,isSlave:h,onAutoFocus:xe},s.createElement(rr.A,{appendToBody:!!B,overlay:s.createElement(fr,{vKey:i,callback:function(){le(!1)}}),placement:B?"bottom":ve?"bottomRight":"bottomLeft",visible:Pe,className:vr().popover,outerClassName:vr().popoverWrap},s.createElement(Ot.A,{vKey:i,trigger:["onChange","onBlur"],regionConfig:g,pageElSn:x},s.createElement(an.A,{accessibleBroadcast:null==g?void 0:g.accessibleBroadcast,type:d,enterType:null==g?void 0:g.enterType,value:c,maxLength:null==g?void 0:g.maxSize,wrapClassName:f()(ue&&vr().hasError,be&&vr().showWarningBoard),className:f()(vr().input,p,(0,o.A)({},vr().colorRed,w)),onChange:Ae,onFocus:ye,onBlur:Se,placeholder:null==g?void 0:g.placeholder,pageElSn:x,others:_e,ref:(0,u.K4)(P,t),tabIndex:g.tabIndex,addressEditPageOptimizationAbtest:re,fieldTitle:null==g?void 0:g.fieldTitle,prefix:h?"":null==g?void 0:g.displayPrefix,disableCharacters:null==g?void 0:g.disableCharacters,filter:Oe,formatter:Ne,isFormatOnBlur:fe,dividerRegex:Ce,disableModifyCursor:!(null!=g&&null!==(n=g.extraInfo)&&void 0!==n&&n.displayRule)})))),s.createElement(_r,{vKey:i,handleTranslate:he}))})),Ar=(0,s.memo)(yr),Sr=n(92179),Cr=n.n(Sr),Ir=["children"];function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wr=function(e){var t=e.children,n=(0,p.A)(e,Ir),r=(0,s.useCallback)((function(){}),[]);return s.createElement($n.A,{page_el_sn:200124},s.createElement("div",{onClick:r,className:"controlWrap",role:"button",tabIndex:0},s.createElement(xt.c.Control,n,t)))},xr=(0,s.memo)((function(e){var t=e.item,n=e.activeValue,r=t.innerProps,a=t.data||{},i=a.regionName,l=a.value===n;return s.createElement($n.A,{page_el_sn:200137},s.createElement("div",r,s.createElement("div",{className:f()(Cr().item,(0,o.A)({},Cr().activeItem,l))},s.createElement("span",{className:Cr().regionName},i),l?s.createElement(Rt.Cl,{className:Cr().rightIcon}):null)))})),kr=function(e){var t;return s.createElement(Wt.A,{isOpen:null==e||null===(t=e.selectProps)||void 0===t?void 0:t.menuIsOpen})},Pr=function(e){var t=e.regionConfig,n=(0,_.B)("bec-fe.web-address").t,o=(0,Y.CM)().isCardAddress,i=(0,Y.Cr)(),d=i.setFormData,p=i.regionId1,m=i.addressInfo,g=i.isInEditPop,v=(0,Y.s4)().validateValueRequired,b=m.regionId2,h=m.regionFullName2,E=m.regionName2,y=(0,s.useState)([]),A=(0,r.A)(y,2),S=A[0],C=A[1],I=(0,s.useState)(0),O=(0,r.A)(I,2),N=O[0],w=O[1],x=(0,s.useState)(0),k=(0,r.A)(x,2),P=k[0],T=k[1];(0,s.useEffect)((function(){if(p){var e=function(){var e=(0,a.A)(l().mark((function e(){var t,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.getRegionList({parent_id:p,scene:o?"billing_address":"shipping_address"});case 2:t=e.sent,n=t.parentId,r=t.list,p===n&&(C(r),w(null==r?void 0:r.findIndex((function(e){return b===e.value}))),T((function(e){return e+1})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[p,o,b]),(0,s.useEffect)((function(){var e,t=document.querySelector(".address_state_select_v1__menu-list"),n=g?4:5;null==t||null===(e=t.scrollTo)||void 0===e||e.call(t,0,38*(N-n))}),[P,g,N]);var D=(0,s.useCallback)((function(e){d((function(t){return Nr(Nr({},t),{},{addressInfo:Nr(Nr({},t.addressInfo),{},{regionName2:e,regionFullName2:e})})}))}),[]),R=(0,s.useCallback)((function(e){(0,L.mE)({event:"addressEditSelectChange",data:q.W1.STATE}),w(e.index),d((function(t){return Nr(Nr({},t),{},{addressInfo:Nr(Nr({},t.addressInfo),{},{regionId2:(0,u.dI)(e.regionId),regionName2:(0,u.dI)(e.regionName),regionFullName2:(0,u.dI)(e.regionName)})})}))}),[]),j=(0,s.useRef)(""),M=(0,s.useCallback)((function(){if(!b){var e;if(j.current&&g)(0,L.mE)({event:"addressStateInputValueMissing",data:JSON.stringify({inputValue:null===(e=j.current)||void 0===e?void 0:e.length})});j.current="",v({val:b,name:q.W1.STATE,needShowValidate:!0,needRequired:!0})}}),[b]),B=null!=t&&t.order?{order:null==t?void 0:t.order}:{},F=h||E||(null==t?void 0:t.placeholder)||"",W=(0,s.useCallback)((function(e){return s.createElement(xr,{item:e,activeValue:b})}),[b]);return s.createElement(s.Fragment,null,(null==t?void 0:t.enterType)!==c.UE.SELECT?s.createElement(Ar,{vKey:q.W1.STATE,value:E,handleInput:D,regionConfig:t}):s.createElement("div",{className:f()(Cr().stateCity,!b&&Cr().empty,g&&Cr().editPop),style:B},s.createElement(Nt.A,{vKey:q.W1.STATE,className:"state",labelClassName:Cr().label,regionConfig:t,isFloatLabel:!0},s.createElement(Ot.A,{vKey:q.W1.STATE,trigger:["onChange"],regionConfig:t},s.createElement(kt.Ay,{"aria-label":F||t.accessibleBroadcast,options:S,placeholder:F,value:b,className:"stateContainer",classNamePrefix:"address_state_select_v1",components:{Control:wr,Option:W,IndicatorsContainer:kr},menuPortalTarget:g?document.body:void 0,isSearchable:g,filterOption:function(e,t){var n,r,o=e.label,a=e.data;j.current=t;var i=String(t).trim().toLowerCase();return String(o).toLowerCase().startsWith(i)||(null==a||null===(n=a.regionShortName)||void 0===n||null===(r=n.toLowerCase)||void 0===r?void 0:r.call(n))===i},maxMenuHeight:g?350:418,onChange:R,onBlur:M,onMenuOpen:function(){T((function(e){return e+1}))},closeMenuOnScroll:g?function(e){var t,n;return!(null!==(t=e.target)&&void 0!==t&&null!==(n=t.className)&&void 0!==n&&n.includes("address_state_select_v1__menu-list"))}:void 0,menuPlacement:"auto",noOptionsMessage:function(){return n("address.noSearchOptions")},tabIndex:t.tabIndex})))))},Tr=(0,s.memo)(Pr),Dr=n(29851),Rr=n(45878),Lr=n.n(Rr);function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Br=function(e){var t,n=e.regionConfig,o=(0,Y.Cr)(),i=o.setFormData,c=o.manualCheckValid,d=o.regionId1,p=o.addressInfo.regionName3,m=(0,s.useState)([]),f=(0,r.A)(m,2),g=f[0],v=f[1],b=(0,s.useState)(!1),h=(0,r.A)(b,2),E=h[0],_=h[1],y=(0,s.useRef)({reqIdx:0,resIdx:0}),A=(0,s.useCallback)(function(){var e=(0,a.A)(l().mark((function e(t){var n,r,o,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(++y.current.reqIdx,n={region_id1:d,city_name:t},r={list:[],idx:y.current.reqIdx},!t){e.next=7;break}return e.next=6,Q.getAddressListByCity(n,{idx:y.current.reqIdx});case 6:r=e.sent;case 7:a=(o=r).list,i=o.idx,y.current.resIdx<i&&(y.current.resIdx=i,v(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d]),S=null==n||null===(t=n.extraInfo)||void 0===t?void 0:t.isSupportRegion3Recommend,C=(0,s.useCallback)((function(e){i((function(t){return Mr(Mr({},t),{},{addressInfo:Mr(Mr({},t.addressInfo),{},{regionName3:e})})}))}),[i]),I=(0,s.useCallback)((function(e){var t=e.regionId2,n=e.regionId3,r=e.regionName2,o=e.regionFullName2,a=e.regionName3,l=e.postCode,s={regionId2:(0,u.dI)(t),regionId3:(0,u.dI)(n),regionName2:(0,u.dI)(r),regionFullName2:(0,u.dI)(o),regionName3:(0,u.dI)(a)};l&&(s.postCode=(0,u.dI)(l)),i((function(e){return Mr(Mr({},e),{},{addressInfo:Mr(Mr({},e.addressInfo),s||{})})}));var d=[q.W1.STATE,q.W1.CITY];l&&d.push(q.W1.ZIP_CODE),c(d,s)}),[i,c]),O=(0,s.useCallback)((function(){return v([])}),[]),N=(0,s.memo)((function(e){var t=e.data,n=t.postCode,r=t.regionName2,o=t.regionName3;return s.createElement("p",{className:Lr().item},(0,u.P5)({list:[o,r,n]}))}));return s.createElement(s.Fragment,null,S?s.createElement(Nt.A,{vKey:q.W1.CITY,labelClassName:Lr().label,regionConfig:n,isFloatLabel:E||!!p},s.createElement(Ot.A,{vKey:q.W1.CITY,trigger:["onInput","onBlur"],actionName:"onInput",regionConfig:n},s.createElement(Dr.A,{regionConfig:n,vKey:q.W1.CITY,options:g,onSelect:I,inputValue:p,onInput:C,onFocus:function(){return _(!0)},onBlur:function(){return _(!1)},onSearch:A,onResetOptions:O,Item:N,placeholder:"",maxMenuHeight:169,blurInputOnSelect:!0,tabIndex:n.tabIndex}))):s.createElement(Ar,{vKey:q.W1.CITY,value:p,handleInput:C,regionConfig:n}))},Fr=(0,s.memo)(Br);function Wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vr=function(e){var t,n=e.regionConfig,o=(0,Y.Cr)(),i=o.setFormData,c=o.manualCheckValid,d=o.regionId1,p=o.addressInfo.regionName4,m=(0,s.useState)([]),f=(0,r.A)(m,2),g=f[0],v=f[1],b=(0,s.useState)(!1),h=(0,r.A)(b,2),E=h[0],_=h[1],y=(0,s.useRef)({reqIdx:0,resIdx:0}),A=(0,s.useCallback)(function(){var e=(0,a.A)(l().mark((function e(t){var n,r,o,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(++y.current.reqIdx,n={region_id1:d,city_name:t},r={list:[],idx:y.current.reqIdx},!t){e.next=7;break}return e.next=6,Q.getAddressListByCity(n,{idx:y.current.reqIdx});case 6:r=e.sent;case 7:a=(o=r).list,i=o.idx,y.current.resIdx<i&&(y.current.resIdx=i,v(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d]),S=null==n||null===(t=n.extraInfo)||void 0===t?void 0:t.isSupportRegion4Recommend,C=(0,s.useCallback)((function(e){i((function(t){return Ur(Ur({},t),{},{addressInfo:Ur(Ur({},t.addressInfo),{},{regionName4:e})})}))}),[i]),I=(0,s.useCallback)((function(e){var t=e.regionId2,n=e.regionId3,r=e.regionName2,o=e.regionFullName2,a=e.regionName3,l=e.regionName4,s=e.postCode,d={regionId2:(0,u.dI)(t),regionId3:(0,u.dI)(n),regionName2:(0,u.dI)(r),regionFullName2:(0,u.dI)(o),regionName3:(0,u.dI)(a),regionName4:(0,u.dI)(l)};s&&(d.postCode=(0,u.dI)(s)),i((function(e){return Ur(Ur({},e),{},{addressInfo:Ur(Ur({},e.addressInfo),d||{})})}));var p=[q.W1.STATE,q.W1.CITY,q.W1.DISTRICT];s&&p.push(q.W1.ZIP_CODE),c(p,d)}),[i,c]),O=(0,s.useCallback)((function(){return v([])}),[]),N=(0,s.memo)((function(e){var t=e.data,n=t.postCode,r=t.regionName2,o=t.regionName3,a=t.regionName4;return s.createElement("p",{className:Lr().item},(0,u.P5)({list:[a,o,r,n]}))}));return s.createElement(s.Fragment,null,S?s.createElement(Nt.A,{vKey:q.W1.DISTRICT,labelClassName:Lr().label,regionConfig:n,isFloatLabel:E||!!p},s.createElement(Ot.A,{vKey:q.W1.DISTRICT,trigger:["onInput","onBlur"],actionName:"onInput",regionConfig:n},s.createElement(Dr.A,{regionConfig:n,vKey:q.W1.DISTRICT,options:g,onSelect:I,inputValue:p,onInput:C,onFocus:function(){return _(!0)},onBlur:function(){return _(!1)},onSearch:A,onResetOptions:O,Item:N,placeholder:"",maxMenuHeight:169,blurInputOnSelect:!0,tabIndex:n.tabIndex}))):s.createElement(Ar,{vKey:q.W1.DISTRICT,value:p,handleInput:C,regionConfig:n}))},Hr=(0,s.memo)(Vr),Gr=n(21849),Kr=n.n(Gr);function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yr=function(){var e,t=(0,Y.CM)().isCardAddress,n=(0,Y.Cr)(),a=n.regionId1,i=n.setFormData,l=n.setFormDataOrigin,c=n.addressInfo,d=n.isInEditPop,p=n.manualCheckValid,m=(0,Y.s4)().validateValueRequired,g=qt(),v=g.getOptions,b=g.setStep,h=g.setActiveStep,E=g.selectedOption,_=g.setSelectedOption,y=g.setIsBack,A=g.isCombined,S=g.regionConfig,C=g.selectRef,I=S||{},O=I.region2,N=I.region3,w=c.regionId2,x=c.regionFullName2,k=c.regionName2,P=(0,s.useState)(!1),T=(0,r.A)(P,2),D=T[0],R=T[1];(0,s.useEffect)((function(){v(Gt.State,t,a)}),[v,t,a]),(0,s.useEffect)((function(){var e;w&&(y(!1),_((function(e){return qr(qr({},e),{},(0,o.A)({},Gt.State,{regionId:(0,u.dI)(w),regionName:(0,u.dI)(x)||(0,u.dI)(k)}))})),null!=N&&null!==(e=N.extraInfo)&&void 0!==e&&e.isMultiSelection&&(b(Gt.City),h(Gt.City),v(Gt.City,t,w)))}),[w,N]);var j=(0,s.useCallback)((function(){w||m({val:w,name:q.W1.STATE,needShowValidate:!0,needRequired:!0})}),[w]),M=(0,s.useRef)(!0),B=(0,s.useCallback)((function(e){(0,L.mE)({event:"stateCityV3Region2Change",data:(0,u.Jm)((0,o.A)({},q.W1.STATE,e))});var t={regionId2:(0,u.dI)(null==e?void 0:e.regionId),regionName2:(0,u.dI)(null==e?void 0:e.regionName),regionFullName2:(0,u.dI)(null==e?void 0:e.regionFullName2)};(M.current?l:i)((function(e){return qr(qr({},e),{},{addressInfo:qr(qr({},e.addressInfo),t)})}));var n=[q.W1.STATE];p(n,t,{needShowSearchBarField:!M.current}),M.current=!1}),[]);(0,Vt.A)((function(){B(E[Gt.State])}),[E[Gt.State]]);var F=null!=O&&O.order?{order:null==O?void 0:O.order}:{},W=x||k||(null==O?void 0:O.placeholder)||"";return A?null:s.createElement("div",{className:f()(Kr().stateCity,!w&&Kr().empty,d&&Kr().editPop),style:F},s.createElement(Nt.A,{vKey:q.W1.STATE,className:"state",labelClassName:Kr().label,regionConfig:O,isFloatLabel:!0,onValidateChange:R},s.createElement(Ot.A,{vKey:q.W1.STATE,regionConfig:O},s.createElement(Xn,{ref:C,activeStep:Gt.State,selectedItem:E[Gt.State],placeholder:W,needServerSearchRegion:null==O||null===(e=O.extraInfo)||void 0===e?void 0:e.needServerSearchRegion,tabIndex:null==O?void 0:O.tabIndex,onBlur:j,regionConfig:O,hasError:D}))))},Jr=(0,s.memo)(Yr);function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xr=function(){var e,t=(0,Y.CM)().isCardAddress,n=(0,Y.Cr)(),a=n.setFormData,i=n.setFormDataOrigin,l=n.addressInfo,c=n.isInEditPop,d=n.manualCheckValid,p=n.showRegion4,m=(0,Y.s4)().validateValueRequired,g=qt(),v=g.isBack,b=g.getOptions,h=g.setStep,E=g.setActiveStep,_=g.selectedOption,y=g.setSelectedOption,A=g.isCombined,S=g.regionConfig,C=g.selectRef,I=S||{},O=I.region3,N=I.region4,w=l.regionId3,x=l.regionName3,k=l.regionId4,P=l.regionName4,T=l.postCode,D=(0,s.useState)(!1),R=(0,r.A)(D,2),j=R[0],M=R[1];(0,s.useEffect)((function(){var e;w?(y((function(e){var t;return Qr(Qr({},e),{},(0,o.A)({},Gt.City,Qr({regionId:(0,u.dI)(w),regionName:(0,u.dI)(x)},3===(null==O||null===(t=O.extraInfo)||void 0===t?void 0:t.paginationQueryType)?{postCode:(0,u.dI)(T)}:{})))})),null!=N&&null!==(e=N.extraInfo)&&void 0!==e&&e.isMultiSelection&&p&&(v||(h(Gt.District),E(Gt.District)),b(v?Gt.City:Gt.District,t,w,k&&P?{regionId:k,regionName:P}:void 0))):y((function(e){return Qr(Qr({},e),{},(0,o.A)({},Gt.City,null))}))}),[w,N,k,P]),(0,s.useEffect)((function(){var e;A&&w&&null!=N&&null!==(e=N.extraInfo)&&void 0!==e&&e.isMultiSelection&&p&&(v||(h(Gt.District),E(Gt.District)),b(v?Gt.City:Gt.District,t,w,k&&P?{regionId:k,regionName:P}:void 0))}),[w,N,k,P,p]);var B=(0,s.useCallback)((function(){w||m({val:w,name:q.W1.CITY,needShowValidate:!0,needRequired:!0})}),[w]),F=(0,s.useRef)(!0),W=(0,s.useCallback)((function(e){(0,L.mE)({event:"stateCityV3Region3Change",data:(0,u.Jm)((0,o.A)({},q.W1.CITY,e))});var t={regionId3:(0,u.dI)(null==e?void 0:e.regionId),regionName3:(0,u.dI)(null==e?void 0:e.regionName)};(F.current?i:a)((function(e){return Qr(Qr({},e),{},{addressInfo:Qr(Qr({},e.addressInfo),t)})}));var n=[q.W1.CITY];d(n,t,{needShowSearchBarField:!F.current}),F.current=!1}),[]);(0,Vt.A)((function(){W(_[Gt.City])}),[_[Gt.City]]);var U=null!=O&&O.order?{order:null==O?void 0:O.order}:{},V=x||(null==O?void 0:O.placeholder)||"";return A?null:s.createElement("div",{className:f()(Kr().stateCity,!w&&Kr().empty,c&&Kr().editPop),style:U},s.createElement(Nt.A,{vKey:q.W1.CITY,className:"state",labelClassName:Kr().label,regionConfig:O,isFloatLabel:!0,onValidateChange:M},s.createElement(Ot.A,{vKey:q.W1.CITY,regionConfig:O},s.createElement(Xn,{ref:C,activeStep:Gt.City,selectedItem:_[Gt.City],placeholder:V,needServerSearchRegion:null==O||null===(e=O.extraInfo)||void 0===e?void 0:e.needServerSearchRegion,tabIndex:null==O?void 0:O.tabIndex,onBlur:B,regionConfig:O,hasError:j}))))},$r=(0,s.memo)(Xr);function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var no=function(){var e,t=(0,Y.Cr)(),n=t.setFormData,a=t.setFormDataOrigin,i=t.addressInfo,l=t.isInEditPop,d=t.manualCheckValid,p=(0,Y.s4)().validateValueRequired,m=qt(),g=m.options,v=m.selectedOption,b=m.setSelectedOption,h=m.isCombined,E=m.regionConfig,_=m.selectRef,y=(E||{}).region4,A=i.regionId4,S=i.regionName4,C=(0,s.useState)(!1),I=(0,r.A)(C,2),O=I[0],N=I[1];(0,s.useEffect)((function(){b(A?function(e){return to(to({},e),{},(0,o.A)({},Gt.District,{regionId:(0,u.dI)(A),regionName:(0,u.dI)(S)}))}:function(e){return to(to({},e),{},(0,o.A)({},Gt.District,null))})}),[A,S]);var w=(0,s.useCallback)((function(){A||p({val:A,name:q.W1.DISTRICT,needShowValidate:!0,needRequired:!0})}),[A]),x=(0,s.useRef)(!0),k=(0,s.useCallback)((function(e){(0,L.mE)({event:"stateCityV3Region4Change",data:(0,u.Jm)((0,o.A)({},q.W1.DISTRICT,e))});var t={regionId4:(0,u.dI)(null==e?void 0:e.regionId),regionName4:(0,u.dI)(null==e?void 0:e.regionName)};(x.current?a:n)((function(e){return to(to({},e),{},{addressInfo:to(to({},e.addressInfo),t)})}));var r=[q.W1.DISTRICT];d(r,t,{needShowSearchBarField:!x.current}),x.current=!1}),[]);(0,Vt.A)((function(){var e,t=g[Gt.District];null!=y&&null!==(e=y.extraInfo)&&void 0!==e&&e.onlyResultAutoFillback&&1===(null==t?void 0:t.length)&&(x.current=!1,window.dispatchEvent(new Event(c.up.OnlyResultAutoFillback)))}),[g[Gt.District]]),(0,Vt.A)((function(){k(v[Gt.District])}),[v[Gt.District]]);var P=null!=y&&y.order?{order:null==y?void 0:y.order}:{},T=S||(null==y?void 0:y.placeholder)||"";return h?null:s.createElement("div",{className:f()(Kr().stateCity,!A&&Kr().empty,l&&Kr().editPop),style:P},s.createElement(Nt.A,{vKey:q.W1.DISTRICT,className:"state",labelClassName:Kr().label,regionConfig:y,isFloatLabel:!0,onValidateChange:N},s.createElement(Ot.A,{vKey:q.W1.DISTRICT,regionConfig:y},s.createElement(Xn,{ref:_,activeStep:Gt.District,selectedItem:v[Gt.District],placeholder:T,needServerSearchRegion:null==y||null===(e=y.extraInfo)||void 0===e?void 0:e.needServerSearchRegion,tabIndex:null==y?void 0:y.tabIndex,onBlur:w,regionConfig:y,hasError:O}))))},ro=(0,s.memo)(no);function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var io=(0,s.forwardRef)((function(e,t){var n,i,c,d=e.isFormV2,p=e.isCombined,m=(0,Y.Cr)(),f=m.regionId1,g=m.regionConfig,v=m.showRegion4,b=m.setFormDataOrigin,h=3===(m.overallExtAttributes||{}).countrySelectedRegionPostcodeAutofillAbtest,E=g;if(p){var _,y=E.combined_region;((null==y||null===(_=y.extraInfo)||void 0===_?void 0:_.multiSelectionJoinFields)||[]).forEach((function(e){E[e.fieldKey]=y}))}var A=E.region2,S=E.region3,C=E.region4,I=(0,s.useState)(""),O=(0,r.A)(I,2),N=O[0],w=O[1],x=(0,s.useState)(Gt.State),k=(0,r.A)(x,2),P=k[0],T=k[1],D=(0,s.useState)(Gt.State),R=(0,r.A)(D,2),L=R[0],j=R[1],M=(0,s.useState)(!1),B=(0,r.A)(M,2),F=B[0],W=B[1],U=(0,s.useState)((n={},(0,o.A)(n,Gt.State,null),(0,o.A)(n,Gt.City,null),(0,o.A)(n,Gt.District,null),n)),V=(0,r.A)(U,2),H=V[0],G=V[1],K=(0,s.useState)((i={},(0,o.A)(i,Gt.State,[]),(0,o.A)(i,Gt.City,[]),(0,o.A)(i,Gt.District,[]),i)),z=(0,r.A)(K,2),q=z[0],J=z[1],Z=(0,s.useState)(!1),X=(0,r.A)(Z,2),$=X[0],ee=X[1],te=(0,s.useState)(!1),ne=(0,r.A)(te,2),re=ne[0],oe=ne[1],ae=(0,s.useState)(!1),ie=(0,r.A)(ae,2),le=ie[0],se=ie[1],ce=(0,s.useRef)((c={},(0,o.A)(c,Gt.State,[]),(0,o.A)(c,Gt.City,[]),(0,o.A)(c,Gt.District,[]),c)),ue=(0,s.useState)(0),de=(0,r.A)(ue,2),pe=de[0],me=de[1],fe=(0,s.useCallback)(function(){var e=(0,a.A)(l().mark((function e(t,n,r,a){var i,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$&&!h){e.next=2;break}return e.abrupt("return");case 2:return W(!0),oe(!1),e.prev=4,e.next=7,Q.getRegionList({region_id1:f,parent_id:r,scene:n?"billing_address":"shipping_address"});case 7:if(i=e.sent,s=i.list){e.next=12;break}return oe(!0),e.abrupt("return");case 12:me((function(e){return e+1})),J((function(e){return ao(ao(ao(ao({},e),t===Gt.State?(0,o.A)({},Gt.State,s):{}),t===Gt.City?(0,o.A)({},Gt.City,s):{}),t===Gt.District?(0,o.A)({},Gt.District,a&&-1===s.findIndex((function(e){return(0,u.dI)(e.regionId)===a.regionId}))?[a].concat((0,wt.A)(s)):s):{})}));case 14:return e.prev=14,W(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[4,,14,17]])})));return function(t,n,r,o){return e.apply(this,arguments)}}(),[$]),ge=function(e){w(""),j(e),ee(!0),oe(!1),me((function(e){return e+1}))},ve=function(){var e;ee(!1),T(Gt.State),j(Gt.State),G((e={},(0,o.A)(e,Gt.State,null),(0,o.A)(e,Gt.City,null),(0,o.A)(e,Gt.District,null),e))},be=(0,s.useRef)(null),he=(0,s.useMemo)((function(){return{inputValue:N,step:P,activeStep:L,loading:F,loadingMore:le,selectedOption:H,options:q,isBack:$,isApiError:re,force:pe,selectRef:be,setInputValue:w,setSelectedOption:G,setStep:T,setActiveStep:j,setLoading:W,setOptions:J,setIsBack:ee,setIsApiError:oe,setForce:me,getOptions:fe,handleBreadcrumbClick:ge,resetCascader:ve,isCombined:p,regionConfig:E,cachedOptionsRef:ce,setLoadingMore:se,isPagination:h}}),[N,P,L,F,le,H,q,$,re,pe,fe,p,E,h]);(0,s.useEffect)((function(){var e;void 0!==v&&!v&&null!=C&&null!==(e=C.extraInfo)&&void 0!==e&&e.hideWhenNoValue&&b((function(e){return ao(ao({},e),{},{addressInfo:ao(ao({},e.addressInfo),{},{regionId4:"",regionName4:""})})}))}),[v,C]),(0,s.useImperativeHandle)(t,(function(){return{setIsBack:ee,setSelectedOption:G,open:function(){var e;return null===(e=be.current)||void 0===e?void 0:e.setIsFocused(!0)}}}));return s.createElement(zt.Provider,{value:he},function(){var e;if(!A)return null;var t=null!=A&&null!==(e=A.extraInfo)&&void 0!==e&&e.isMultiSelection?s.createElement(Jr,null):s.createElement(Tr,{regionConfig:A}),n=(0,u.Zw)("#region2");return d&&n?(0,$e.createPortal)(t,n):t}(),function(){var e;if(!S)return null;var t=null!=S&&null!==(e=S.extraInfo)&&void 0!==e&&e.isMultiSelection?s.createElement($r,null):s.createElement(Fr,{regionConfig:S}),n=(0,u.Zw)("#region3");return d&&n?(0,$e.createPortal)(t,n):t}(),function(){var e,t;if(!C||!v&&null!=C&&null!==(e=C.extraInfo)&&void 0!==e&&e.hideWhenNoValue)return null;var n=null!=C&&null!==(t=C.extraInfo)&&void 0!==t&&t.isMultiSelection?s.createElement(ro,null):s.createElement(Hr,{regionConfig:C}),r=(0,u.Zw)("#region4");return d&&r?(0,$e.createPortal)(n,r):n}(),p&&s.createElement(co,null))})),lo=(0,s.memo)(io),so=function(e){var t=e.regionConfig,n=e.showRegion4,r=e.params,o=t||{},a=o.region2,i=o.region3,l=o.region4;return!!a&&!r.regionId2||!!i&&!r.regionId3||!!l&&n&&!r.regionId4?"":"1"},co=function(){var e,t=(0,_.B)("bec-fe.web-address").t,n=(0,Y.Cr)(),o=n.isInEditPop,a=n.manualCheckValid,i=n.showRegion4,l=qt(),c=l.step,u=l.selectedOption,d=l.regionConfig||{},p=d.combined_region,m=d.region2,g=d.region3,v=d.region4,b=(0,s.useState)(!1),h=(0,r.A)(b,2),E=h[0],y=h[1],A=(0,s.useCallback)((function(){var e=!!m&&!u[Gt.State]||!!g&&!u[Gt.City]||!!v&&i&&!u[Gt.District];a([q.W1.COMBINED_REGION],void 0,{customValidateVal:e?"":"1"})}),[i,m,g,v,u]),S=(0,s.useMemo)((function(){return u[Gt.District]?Gt.District:u[Gt.City]?Gt.City:(u[Gt.State],Gt.State)}),[u]),C=null!=p&&p.order?{order:null==p?void 0:p.order}:{},I=(null==p?void 0:p.extraInfo)||{},O=I.multiSelectionJoinFields,N=void 0===O?[]:O,w=I.combinedRegionSeparator,x=void 0===w?"/":w,k=(0,s.useMemo)((function(){var e,n,r;switch(c){case Gt.State:return null===(e=N.find((function(e){return"region2"===e.fieldKey})))||void 0===e?void 0:e.innerSearchTitle;case Gt.City:return null===(n=N.find((function(e){return"region3"===e.fieldKey})))||void 0===n?void 0:n.innerSearchTitle;case Gt.District:return null===(r=N.find((function(e){return"region4"===e.fieldKey})))||void 0===r?void 0:r.innerSearchTitle;default:return t("select")}}),[c,N]),P=(0,s.useMemo)((function(){var e,n,r;return[{key:Gt.State,title:(null===(e=u[Gt.State])||void 0===e?void 0:e.regionName)||t("select")},{key:Gt.City,title:(null===(n=u[Gt.City])||void 0===n?void 0:n.regionName)||t("select")},{key:Gt.District,title:(null===(r=u[Gt.District])||void 0===r?void 0:r.regionName)||t("select")}].filter((function(e){return c>=e.key})).map((function(e){return e.title})).join("".concat(x," "))}),[c,u,x]);return s.createElement("div",{className:f()(Kr().stateCity,Kr().isCombined,o&&Kr().editPop),style:C},s.createElement(Nt.A,{vKey:q.W1.COMBINED_REGION,className:"state",labelClassName:Kr().label,regionConfig:p,isFloatLabel:!0,onValidateChange:y},s.createElement(Ot.A,{vKey:q.W1.COMBINED_REGION,regionConfig:p},s.createElement(Xn,{activeStep:S,selectedItem:u[Gt.State],placeholder:P,needServerSearchRegion:null==p||null===(e=p.extraInfo)||void 0===e?void 0:e.needServerSearchRegion,tabIndex:null==p?void 0:p.tabIndex,onBlur:A,regionConfig:p,hasError:E,customBreadcrumbSelectTitle:k}))))},uo=(0,s.memo)((0,s.forwardRef)((function(e,t){return s.createElement(lo,{ref:t,isFormV2:!0,isCombined:!0})}))),po=(0,M.W4)({name:"CombinedRegion"})(uo),mo=n(56733),fo=n(62617),go=n.n(fo),vo=function(e){var t=e.isEdit,n=e.handleSubmit,r=(0,_.B)("bec-fe.web-address").t,o=(0,Y.CM)(),a=o.submitBtnClass,i=o.isCustomSubmitBtn,l=o.btnText,c=o.addrScene,u=o.editAddressScene,d=(0,Y.Cr)(),p=d.regionId1,m=d.pageAttributes,g=d.matchErrors,v=(m||{}).pageConfirmButtonText,b=t?200127:200128;if(i)return null;var h=l||v||r("save");return+p===mo.gq.mu&&(h=v||l||r("save")),s.createElement(Ve.Rp,{page_el_sn:b,others:{addr_scene:c,edit_address_scene:u,region_id1:p,error_code:g}},s.createElement(F.A,{className:f()(go().submitBtn,a),onClick:n,tabIndex:21,"data-aria-enter":"1"},h))},bo=(0,s.memo)(vo),ho=function(e){var t=function(){setTimeout((function(){var t;null===(t=e.current)||void 0===t||t.open()}),0)};(0,s.useEffect)((function(){return window.addEventListener("OpenCascader",t),function(){window.removeEventListener("OpenCascader",t)}}),[])};function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yo=function(e){var t=e.value,n=e.regionConfig,r=(0,Y.Cr)().setFormData,o=(0,s.useCallback)((function(e){r((function(t){return _o(_o({},t),{},{additionalName:e})}))}),[r]);return s.createElement(Ar,{vKey:q.W1.ADDITIONAL_NAME,regionConfig:n,value:t,handleInput:o})},Ao=(0,s.memo)(yo);function So(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?So(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Io=function(e){var t=e.value,n=e.regionConfig,r=(0,Y.Cr)().setFormData,o=(0,s.useCallback)((function(e){r((function(t){return Co(Co({},t),{},{additionalFirstName:e})}))}),[r]);return s.createElement(Ar,{vKey:q.W1.ADDITIONAL_FIRST_NAME,regionConfig:n,value:t,handleInput:o})},Oo=(0,s.memo)(Io);function No(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?No(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):No(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xo=function(e){var t=e.value,n=e.regionConfig,r=(0,Y.Cr)().setFormData,o=(0,s.useCallback)((function(e){r((function(t){return wo(wo({},t),{},{additionalLastName:e})}))}),[r]);return s.createElement(Ar,{vKey:q.W1.ADDITIONAL_LAST_NAME,regionConfig:n,value:t,handleInput:o})},ko=(0,s.memo)(xo),Po=n(44798),To=["traceId","poiId","method","idx","source","recommendIndex","poiType","label"];function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lo=function(e){var t,n=e.key,i=e.pageElSn,d=e.setAddressPoiInfo,m=e.onSelectCb,f=(0,Y.CM)().isGuestMode,g=(0,Y.Cr)(),v=g.formData,b=g.setFormData,h=g.regionId1,E=g.regionConfig,_=g.manualCheckValid,y=g.houseNumber,A=g.streetName,S=g.overallExtAttributes,C=g.setShowRegion4,I=g.store,O=I.searchBarValue,N=I.setShowSearchBarFieldByBlur,w=(0,Y.s4)(),x=w.validateLine1Change,P=w.validateValue,T=w.warningValueFront,D=(0,s.useState)([]),R=(0,r.A)(D,2),L=R[0],j=R[1],M=(0,s.useState)([]),B=(0,r.A)(M,2),F=B[0],W=B[1],U=(0,s.useState)(!1),V=(0,r.A)(U,2),H=V[0],G=V[1],K=E[q.rJ[n]],z=(S||{}).ukLine2NoResultAbtest,J=((null==K?void 0:K.extraInfo)||{}).displayMap,Z=tr()(v.addressInfo,["regionId2","regionId3","regionId4","regionName2","regionName3","regionName4","postCode"]),X=(0,s.useRef)({reqIdx:0,resIdx:0}),$=(0,s.useRef)(""),ee=null==K||null===(t=K.extraInfo)||void 0===t?void 0:t.needSessionToken;(0,s.useEffect)((function(){ee&&($.current=(0,Po.A)())}),[]);var te=(0,s.useCallback)(function(){var e=(0,a.A)(l().mark((function e(t){var r,o,a,i,s,u,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=K&&null!==(r=K.extraInfo)&&void 0!==r&&r.isSupportAddressRecommend||n===q.W1.SEARCH_BAR){e.next=2;break}return e.abrupt("return");case 2:if(++X.current.reqIdx,o=Ro({region_id1:h,field_key_list:Object.keys(E),session_token:$.current,report_version:c.xv},(0,k.qi)(Z)),n===q.W1.STREET_NAME?(o[q.rJ[q.W1.STREET_NAME]]=t,o[q.rJ[q.W1.HOUSE_NUMBER]]=y):n===q.W1.HOUSE_NUMBER?(o[q.rJ[q.W1.HOUSE_NUMBER]]=t,o[q.rJ[q.W1.STREET_NAME]]=A):o.key_word=t,a={list:[],groupList:[],idx:X.current.reqIdx},!t){e.next=12;break}return n===q.W1.SEARCH_BAR&&G(!0),e.next=10,Q.getSearchLocationList(o,{isGuestMode:f,idx:X.current.reqIdx});case 10:a=e.sent,G(!1);case 12:s=(i=a).list,u=i.groupList,d=i.idx,X.current.resIdx<d&&(X.current.resIdx=d,j(s||[]),W(u||[]));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h,f,E,K,Z,A,y,n]),ne=(0,s.useCallback)((function(e){b((function(t){var r;return Ro(Ro({},t),{},(r={},(0,o.A)(r,n,e),(0,o.A)(r,"addressInfo",Ro(Ro({},t.addressInfo),{},(0,o.A)({},n,e))),r))}))}),[n]),re=(0,s.useCallback)((function(e){n===q.W1.ADDRESS_LINE1&&(x({val:e,regionId1:h,regionConfig:K,pageElSn:i,formData:Ro(Ro({},v),{},(0,o.A)({},n,e))}),T({val:e,name:q.W1.ADDRESS_LINE1,regionConfig:K,formData:Ro(Ro({},v),{},(0,o.A)({},n,e))})),[q.W1.STREET_NAME,q.W1.HOUSE_NUMBER].includes(n)&&(P({val:e,name:n,needShowValidate:!0,needRequired:!(null==K||!K.isRequired),regionConfig:K,pageElSn:i,formData:Ro(Ro({},v),{},(0,o.A)({},n,e))}),T({val:e,name:n,regionConfig:K,formData:Ro(Ro({},v),{},(0,o.A)({},n,e))}))}),[h,K,n,i,v]),oe=(0,s.useCallback)(function(){var e=(0,a.A)(l().mark((function e(t){var r,o,a,i,s,c,g,v,y,A,S,I,w,x,k,P,T,D,R,L,M,B,F,W,U,V,H,K,Y,Z,X,te,ne;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.traceId,i=t.poiId,s=t.method,c=t.idx,g=t.source,v=t.recommendIndex,y=t.poiType,A=t.label,S=(0,p.A)(t,To),I=Ro({trace_id:a,selected_poi_id:i,selected_poi_position:(null!=v?v:c)+1,source:g,method:s},void 0!==y?{poi_type:y}:{}),1!==y){e.next=12;break}return G(!0),w={region_id1:h,field_key_list:Object.keys(E),poi_id:i,source:g,trace_id:a,label:A,key_word:O},e.next=7,Q.getSearchLocationList2(w,{isGuestMode:f});case 7:return x=e.sent,G(!1),j((null==x?void 0:x.list)||[]),Q.reportSearchListSelect(I),e.abrupt("return");case 12:if(k=S,![7,10].includes(g)){e.next=18;break}return e.next=16,Q.getPoiInfo({region_id1:h,source:g,poi_id:i,trace_id:a,field_key_list:Object.keys(E),session_token:$.current});case 16:P=e.sent,k=P||{};case 18:D=(T=k).addressLine1,R=T.addressLine2,L=T.postCode,M=T.regionName2,B=T.regionFullName2,F=T.regionName3,W=T.regionName4,U=T.regionId2,V=T.regionId3,H=T.regionId4,K=T.streetName,Y=T.houseNumber,Z=T.poiId,X=null!==(r=E.region4)&&void 0!==r&&null!==(o=r.extraInfo)&&void 0!==o&&o.hideWhenNoValue?!!S.regionName4||!!k.regionName4:!!E.region4,C(X),te=(0,u.dI)(R),ne={addressLine1:(0,u.dI)(D),addressLine2:(0,u.dI)(te),streetName:(0,u.dI)(K),houseNumber:(0,u.dI)(Y),postCode:(0,u.dI)(L),regionName2:(0,u.dI)(M),regionFullName2:(0,u.dI)(B),regionName3:(0,u.dI)(F),regionName4:(0,u.dI)(W),regionId2:(0,u.dI)(U),regionId3:(0,u.dI)(V),regionId4:(0,u.dI)(H)},b((function(e){return Ro(Ro({},e),{},{addressInfo:Ro(Ro({},e.addressInfo),ne)})})),D&&N(!1),setTimeout((function(){_([q.W1.STATE,q.W1.CITY].concat((0,wt.A)(D?[q.W1.ADDRESS_LINE1]:[]),(0,wt.A)(K?[q.W1.STREET_NAME]:[]),(0,wt.A)(Y?[q.W1.HOUSE_NUMBER]:[]),(0,wt.A)(L?[q.W1.ZIP_CODE]:[])),ne,{needShowSearchBarField:!J}),E.combined_region&&_([q.W1.COMBINED_REGION],void 0,{customValidateVal:so({regionConfig:E,showRegion4:X,params:ne}),needShowSearchBarField:!J})}),0),d({address_line1:D,address_line2:te,street_name:K,house_number:Y,region_id1:h,region_id2:U,region_id3:V,region_id4:H,post_code:L,source:g,poi_id:7===g?Z:i}),Q.reportSearchListSelect(I),ee&&($.current=(0,Po.A)()),setTimeout((function(){if(n===q.W1.ADDRESS_LINE1){if(z&&!te)return;null==m||m()}else null==m||m()}),0);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[E,h,ee,z,O]);return{searchLocationList:L,searchLocationGroupList:F,getSearchLocationList:te,resetSearchLocationList:function(){j([]),W([])},onInput:ne,validateValueChange:re,onSelect:oe,isLoading:H}},jo=n(90038),Mo=n(16898),Bo=n.n(Mo),Fo=function(){return s.createElement(jo.A,{type:"normal",wrapClassName:Bo().loadingWrap})},Wo=(n(25276),n(90744),n(84255)),Uo=n.n(Wo),Vo=(0,s.memo)((function(e){var t=e.poiType,n=e.poiNumMsg;return t?s.createElement("span",{className:Uo().poiNumMsg},n,s.createElement(Jt.A,{className:Uo().icon})):null})),Ho=(0,s.memo)((function(e){return e.data.map((function(e){var t=e.text,n={fontSize:e.fontSize,color:e.fontColor,fontWeight:e.bold?"bold":"normal"};return s.createElement("span",{key:t,style:n},t)}))})),Go=(0,s.memo)((function(e){var t=e.data||{},n=t.label,r=t.recommendRichText,o=t.poiType,a=t.poiNumMsg;return null!=r&&r.length?s.createElement("div",{className:Uo().searchAddressItemWrap},s.createElement("div",{className:Uo().searchAddressItem},s.createElement(Ho,{data:r})),s.createElement(Vo,{poiType:o,poiNumMsg:a})):s.createElement("div",{className:Uo().searchAddressItemWrap},s.createElement("div",{className:Uo().searchAddressItem},n),s.createElement(Vo,{poiType:o,poiNumMsg:a}))})),Ko=(0,s.memo)((function(e){var t=e.data,n=void 0===t?{}:t,o=e.inputValue,a=void 0===o?"":o,i=n.label,l=void 0===i?"":i,c=n.streetName,u=void 0===c?"":c,d=n.houseNumber,p=void 0===d?"":d,m=n.recommendRichText,f=n.poiType,g=n.poiNumMsg;if(null!=m&&m.length)return s.createElement("div",{className:Uo().searchAddressItemWrap},s.createElement("div",{className:Uo().searchAddressItem},s.createElement(Ho,{data:m})),s.createElement(Vo,{poiType:f,poiNumMsg:g}));var v=n.addressLine1,b=void 0===v?"":v;b||(b="".concat(u," ").concat(p));return s.createElement("div",{className:Uo().searchAddressItemWrap},s.createElement("div",{className:Uo().searchAddressItem},function(){var e;if(!(l.indexOf(b)>-1)||null===(e=b)||void 0===e||!e.trim())return(0,L.mE)({event:"hitLine1HighlightFail"}),l;var t=s.createElement("span",{className:Uo().line1},b),n=l.split(b),o=(0,r.A)(n,2),i=o[0],c=o[1],u=b.toLowerCase(),d=a.toLowerCase(),p=u.indexOf(d);if(a&&p>-1){var m=p+a.length-1;t=s.createElement("span",{className:Uo().line1,dangerouslySetInnerHTML:{__html:"".concat(b.slice(0,p),'<span style="color:#FB7701">').concat(b.slice(p,m+1),"</span>").concat(b.slice(m+1))}})}return s.createElement(s.Fragment,null,i,t,c)}()),s.createElement(Vo,{poiType:f,poiNumMsg:g}))})),zo=n(89145),qo=n.n(zo),Yo=["mobile","phoneCode","phoneRegionId","phoneShortName"];function Jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jo(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qo=201048,Xo=function(e){var t=e.setAddressPoiInfo,n=e.onSelectCb,o=(0,Y.CM)().isGuestMode,i=(0,Y.Cr)(),c=i.addressLine1,u=i.regionConfig,d=i.overallExtAttributes,m=i.regionId1,f=i.setFormData,g=i.manualCheckValid,v=i.store.setShowSearchBarFieldByBlur,b=(d||{}).poiSearchAddressHighLightAbtest,h=(0,Y.XQ)().notDeliveredInfo,E=null==h?void 0:h[q.W1.ADDRESS_LINE1],_=u.address_line1,y=(0,s.useState)(!1),A=(0,r.A)(y,2),S=A[0],I=A[1],O=(0,s.useState)(!1),N=(0,r.A)(O,2),w=N[0],x=N[1],k=(0,Y.s4)().hitNewValidate,P=(0,s.useRef)(null),T=Lo({key:q.W1.ADDRESS_LINE1,pageElSn:Qo,setAddressPoiInfo:t,onSelectCb:n}),D=T.searchLocationList,R=T.getSearchLocationList,j=T.resetSearchLocationList,M=T.onInput,B=T.validateValueChange,F=T.onSelect,W=T.isLoading,U=(0,s.useCallback)((function(e){I(!1);var t=e.target.value;t&&v(!1),k||E||B(t)}),[E,B,k]),V=(0,s.useCallback)(function(){var e=(0,a.A)(l().mark((function e(t){var n,r,a,i,c,d,v,b,h,E,y,A,S,I,O,N;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=_.extraInfo||{},r=n.line1PasteStandardParsing,t&&r){e.next=3;break}return e.abrupt("return");case 3:return(0,L.mE)({event:"addressParseStart",data:"".concat(0)}),e.next=6,(0,Q.pasteParsing)({region_id1:m,address:t,parsing_type:0,isGuestMode:o});case 6:if(a=e.sent,i=a.isParsingSuccess,c=a.addressConfirmInfo,i&&c){e.next=12;break}return(0,L.mE)({event:"addressParseFail",data:"".concat(0)}),e.abrupt("return");case 12:(0,L.mE)({event:"addressParseSuccess",data:"".concat(0)}),d=c.addressInfo,v=c.fieldViews,b=c.acceptMenu,h=c.cancelMenu,E=c.title,A=(y=d||{}).mobile,S=y.phoneCode,I=y.phoneRegionId,O=y.phoneShortName,N=(0,p.A)(y,Yo),(0,C.P)({popupNode:s.createElement(ne.A,{onClose:C.L,title:E,confirmButtonLabel:null==b?void 0:b.text,onConfirm:function(){(0,L.mE)({event:"addressParseConfirm",data:"".concat(0)}),f((function(e){return Zo(Zo(Zo(Zo({},e),{},{addressInfo:Zo(Zo({},e.addressInfo),N)},A?{mobile:A}:{}),S?{phoneCode:S}:{}),I?{phoneRegionId:I}:{})})),setTimeout((function(){g([q.W1.ADDRESS_LINE1,q.W1.STATE,q.W1.CITY,q.W1.DISTRICT,q.W1.ZIP_CODE],N),A&&g([q.W1.MOBILE],{mobile:A,phoneCode:S,phoneRegionId:I,phoneShortName:O})}),0),(0,C.L)(!0)},buttonConfigs:{direction:"vertical"},onCancel:function(){(0,L.mE)({event:"addressParseCancel",data:"".concat(0)}),(0,C.L)(!1)},cancelButtonLabel:null==h?void 0:h.text,cancelButtonProps:{type:"text",size:"xl",loose:!0}},s.createElement("div",{className:qo().fieldViewWrap},v.map((function(e){var t;return s.createElement("div",{className:qo().fieldView},s.createElement("div",{className:qo().fieldTitle},null==u||null===(t=u[e.fieldKey])||void 0===t?void 0:t.fieldTitle),s.createElement("div",{className:qo().text},e.text))}))))});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[m]),H=(0,s.useCallback)((function(){I(!0)}),[]),G=ar({selectRef:P,cb:H});return s.createElement(Nt.A,{vKey:q.W1.ADDRESS_LINE1,labelClassName:qo().label,regionConfig:_,isFloatLabel:S||!!c,onValidateChange:x,onAutoFocus:G},s.createElement(Ot.A,{vKey:q.W1.ADDRESS_LINE1,trigger:k?["onInput","onBlur"]:["onInput"],actionName:"onInput",validateValueChange:B,regionConfig:_},s.createElement(Dr.A,{ref:P,regionConfig:_,vKey:q.W1.ADDRESS_LINE1,maxLength:null==_?void 0:_.maxSize,options:D,onSelect:F,inputValue:c,onInput:M,onBlur:U,onFocus:H,onPaste:V,onSearch:R,onResetOptions:j,Item:b?Ko:Go,placeholder:(null==_?void 0:_.placeholder)||"",maxMenuHeight:169,pageElSn:Qo,optionPageElSn:201193,enableEnterManuallyTip:!0,tabIndex:null==_?void 0:_.tabIndex,hasError:w,loadingMessage:Fo,isLoading:W})))},$o=(0,s.memo)(Xo);function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var na=function(e,t){var n=e.regionConfig,r=(0,Y.Cr)(),o=r.setFormData,a=r.addressLine2,i=(0,s.useRef)(null),l=(0,s.useCallback)((function(e){o((function(t){return ta(ta({},t),{},{addressInfo:ta(ta({},t.addressInfo),{},{addressLine2:e}),addressLine2:e})}))}),[o]);return s.createElement(Ar,{ref:(0,u.K4)(i,t),vKey:q.W1.ADDRESS_LINE2,regionConfig:n,value:a,handleInput:l})},ra=(0,s.memo)((0,s.forwardRef)(na));function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ia=function(e,t){var n=e.regionConfig,r=(0,Y.Cr)(),o=r.setFormData,a=r.addressLine3,i=(0,s.useRef)(null),l=(0,s.useCallback)((function(e){o((function(t){return aa(aa({},t),{},{addressInfo:aa(aa({},t.addressInfo),{},{addressLine3:e})})}))}),[o]);return s.createElement(Ar,{ref:(0,u.K4)(i,t),vKey:q.W1.ADDRESS_LINE3,regionConfig:n,value:a,handleInput:l})},la=(0,s.memo)((0,s.forwardRef)(ia)),sa=n(12758),ca=n(46635),ua=n.n(ca);function da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?da(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ma=219919,fa=(0,s.forwardRef)((function(e,t){var n=e.setAddressPoiInfo,o=(0,Y.Cr)(),a=o.houseNumber,i=o.regionConfig.house_number,l=(0,s.useState)(!1),c=(0,r.A)(l,2),d=c[0],p=c[1],m=(0,s.useState)(!1),f=(0,r.A)(m,2),g=f[0],v=f[1],b=(0,s.useRef)(null),h=Lo({key:q.W1.HOUSE_NUMBER,pageElSn:ma,setAddressPoiInfo:n}),E=h.searchLocationList,_=h.getSearchLocationList,y=h.resetSearchLocationList,A=h.onInput,S=h.validateValueChange,C=h.onSelect,I=h.isLoading,O=ar({selectRef:b});return s.createElement(Nt.A,{vKey:q.W1.HOUSE_NUMBER,labelClassName:ua().label,regionConfig:i,isFloatLabel:d||!!a,onValidateChange:v,onAutoFocus:O},s.createElement(Ot.A,{vKey:q.W1.HOUSE_NUMBER,trigger:["onInput","onBlur"],actionName:"onInput",validateValueChange:S,regionConfig:i},s.createElement(Dr.A,{ref:(0,u.K4)(b,t),regionConfig:i,vKey:q.W1.HOUSE_NUMBER,options:E,onSelect:C,inputValue:a,onInput:A,onBlur:function(){return p(!1)},onFocus:function(){return p(!0)},onSearch:_,onResetOptions:y,Item:Go,placeholder:(null==i?void 0:i.placeholder)||"",maxMenuHeight:169,pageElSn:ma,optionPageElSn:201193,maxLength:null==i?void 0:i.maxSize,enableEnterManuallyTip:!0,tabIndex:null==i?void 0:i.tabIndex,hasError:g,loadingMessage:Fo,isLoading:I})))})),ga=function(e){var t=e.setAddressPoiInfo,n=(0,Y.Cr)(),o=n.houseNumber,a=n.regionConfig,i=n.setFormData,l=a.house_number||{},c=pa(pa({},l),{},{placeholder:l.placeholder2}),u=l.displayPrefix||"",d=l.midConnectionSeparator||"-",p=(o||"").replace(u,"").split(d),m=(0,r.A)(p,2),f=m[0],g=void 0===f?"":f,v=m[1],b=void 0===v?"":v,h=(0,s.useRef)({displayPrefix:u,midConnectionSeparator:d,houseNumber1:g,houseNumber2:b}),E=(0,A.Sz)().isRTL,_=(0,s.useCallback)((function(e){var n="".concat(e?u:"").concat(e).concat(h.current.houseNumber2?d:"").concat(h.current.houseNumber2);t((function(e){return pa(pa({},e),{},{house_number:n})})),h.current.houseNumber1=e,i((function(e){return pa(pa({},e),{},{houseNumber:n,addressInfo:pa(pa({},e.addressInfo),{},{houseNumber:n})})})),(0,L.mE)({event:"splitHouseNumberInput1",data:"".concat(null==e?void 0:e.length)})}),[]),y=(0,s.useCallback)((function(e){var n="".concat(h.current.houseNumber1||e?u:"").concat(h.current.houseNumber1).concat(e?d:"").concat(e);t((function(e){return pa(pa({},e),{},{house_number:n})})),h.current.houseNumber2=e,i((function(e){return pa(pa({},e),{},{houseNumber:n,addressInfo:pa(pa({},e.addressInfo),{},{houseNumber:n})})})),(0,L.mE)({event:"splitHouseNumberInput2",data:"".concat(null==e?void 0:e.length)})}),[]),S=(0,s.useCallback)((function(e){return pa({display:"inline-block",verticalAlign:"top",width:"calc(50% - ".concat(q.wT,"px)")},E?{marginLeft:"left"===e?"".concat(q.wT,"px"):0,marginRight:"right"===e?"".concat(q.wT,"px"):0}:{marginRight:"left"===e?"".concat(q.wT,"px"):0,marginLeft:"right"===e?"".concat(q.wT,"px"):0})}),[E]),C=(0,s.useMemo)((function(){return{splitHouseNumberRef:h}}),[]);return s.createElement(sa.h.Provider,{value:C},s.createElement("div",{className:ua().splitHouseNumber},s.createElement("div",{style:S("left")},s.createElement(Ar,{vKey:q.W1.HOUSE_NUMBER,regionConfig:l,value:h.current.houseNumber1,handleInput:_,isSplit:!0})),s.createElement("span",{className:ua().divider}),s.createElement("div",{style:S("right")},s.createElement(Ar,{vKey:q.W1.HOUSE_NUMBER,regionConfig:c,value:h.current.houseNumber2,handleInput:y,isSplit:!0,isSlave:!0}))))},va=function(e,t){var n=e.isSplit,r=e.setAddressPoiInfo;return n?s.createElement(ga,{setAddressPoiInfo:r}):s.createElement(fa,{setAddressPoiInfo:r,ref:t})},ba=(0,s.memo)((0,s.forwardRef)(va)),ha=n(20657),Ea=n(1528),_a=n(82126),ya=n(46303),Aa=n.n(ya),Sa=(0,nr.PA)((function(e){var t=e.onClick,n=(0,_.B)("bec-fe.web-address").t,r=(0,Y.Cr)(),o=r.regionConfig,a=r.store,i=a.tempDisplayMap,l=a.setShowOnlyReadSearchBar,c=a.setShowSearchBarField,u=a.setSearchBarValue,d=o.search_bar,p=((null==d?void 0:d.extraInfo)||{}).displayMap,m=i||p||{},f=m.title,g=m.streetRemovedAddress;return f||g?s.createElement("div",{className:Aa().onlyReadContainer},s.createElement("div",{className:Aa().deliveredTo},null==p?void 0:p.displayTitle),s.createElement("div",{className:Aa().mainAddress},s.createElement("span",null,g)),s.createElement("div",{className:Aa().subAddress},s.createElement("div",{className:Aa().left},s.createElement(_a.A,{className:Aa().locationIcon,"aria-hidden":!0}),s.createElement("span",null,f)),s.createElement(F.A,{type:Ea.el.border,className:Aa().right,onClick:function(){l(!1),u(f),setTimeout((function(){t(f||"")}),0)}},n("change")))):(c(!0),null)})),Ca=["mobile","phoneCode","phoneRegionId","phoneShortName"];function Ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Na=200120,wa=(0,nr.PA)((function(e){var t=e.setAddressPoiInfo,n=(0,s.useRef)(!1),i=(0,Y.CM)().isGuestMode,u=(0,Y.Cr)(),d=u.regionConfig,m=u.overallExtAttributes,g=u.regionId1,v=u.setFormData,b=u.manualCheckValid,h=u.store,E=(0,s.useState)(!1),_=(0,r.A)(E,2),A=(_[0],_[1]),S=h.showSearchBarField,I=h.showSearchBarFieldByBlur,N=h.isSearchBarError,w=h.showOnlyReadSearchBar,x=h.searchBarValue,k=h.setShowSearchBarField,P=h.setShowSearchBarFieldByBlur,T=h.setIsSearchBarError,D=h.setShowOnlyReadSearchBar,R=h.setTempDisplayMap,j=h.setSearchBarValue,M=(0,s.useRef)(!0),B=(0,s.useRef)(null),W=d.search_bar,U=(null==W?void 0:W.extraInfo)||{},V=U.searchBarExpandText,H=U.searchBarNoFoundText,G=U.searchBarNoFoundExpandText,K=U.searchBarFloatingLayerTitle,z=U.searchBarFloatingLayerSubTitle,J=U.fieldSeparatorText,Z=U.searchBarNoFoundBelowTips,X=U.displayMap,$=Lo({key:q.W1.SEARCH_BAR,pageElSn:Na,setAddressPoiInfo:t}),ee=$.searchLocationList,te=$.getSearchLocationList,re=$.resetSearchLocationList,oe=$.onSelect,ae=$.isLoading,ie=m||{},le=ie.poiSearchAddressHighLightAbtest,se=ie.searchBarOptimizationV1Abtest,ce=ie.openSearchBarOnlyByClickAbtest;(0,s.useEffect)((function(){se||A(!x)}),[x,se]),(0,s.useEffect)((function(){A(!!se)}),[se]),(0,s.useEffect)((function(){S&&X&&(j(""),re())}),[S,X]);var ue=function(){n.current=!0};(0,s.useEffect)((function(){return window.addEventListener(c.up.CloseAddress,ue),function(){window.removeEventListener(c.up.CloseAddress,ue)}}),[]);var de=(0,s.useCallback)((function(){M.current=!0}),[]),pe=(0,s.useCallback)((0,a.A)(l().mark((function e(){var t,r,o,a,c,u,m,f,h,E,_,A,I,O;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null==x?void 0:x.length)<=10)){e.next=3;break}return S||ce||(k(!0),M.current&&P(!0)),e.abrupt("return");case 3:return(0,L.mE)({event:"addressParseStart",data:"".concat(1)}),e.next=6,(0,Q.pasteParsing)({region_id1:g,address:x,parsing_type:1,isGuestMode:i});case 6:if(t=e.sent,r=t.isParsingSuccess,o=t.addressConfirmInfo,r&&o){e.next=14;break}return(0,L.mE)({event:"addressParseFail",data:"".concat(1)}),k(!0),P(!0),e.abrupt("return");case 14:if((0,L.mE)({event:"addressParseSuccess",data:"".concat(1)}),a=o.addressInfo,c=o.fieldViews,u=o.acceptMenu,m=o.cancelMenu,f=o.title,E=(h=a||{}).mobile,_=h.phoneCode,A=h.phoneRegionId,I=h.phoneShortName,O=(0,p.A)(h,Ca),(0,y.WW)({page_el_sn:233852}),(0,y.WW)({page_el_sn:233853}),(0,y.WW)({page_el_sn:233854}),!n.current){e.next=22;break}return e.abrupt("return");case 22:(0,C.P)({popupNode:s.createElement(ne.A,{onClose:C.L,title:f,confirmButtonLabel:null==u?void 0:u.text,onConfirm:function(){(0,y.E0)({page_el_sn:233853}),(0,L.mE)({event:"addressParseConfirm",data:"".concat(1)}),j(""),v((function(e){return Oa(Oa(Oa(Oa({},e),{},{addressInfo:Oa(Oa({},e.addressInfo),O)},E?{mobile:E}:{}),_?{phoneCode:_}:{}),A?{phoneRegionId:A}:{})})),setTimeout((function(){b([q.W1.ADDRESS_LINE1,q.W1.STATE,q.W1.CITY,q.W1.DISTRICT,q.W1.ZIP_CODE],O),E&&b([q.W1.MOBILE],{mobile:E,phoneCode:_,phoneRegionId:A,phoneShortName:I})}),0),(0,C.L)(!0)},buttonConfigs:{direction:"vertical"},onCancel:function(){(0,y.E0)({page_el_sn:233854}),(0,L.mE)({event:"addressParseCancel",data:"".concat(1)}),(0,C.L)(!1),k(!0),M.current=!1},cancelButtonLabel:null==m?void 0:m.text},s.createElement("div",{className:qo().fieldViewWrap},c.map((function(e){var t;return s.createElement("div",{className:qo().fieldView},s.createElement("div",{className:qo().fieldTitle},null==d||null===(t=d[e.fieldKey])||void 0===t?void 0:t.fieldTitle),s.createElement("div",{className:qo().text},e.text))}))))});case 23:case"end":return e.stop()}}),e)}))),[g,x,i,S,ce]);return s.createElement(s.Fragment,null,s.createElement(Nt.A,{vKey:q.W1.SEARCH_BAR,labelClassName:Aa().label,regionConfig:W,showLabelName:!1,customLabelName:function(){return w?null:s.createElement("div",{className:Aa().customLabelName},s.createElement("div",null,K),!!z&&s.createElement("div",{className:f()(Aa().tip,(0,o.A)({},Aa().isError,N))},z))}},w?s.createElement(Sa,{onClick:function(e){var t;null===(t=B.current)||void 0===t||t.focus(),te(e)}}):s.createElement(Dr.A,{regionConfig:W,vKey:q.W1.SEARCH_BAR,maxLength:null==W?void 0:W.maxSize,options:ee,onSelect:function(e){oe(e),e.poiType||X||j(""),X&&(D(!0),k(!1),R({title:e.title,streetRemovedAddress:e.streetRemovedAddress}),j(e.title)),A(!0)},onBlur:pe,onFocus:de,inputValue:x,onInput:function(e){j(e),T(!1)},onSearch:te,onResetOptions:X?function(){return null}:re,Item:le?Ko:Go,placeholder:null==W?void 0:W.placeholder,maxMenuHeight:se?252:169,pageElSn:Na,optionPageElSn:201193,enableEnterManuallyTip:!0,enterManuallyTip:function(){return H&&G?s.createElement("div",{className:Aa().enterManuallyTip},s.createElement("div",{className:Aa().tip},H),s.createElement("div",{className:Aa().expandText,onClick:function(){var e;k(!0),M.current=!1,j(""),null===(e=B.current)||void 0===e||e.blur(),re()},role:"button",tabIndex:0},G," ",s.createElement(Jt.A,{className:Aa().expandIcon,"aria-hidden":!0}))):null},ref:B,showSearchIcon:!0,tabIndex:null==W?void 0:W.tabIndex,shouldBlur:!0,forceShowPlaceholder:!0,noOptionsMessage:se&&function(){var e=(null==W?void 0:W.extraInfo)||{},t=e.searchBarNoFoundTitle,n=e.searchBarNoFoundResultsText,r=e.searchBarNoFoundEnterBottom;return x?s.createElement(Ve.Rp,{page_el_sn:233849,useClick:!1},s.createElement("div",{className:Aa().notFoundWrap},s.createElement(Ut.r,{title:t||"",desc:n,wrapperClassName:Aa().content,iconClassName:Aa().icon,descClassName:Aa().desc}),s.createElement(Ve.Rp,{page_el_sn:233850},s.createElement(F.A,{className:Aa().btn,onClick:function(){var e;k(!0),M.current=!1,null===(e=B.current)||void 0===e||e.blur(),re()}},r)))):null},loadingMessage:se&&Fo,isLoading:se&&ae,hasError:N}),!se&&!S&&!!V&&s.createElement(Ve.Rp,{page_el_sn:200121},s.createElement("div",{className:Aa().expandText,onClick:function(){k(!0),M.current=!1},role:"button",tabIndex:0},V,s.createElement(ha.A,{className:Aa().expandIcon,"aria-hidden":!0}))),!!se&&!!V&&s.createElement("div",{className:f()(Aa().expandTextV2,(0,o.A)({},Aa().hide,S&&!I))},S?s.createElement(s.Fragment,null,!!I&&s.createElement(O.A,{text:Z,theme:O.S.Orange,className:Aa().searchBarNoFoundBelowTips})):s.createElement(s.Fragment,null,s.createElement("span",{className:Aa().or},J),s.createElement(Ve.Rp,{page_el_sn:233851},s.createElement(F.A,{type:Ea.el.border,className:Aa().button,onClick:function(){k(!0),M.current=!1}},V))))))})),xa=n(67230),ka=n.n(xa),Pa=219918,Ta=(0,s.memo)((function(e){var t=(e.data||{}).label;return s.createElement("div",{className:ka().searchAddressItem},t)})),Da=function(e){var t,n,o=e.setAddressPoiInfo,a=e.onSelectCb,i=(0,Y.Cr)(),l=i.streetType,c=i.streetName,u=i.regionConfig,d=i.overallExtAttributes,p=u.street_type,m=u.street_name,f=(d||{}).poiHnInvalidAbTest,g=(0,s.useState)(!1),v=(0,r.A)(g,2),b=v[0],h=v[1],E=(0,s.useState)(!1),_=(0,r.A)(E,2),y=_[0],A=_[1],S=(0,s.useRef)(null),C=null==p||null===(t=p.selectItemList)||void 0===t||null===(n=t.find((function(e){return e.selectType===l})))||void 0===n?void 0:n.selectText,I=Lo({key:q.W1.STREET_NAME,pageElSn:Pa,setAddressPoiInfo:o,onSelectCb:f?a:void 0}),O=I.searchLocationList,N=I.getSearchLocationList,w=I.resetSearchLocationList,x=I.onInput,k=I.validateValueChange,P=I.onSelect,T=I.isLoading,D=ar({selectRef:S});return s.createElement(Nt.A,{vKey:q.W1.STREET_NAME,labelClassName:ka().label,regionConfig:m,isFloatLabel:b||!!c,onValidateChange:A,onAutoFocus:D,labelName:C},s.createElement(Ot.A,{vKey:q.W1.STREET_NAME,trigger:["onInput","onBlur"],actionName:"onInput",validateValueChange:k,regionConfig:m},s.createElement(Dr.A,{ref:S,regionConfig:m,vKey:q.W1.STREET_NAME,options:O,onSelect:P,inputValue:c,onInput:x,onBlur:function(){return h(!1)},onFocus:function(){return h(!0)},onSearch:N,onResetOptions:w,Item:Ta,placeholder:(null==m?void 0:m.placeholder)||"",maxMenuHeight:169,pageElSn:Pa,optionPageElSn:201193,maxLength:null==m?void 0:m.maxSize,enableEnterManuallyTip:!0,tabIndex:null==m?void 0:m.tabIndex,hasError:y,loadingMessage:Fo,isLoading:T})))},Ra=(0,s.memo)(Da),La=function(e){var t=e.setAddressPoiInfo,n=e.regionConfig,r=(0,s.useRef)(null),o=(0,s.useRef)(null),a=(0,s.useCallback)((function(){var e,t;null==r||null===(e=r.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e)}),[]),i=n||{},l=i.address_line1,c=i.address_line2,u=i.address_line3,d=i.street_name,p=i.house_number,m=i.search_bar;return s.createElement(s.Fragment,null,!!l&&s.createElement($o,{setAddressPoiInfo:t,onSelectCb:a}),!!d&&s.createElement(Ra,{setAddressPoiInfo:t,onSelectCb:function(){var e,t;return null==o||null===(e=o.current)||void 0===e||null===(t=e.focus)||void 0===t?void 0:t.call(e)}}),!!p&&s.createElement(ba,{ref:o,setAddressPoiInfo:t}),!!c&&s.createElement(ra,{ref:r,regionConfig:c}),!!u&&s.createElement(la,{regionConfig:u}),!!m&&s.createElement(wa,{setAddressPoiInfo:t}))},ja=(0,s.memo)(La),Ma=(n(94490),n(53075)),Ba=n(58453),Fa=n(64040),Wa=n(64103),Ua=n.n(Wa),Va=["children"],Ha=["selectProps"];function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var za=200117,qa=205308,Ya=xt.c.Control,Ja=xt.c.Option,Za=function(e){var t=(0,Fa.A)(),n=e.value,r=e.label,a=e.selectProps,i=e.isFocused,l=n===a.value,c=t?l:i;return s.createElement(Ja,(0,Xe.A)({},e,{isFocused:c}),s.createElement(Ve.Rp,{page_el_sn:qa},s.createElement("div",{className:f()(Ua().item,(0,o.A)({},Ua().activeItem,l)),tabIndex:0},s.createElement("span",{className:Ua().regionName},r),l?s.createElement(Rt.Cl,{className:Ua().rightIcon}):null)))},Qa=function(e){var t=e.children,n=(0,p.A)(e,Va),r=((0,Y.Cr)().overallExtAttributes||{}).addressEditPageOptimizationAbtest;return s.createElement(Ve.Rp,{page_el_sn:za,others:{design_style:r?2:1}},s.createElement("div",{className:"controlWrap"},s.createElement(Ya,n,t)))},Xa=function(e){var t;return s.createElement(Wt.A,{isOpen:null==e||null===(t=e.selectProps)||void 0===t?void 0:t.menuIsOpen})},$a=function(e){var t=e.disableRegionMsg,n=e.disableRegionList;return t&&null!=n&&n.length?s.createElement(s.Fragment,null,s.createElement("div",{className:Ua().disableRegionMsg},s.createElement(We.A,{className:Ua().icon}),t),n.map((function(e){return s.createElement("div",{className:f()(Ua().item,Ua().disableItem)},s.createElement("span",{className:Ua().regionName},e.label))}))):null},ei=function(e){var t=e.selectProps,n=(0,p.A)(e,Ha),r=(0,_.B)("bec-fe.web-address").t,a=t.commonCountryList,i=t.disableRegionList,l=t.disableRegionMsg,c=t.onChange,u=t.onMenuClose,d=t.isSearching;return s.createElement(s.Fragment,null,s.createElement(xt.c.MenuList,(0,Xe.A)({},n,{selectProps:t,className:f()((0,o.A)({},Ua().customMenuList,!(null==a||!a.length)))}),!(null==a||!a.length)&&!d&&s.createElement(s.Fragment,null,s.createElement("div",{className:Ua().commonTitle},r("TemuCaddresscommonlocation")),s.createElement("div",{className:Ua().commonItemWrap},null==a?void 0:a.map((function(e){return s.createElement("div",{className:Ua().commonItem,onClick:function(){return function(e){c(e),u()}(e)},role:"button",tabIndex:0},e.regionName)})))),n.children,!d&&s.createElement($a,{disableRegionMsg:l,disableRegionList:i})))},ti=function(e){var t=e.commonCountryList,n=e.list,r=e.disableRegionList,i=e.disableRegionMsg,c=e.value,u=e.onChange,d=e.onMenuClose,p=(0,_.B)("bec-fe.web-address").t,m=function(){var e=(0,a.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:d();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.createElement("div",{className:f()(Ua().menuListForV2,"menuListForV2")},!(null==t||!t.length)&&s.createElement(s.Fragment,null,s.createElement("div",{className:Ua().commonTitle},p("TemuCaddresscommonlocation")),s.createElement("div",{className:Ua().commonItemWrap},null==t?void 0:t.map((function(e){return s.createElement("div",{className:Ua().commonItem,onClick:function(){return m(e)},role:"button",tabIndex:0,"data-aria-enter":"1"},e.regionName)})))),!(null==n||!n.length)&&n.map((function(e){var t=c===e.value;return s.createElement(Ve.Rp,{page_el_sn:qa},s.createElement("div",{className:f()(Ua().item,(0,o.A)({},Ua().activeItem,t)),onClick:function(){return m(e)},role:"button",tabIndex:0,"data-aria-enter":"1"},s.createElement("span",{className:Ua().regionName},e.label),t?s.createElement(Rt.Cl,{className:Ua().rightIcon}):null))})),s.createElement($a,{disableRegionMsg:i,disableRegionList:r}))},ni=function(e){var t=e.regionConfig,n=(0,Y.CM)(),i=n.localInfo,d=n.isCardAddress,p=n.onChangeCountryRegion,m=n.needShowDiffDrDialog,g=void 0!==m&&m,v=n.needShowDiffSiteDialog,b=void 0===v||v,h=n.needSaveContract,E=void 0!==h&&h,y=n.switchDiffDrAction,S=n.switchDiffSiteAction,C=n.countryScene,I=(0,Y.Cr)(),O=I.setFormData,N=I.regionId1,w=I.addressInfo,x=I.isInEditPop,k=I.overallExtAttributes,P=(0,Y.s4)(),T=P.validateValueRequired,D=P.resetValidateInfo,R=P.resetWarningInfo,j=(0,Y.XQ)().resetNotDeliveredInfo,M=w.regionName1,B=w.multilingualRegionName1,F=(0,s.useState)([]),W=(0,r.A)(F,2),U=W[0],V=W[1],H=(0,s.useState)(""),G=(0,r.A)(H,2),K=G[0],z=G[1],J=(0,s.useState)([]),X=(0,r.A)(J,2),$=X[0],ee=X[1],te=(0,s.useState)([]),ne=(0,r.A)(te,2),re=ne[0],oe=ne[1],ae=(0,s.useState)(!1),ie=(0,r.A)(ae,2),le=ie[0],se=ie[1],ce=(0,s.useMemo)((function(){return B||M}),[B,M]),ue=(0,s.useMemo)((function(){return(0,u.dI)(N)}),[N]),de=(0,s.useState)(0),pe=(0,r.A)(de,2),me=pe[0],fe=pe[1],ge=(0,s.useState)(0),ve=(0,r.A)(ge,2),be=ve[0],he=ve[1],Ee=(0,s.useRef)(void 0),_e=(0,s.useState)(!1),ye=(0,r.A)(_e,2),Ae=ye[0],Se=ye[1],Ce=(0,s.useState)(!1),Ie=(0,r.A)(Ce,2),Oe=Ie[0],Ne=Ie[1],we=(k||{}).addressEditPageOptimizationAbtest,xe=t||{},ke=xe.enterType,Pe=xe.fieldTitle,Te=(0,s.useRef)(null),De=(0,s.useRef)(null),Re=(0,A.Sz)().isRTL,Le=null==i?void 0:i.region,je=(0,_.B)("bec-fe.web-ui",{keyPrefix:"region"}).t,Me=(0,_.B)("bec-fe.web-address",{keyPrefix:"region"}).t,Be=(0,_.B)("bec-fe.web-address").t,Fe=(0,_.B)("bec-fe.web-address",{keyPrefix:"change_dr_switch"}).t,We=function(){var e=(0,a.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=2;break}return e.abrupt("return",Promise.resolve(!0));case 2:return e.next=4,(0,Ba.Z)(t);case 4:return n=e.sent,Ee.current=n,e.abrupt("return",void 0!==n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=(0,s.useCallback)(function(){var e=(0,a.A)(l().mark((function e(t){var n,r,a,s,d,m,f,v,h,_;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.regionId,r=t.regionName,a=t.phoneCode,s=t.regionShortName,e.next=3,We(n);case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:if(d=(0,u.dI)(n),m=(0,u.dI)(r),fe(t.index),d!==ue){e.next=11;break}return e.abrupt("return");case 11:if((0,L.mE)({event:"addressEditSelectChange",data:(0,u.Jm)((0,o.A)({},q.W1.COUNTRY_REGION,{localInfoRegionId1:Le,needShowDiffDrDialog:g,needShowDiffSiteDialog:b,regionChangeScene:Ee.current}))}),f=function(){O((function(e){return Ka(Ka({},(0,Z._W)()),{},{phoneCode:(0,u.dI)(a),phoneRegionId:d,phoneShortName:(0,u.dI)(s),additionalPhoneCode:(0,u.dI)(a),additionalPhoneRegionId:d,additionalPhoneShortName:(0,u.dI)(s),addressInfo:Ka(Ka({},(0,Z.aw)()),{},{regionId1:d,regionName1:m}),addressId:e.addressId,addressSnapshotId:e.addressSnapshotId,addressSnapshotSn:e.addressSnapshotSn})})),D(),R(),j()},!g||Ee.current!==c.f2.DR){e.next=18;break}return v=null==U?void 0:U.find((function(e){return+e.regionId==+(null==i?void 0:i.region)})),h={title:Fe("title",{countryName:r}),tip:Fe("content"),confirm:Fe("confirm",{countryName:r}),cancel:null!=v&&v.regionName?Fe("cancel",{countryName:null==v?void 0:v.regionName}):je("CancelV2"),targetRegion:d},(0,Ba.h)({scene:1003,data:h,localInfo:i,needSaveContract:E,onComplete:function(){null==y||y(),(0,Ma.Qw)("/index.html",{needForceWeb:!0})}}),e.abrupt("return");case 18:if(!b||Ee.current!==c.f2.Site){e.next=22;break}return _={title:Me("tips",{to:m}),tip:Me("desc"),confirm:Me("switch",{to:m}),cancel:Me("cancel"),targetRegion:d},(0,Ba.h)({scene:1006,data:_,localInfo:i,needSaveContract:E,onComplete:function(){null==S||S(),(0,Ma.Qw)(location.href)},onRegionEqual:f}),e.abrupt("return");case 22:if(!p||Ee.current!==c.f2.Site){e.next=25;break}return p({regionId1:d,regionName1:m}),e.abrupt("return");case 25:f();case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ue,Le,p,i,g,b,U,y,S,j,D,R,O,je,Me]),He=(0,s.useCallback)((function(){ue||T({val:ue,name:q.W1.COUNTRY_REGION,needShowValidate:!0,needRequired:!0}),Ne(!1)}),[ue]),Ge=(0,s.useCallback)((function(){Ne(!0)}),[]);(0,s.useEffect)((function(){var e=function(){var e=(0,a.A)(l().mark((function e(){var t,n,r,o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d?Q.getBillingCountryRegionList():Q.getCountryRegionList({scene:g?c.dx.DisplayAll:C,region_id1:N});case 2:t=e.sent,n=t.regions,r=t.disableRegionMessage,o=t.disableRegions,a=t.commonLocations,V(n),z(r),ee(o),oe(a||[]),fe(null==n?void 0:n.findIndex((function(e){return N===e.value}))),he((function(e){return e+1}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[d]),(0,s.useEffect)((function(){var e,t=document.querySelector(".countryRegion__menu-list");null==t||null===(e=t.scrollTo)||void 0===e||e.call(t,0,38*(me-2))}),[be]),(0,s.useEffect)((function(){var e;return Ae&&ke===c.UE.REGION1&&(e=setTimeout((function(){var e,t=(0,u.Zw)(".menuListForV2");null==t||null===(e=t.scrollTo)||void 0===e||e.call(t,0,38*(me-2))}),100)),function(){e&&clearTimeout(e)}}),[Ae,me,ke]);var Ke=(0,s.useCallback)((function(e){if(ke===c.UE.REGION1){var t=(0,u.Zw)(".menuListForV2"),n=(0,u.Zw)(".countryName");null!=n&&n.contains(e.target)||document.contains(e.target)&&t&&t.contains(e.target)||Se(!1)}}),[ke]);(0,s.useEffect)((function(){var e=(0,u.Zw)("#addressEditScrollContainer")||document;return e.addEventListener("mousedown",Ke),function(){e.removeEventListener("mousedown",Ke)}}),[Ke]);var ze=function(){Se(!0),he((function(e){return e+1}))},qe=function(e){se(!(null==e||!e.length))},Ye={Control:Qa,Option:Za,IndicatorsContainer:Xa};null!=re&&re.length&&(Ye.MenuList=ei);var Je=(0,s.useMemo)((function(){return{menuPortal:function(e){var t;return Ka(Ka({},e),{},{left:(null!==(t=e.left)&&void 0!==t?t:0)+window.scrollX})}}}),[]),Ze=(0,s.useState)({}),Qe=(0,r.A)(Ze,2),Xe=Qe[0],$e=Qe[1];(0,s.useEffect)((function(){var e,t,n=(null===(e=De.current)||void 0===e?void 0:e.getBoundingClientRect())||{},r=n.left,o=void 0===r?0:r,a=n.right,i=void 0===a?0:a,l=n.width,s=void 0===l?0:l,c=(null===(t=Te.current)||void 0===t?void 0:t.getBoundingClientRect())||{},u=c.left,d=void 0===u?0:u,p=c.right;$e(Re?{right:-((void 0===p?0:p)-i+s/2)}:{left:-(o-d+s/2)})}),[ce]);return s.createElement(Nt.A,{vKey:q.W1.COUNTRY_REGION,className:f()(Ua().countryRegion,(0,o.A)({},Ua().countryRegionV2,ke===c.UE.REGION1)),labelClassName:Ua().label,regionConfig:t,isFloatLabel:Oe||!!ue},s.createElement(Ot.A,{vKey:q.W1.COUNTRY_REGION,trigger:["onChange"],regionConfig:t,pageElSn:204592},ke===c.UE.REGION1?s.createElement("div",null,s.createElement(Ve.Rp,{page_el_sn:za,others:{design_style:we?2:1}},s.createElement("div",{className:Ua().countryV2},s.createElement("span",{className:Ua().countryV2Label,ref:Te},Pe),s.createElement(rr.A,{overlay:s.createElement(ti,{commonCountryList:re,list:U,disableRegionList:$,disableRegionMsg:K,value:ue,onChange:Ue,onMenuClose:function(){return Se(!1)}}),trigger:"click",visible:Ae,innerClassName:Ua().transform,innerStyle:Xe},s.createElement("span",{ref:De,className:f()(Ua().countryName,"countryName"),onClick:function(){return Se(!Ae)},role:"button",tabIndex:0},ce," ",s.createElement(ha.A,{className:f()(Ua().arrow,(0,o.A)({},Ua().reverse,Ae))})))))):s.createElement(kt.Ay,{"aria-label":ce,tabSelectsValue:!1,options:U,placeholder:ce,value:ue,className:"countryRegionContainer",classNamePrefix:"countryRegion",components:Ye,commonCountryList:re,disableRegionList:$,disableRegionMsg:K,menuIsOpen:Ae,isSearching:le,isSearchable:!0,filterOption:function(e,t){var n,r,o=e.label,a=e.data,i=String(t).trim().toLowerCase();return String(o).toLowerCase().startsWith(i)||(null==a||null===(n=a.regionShortName)||void 0===n||null===(r=n.toLowerCase)||void 0===r?void 0:r.call(n))===i},maxMenuHeight:200,onChange:Ue,onBlur:He,onFocus:Ge,onMenuOpen:ze,onMenuClose:function(){return Se(!1)},onInputChange:qe,noOptionsMessage:function(){return Be("address.noSearchOptions")},menuPortalTarget:x?document.body:void 0,tabIndex:t.tabIndex,closeMenuOnScroll:x?function(e){var t,n;return e.target instanceof Element&&!(null!==(t=e.target)&&void 0!==t&&null!==(n=t.className)&&void 0!==n&&n.includes("countryRegion__menu-list"))}:void 0,styles:Je})))},ri=(0,s.memo)(ni),oi=n(21884),ai=(n(33771),n(8508)),ii=n(76630),li=n(91793),si=n(50132),ci=n(18259),ui=n(21265),di=n.n(ui),pi=n(42047),mi=n.n(pi),fi=n(33520),gi=n.n(fi),vi=n(87027),bi=n.n(vi),hi=n(53592),Ei=n.n(hi),_i=[0,1,2,3,4,5,6],yi=1721425.5,Ai=1948439.5;function Si(e){return(11*e+14)%30<11}function Ci(e){return e%4==0&&!(e%100==0&&e%400!=0)}function Ii(e,t,n){return 1721424.5+365*(e-1)+Math.floor((e-1)/4)+-Math.floor((e-1)/100)+Math.floor((e-1)/400)+Math.floor((367*t-362)/12+(t<=2?0:Ci(e)?-1:-2)+n)}function Oi(e,t,n){return n+Math.ceil(29.5*(t-1))+354*(e-1)+Math.floor((3+11*e)/30)+Ai-1}function Ni(e,t){return e-t*Math.floor(e/t)}function wi(e,t,n){return function(e){var t=Math.floor(e-.5)+.5,n=t-yi,r=Math.floor(n/146097),o=Ni(n,146097),a=Math.floor(o/36524),i=Ni(o,36524),l=Math.floor(i/1461),s=Ni(i,1461),c=Math.floor(s/365),u=400*r+100*a+4*l+c;4!==a&&4!==c&&u++;var d=t-Ii(u,1,1),p=t<Ii(u,3,1)?0:Ci(u)?1:2,m=Math.floor((12*(d+p)+373)/367);return[u,m,t-Ii(u,m,1)+1]}(Oi(e,t,n)).join("/")}function xi(e,t,n){return function(e){var t=Math.floor(e)+.5,n=Math.floor((30*(t-Ai)+10646)/10631),r=Math.min(12,Math.ceil((t-(29+Oi(n,1,1)))/29.5)+1);return[n,r,t-Oi(n,r,1)+1]}(Ii(e,t,n)).join("/")}var ki,Pi=(0,s.createContext)({});function Ti(){return s.useContext(Pi)}var Di=(ki={},(0,o.A)(ki,c.Bx.Gregorian,{en:["January","February","March","April","May","June","July","August","September","October","November","December"],ar:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],es:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]}),(0,o.A)(ki,c.Bx.Hijiri,{en:["Muh","Saf","Rab-I","Rab-II","Jum-I","Jum-II","Raj","Sha","Ram","Shw","Dhu-Q","Dhu-H"],ar:["محرم","صفر","ربيع الأول","ربيع الثاني","جمادى الأول","جمادى الثاني","رجب","شعبان","رمضان","شوال","ذو القعدة","ذو الحجة"]}),ki),Ri=["الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],Li=n(83336),ji=n.n(Li);n(49723),n(85016);function Mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}v().extend(di()),v().extend(Ei()),v().extend(h()),v().extend(mi()),v().extend(bi()),v().extend(gi()),v().extend((function(e,t,n){var r=c.Bx.Gregorian,o=t.prototype,a=o.isLeapYear,i=o.daysInMonth,l=o.day;n.updateLocale("ar",{weekdaysShort:Ri}),n.useIntlCalendar=function(e,t){r=e,n.updateLocale(t,{months:Di[e][t]||Di[e].en})},o.isLeapYear=function(){return r===c.Bx.Hijiri?Si(this.$y):a.call(this)},o.daysInMonth=function(){return r===c.Bx.Hijiri?(e=this.$y,11===(t=this.$M)&&Si(e)||(t+1)%2==1?30:29):i.call(this);var e,t},o.day=function(e){if(void 0===e&&r===c.Bx.Hijiri){var t=wi(this.$y,this.$M+1,this.$D);return new Date(t).getDay()}return l.call(this,e)}}));var Fi=function(e){var t=e.children,n=e.innerProps,a=(0,_.B)("bec-fe.web-address").t,i=(0,s.useState)({prev:!1,next:!1}),l=(0,r.A)(i,2),c=l[0],u=l[1],d=(0,s.useState)({prev:!1,next:!1}),p=(0,r.A)(d,2),m=p[0],g=p[1],b=Ti(),h=b.range,E=b.years,y=b.months,A=b.days,S=b.date,C=b.getOptions,I=b.setDate,O=b.setOptions,N=b.isOpen,w=b.setIsOpen,x=S.year,k=S.month,P=function(e){e<=E[0]?u({prev:!0,next:!1}):e>=E[E.length-1]?u({prev:!1,next:!0}):u({prev:!1,next:!1})},T=function(e,t){var n=v()("".concat(e,"-").concat(t+1));n.isSameOrBefore(null==h?void 0:h[0],"month")?g({prev:!0,next:!1}):n.isSameOrAfter(null==h?void 0:h[1],"month")?g({prev:!1,next:!0}):g({prev:!1,next:!1})},D=function(e){var t=v()(null==h?void 0:h[0]).get("month"),n=v()(null==h?void 0:h[1]).get("month");return x===E[0]&&e<t||x===E[E.length-1]&&e>n};(0,s.useEffect)((function(){P(x),T(x,k)}),[x,k]),(0,s.useEffect)((function(){if(N){var e=document.querySelector(".activeYear"),t=document.querySelector(".activeMonth");null==e||e.scrollIntoView({block:"nearest"}),null==t||t.scrollIntoView({block:"nearest"})}}),[N]);var R=function(e){var t=e.type,n=e.operate,r="month"===t?m:c;if(!(-1===n&&r.prev||1===n&&r.next)){var o=v()("".concat(S.year,"-").concat(S.month+1)).add(n,t),a=o.get("year"),i=o.get("month");P(a),T(a,i);var l=i<9?"".concat(a,"-0").concat(i+1,"-01"):"".concat(a,"-").concat(i+1,"-01");(0,L.mE)({event:"onSlide",data:l});var s=C(v()(l).toDate());O(s),I((function(e){return Bi(Bi({},e),{},{month:i,year:a})}))}};return s.createElement("div",(0,Xe.A)({},n,{className:ji().calenderWrap}),s.createElement("div",{className:ji().monthHeader},s.createElement("div",{className:ji().arrowWrap},!N&&s.createElement(s.Fragment,null,s.createElement("div",{role:"button",tabIndex:0,onClick:function(){return R({type:"year",operate:-1})}},s.createElement(si.A,{className:f()(ji().arrow,(0,o.A)({},ji().disable,c.prev))})),s.createElement("div",{role:"button",tabIndex:0,onClick:function(){return R({type:"month",operate:-1})}},s.createElement(ai.A,{className:f()(ji().arrow,(0,o.A)({},ji().disable,m.prev))})))),s.createElement("div",{role:"button",tabIndex:0,onClick:function(){return w((function(e){return!e}))}},s.createElement("span",{className:ji().title},y[k]," ",x),s.createElement(ii.A,{className:f()(ji().arrow,(0,o.A)({},ji().isOpen,N))})),s.createElement("div",{className:ji().arrowWrap},!N&&s.createElement(s.Fragment,null,s.createElement("div",{role:"button",tabIndex:0,onClick:function(){return R({type:"month",operate:1})}},s.createElement(li.A,{className:f()(ji().arrow,(0,o.A)({},ji().disable,m.next))})),s.createElement("div",{role:"button",tabIndex:0,onClick:function(){return R({type:"year",operate:1})}},s.createElement(ci.A,{className:f()(ji().arrow,(0,o.A)({},ji().disable,c.next))}))))),s.createElement("div",{className:f()(ji().dropDownWrap,(0,o.A)({},ji().isOpen,N))},s.createElement("div",{className:ji().item},s.createElement("div",{className:ji().title},s.createElement("span",null,a("months"))),s.createElement("div",{className:ji().list},y.map((function(e,t){return s.createElement("div",{key:e,className:f()(ji().listItem,(0,o.A)({activeYear:k===t},ji().disable,D(t))),role:"button",tabIndex:0,onClick:function(){D(t)||function(e){I((function(t){return Bi(Bi({},t),{},{month:e})}));var t=e<9?"".concat(S.year,"-0").concat(e+1,"-01"):"".concat(S.year,"-").concat(e+1,"-01");(0,L.mE)({event:"onSelectMonth",data:t});var n=C(v()(t).toDate());O(n),w(!1)}(t)}},e,k===t&&s.createElement(Rt.Cl,{className:ji().selectedIcon}))})))),s.createElement("div",{className:ji().item},s.createElement("div",{className:ji().title},s.createElement("span",null,a("years"))),s.createElement("div",{className:ji().list},E.map((function(e){return s.createElement("div",{key:e,className:f()(ji().listItem,{activeMonth:x===e}),role:"button",tabIndex:0,onClick:function(){return function(e){I((function(t){return Bi(Bi({},t),{},{year:e})}));var t=S.month<9?"".concat(e,"-0").concat(S.month+1,"-01"):"".concat(e,"-").concat(S.month+1,"-01");(0,L.mE)({event:"onSelectYear",data:t});var n=C(v()(t).toDate());O(n),w(!1)}(e)}},e,x===e&&s.createElement(Rt.Cl,{className:ji().selectedIcon}))}))))),s.createElement("div",{className:ji().content},s.createElement("div",{className:ji().daysHeader},A.map((function(e){return s.createElement("span",{key:e,className:ji().daysHeaderItem},e)}))),s.createElement("div",{className:ji().daysContainer},t)))},Wi=function(e){var t=e.data,n=e.getStyles,r=e.innerProps,a=e.isDisabled,i=n("option",e),l=Ti().sundayIndex;if(1===t.date.date()){var c=(t.date.day()+l)%7,u=[];return c&&(u=new Array(c).fill(0).map((function(e,t){return s.createElement("span",(0,Xe.A)({},r,{onClick:function(){return null},key:t,className:f()(ji().calendarDateOption,ji().hiddenOption)})," ")}))),[].concat((0,wt.A)(u),[s.createElement("span",(0,Xe.A)({},r,{className:f()(ji().calendarDateOption,(0,o.A)({},ji().disableOption,a)),style:i}),t.date.format("DD"))])}return s.createElement("span",(0,Xe.A)({},r,{className:f()(ji().calendarDateOption,(0,o.A)({},ji().disableOption,a)),style:i}),t.date.format("DD"))},Ui=function(e){var t;return s.createElement(Wt.A,{isOpen:null==e||null===(t=e.selectProps)||void 0===t?void 0:t.menuIsOpen})},Vi=(0,V.A)((0,M.W4)())((0,s.memo)((function(e){var t=e.calendarType,n=void 0===t?c.Bx.Gregorian:t,o=e.formatter,a=void 0===o?"YYYY/MM/DD":o,i=e.startWeekDay,l=void 0===i?6:i,u=e.menuPlacement,d=void 0===u?"auto":u,p=e.range,m=e.value,f=e.placeholder,g=e.onChange,b=(0,A.Sz)().localInfo,h=(null==b?void 0:b.language)||"en",E=a.toUpperCase(),_=m;if(m){var y=v()(m,"YYYY/MM/DD");y.isValid()||(y=v()(m,E)),_=y.format(E)}v().locale(h),v().useIntlCalendar(n,h);var S=(0,s.useState)(!1),C=(0,r.A)(S,2),I=C[0],O=C[1],N=(0,s.useState)([]),w=(0,r.A)(N,2),x=w[0],k=w[1],P=(0,s.useState)(),T=(0,r.A)(P,2),D=T[0],R=T[1],L=(0,s.useState)({}),j=(0,r.A)(L,2),M=j[0],B=j[1],F=p||[],W=(0,r.A)(F,2),U=W[0],V=W[1],H=function(e){if(e){var t=v()(e,E),n=t.isBefore(U)||t.isAfter(V);return{date:t,value:t.toDate(),label:t.format(E),isDisabled:n}}},G=function(e){return[{options:new Array(v()(e).daysInMonth()).fill(0).map((function(t,n){var r=v()(e).date(n+1);return H(r)}))}]};(0,s.useEffect)((function(){var e,t=H(_);if(R(t),_)e=v()(_,E);else{var r=v()();if(n===c.Bx.Hijiri){var o=xi(r.get("year"),r.get("month"),r.get("date"));r=v()(o)}e=r.isBetween(U,V,"day","[]")?r:r.isBefore(U)?v()(U):v()(V)}k(G(e.toDate())),B({year:e.get("year"),month:e.get("month"),date:e.get("date")})}),[_,n]);var K=function(e){var t=_i.indexOf(e);return[].concat((0,wt.A)(_i.slice(t)),(0,wt.A)(_i.slice(0,t))).findIndex((function(e){return 0===e}))}(l),z=function(e){var t=_i.indexOf(e);return[].concat((0,wt.A)(_i.slice(t)),(0,wt.A)(_i.slice(0,t))).map((function(e){return v()().day(e).format("ddd")}))}(l),q=function(){for(var e=[],t=0;t<12;t++){var n=v()().month(t).format("MMMM");e.push(n)}return e}(),Y=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,r.A)(e,2),n=t[0],o=t[1],a=v()(n).year(),i=v()(o).year(),l=[],s=a;s<=i;s++)l.push(s);return l}(p),J=(0,s.useMemo)((function(){return{calendarType:n,range:p,sundayIndex:K,days:z,months:q,years:Y,date:M,isOpen:I,setIsOpen:O,getOptions:G,setDate:B,setOptions:k}}),[n,p,K,z,q,Y,M]);return s.createElement(Pi.Provider,{value:J},s.createElement(kt.Ay,{className:"dateContainer",classNamePrefix:"date",value:D,controlShouldRenderValue:!!D,isSearchable:!1,onChange:function(e){e&&(null==g||g(e.date.format(E)))},components:{Group:Fi,Option:Wi,IndicatorsContainer:Ui},filterOption:null,isMulti:!1,isOptionSelected:function(e,t){return t.some((function(t){return t.date.isSame(e.date,"day")}))},options:x,captureMenuScroll:!I,placeholder:f,menuPortalTarget:document.body,menuPlacement:d,theme:function(e){return Bi(Bi({},e),{},{colors:Bi(Bi({},e.colors),{},{primary25:"#f5f5f5",primary:"#FB7701"})})},styles:{option:function(e,t){return Bi(Bi({},e),{},{backgroundColor:t.isSelected?e.backgroundColor:""})}}}))}))),Hi=Vi,Gi=n(42371),Ki=n.n(Gi);function zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yi=function(e){var t=e.regionConfig,n=(0,Y.Cr)(),r=n.formData,o=n.setFormData,a=n.manualCheckValid,i=(null==t?void 0:t.extraInfo)||{},l=i.datePickerStartDate,u=void 0===l?"":l,d=i.datePickerEndDate,p=void 0===d?"":d,m=i.calendarType,f=i.dateFormatter,g=function(e){o((function(t){return qi(qi({},t),{},{birthDate:e||void 0})})),a([q.W1.BIRTH_DATE],{birthDate:e})};return s.createElement(Nt.A,{vKey:q.W1.BIRTH_DATE,regionConfig:t,labelClassName:Ki().label,isFloatLabel:!0},s.createElement(Ot.A,{vKey:q.W1.BIRTH_DATE,trigger:["onChange"],regionConfig:t},(null==t?void 0:t.enterType)===c.UE.SELECT?s.createElement(Hi,{range:[u,p],value:r.birthDate,placeholder:null==t?void 0:t.placeholder,calendarType:m,formatter:f,onChange:g}):s.createElement(an.A,{value:r.birthDate,maxLength:(null==t?void 0:t.maxSize)||10,className:Ki().input,onChange:g,placeholder:null==t?void 0:t.placeholder,formatter:k.Yq,tabIndex:null==t?void 0:t.tabIndex})))},Ji=(0,s.memo)(Yi);function Zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zi(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xi=function(e){var t=e.regionConfig,n=(0,Y.Cr)(),r=n.formData,o=n.setFormData,a=n.manualCheckValid,i=(null==t?void 0:t.extraInfo)||{},l=i.datePickerStartDate,u=void 0===l?"":l,d=i.datePickerEndDate,p=void 0===d?"":d,m=i.calendarType,f=i.dateFormatter,g=function(e){o((function(t){return Qi(Qi({},t),{},{taxcodeDate:e||void 0})})),a([q.W1.TAXCODE_DATE],{taxcodeDate:e})};return s.createElement(Nt.A,{vKey:q.W1.TAXCODE_DATE,regionConfig:t,labelClassName:Ki().label,isFloatLabel:!0},s.createElement(Ot.A,{vKey:q.W1.TAXCODE_DATE,trigger:["onChange"],regionConfig:t},(null==t?void 0:t.enterType)===c.UE.SELECT?s.createElement(Hi,{range:[u,p],value:r.taxcodeDate,placeholder:null==t?void 0:t.placeholder,calendarType:m,formatter:f,onChange:g}):s.createElement(an.A,{value:r.taxcodeDate,maxLength:(null==t?void 0:t.maxSize)||10,className:Ki().input,onChange:g,placeholder:null==t?void 0:t.placeholder,formatter:k.Yq,tabIndex:null==t?void 0:t.tabIndex})))},$i=(0,s.memo)(Xi);function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nl=function(e){var t,n=e.regionConfig,o=e.multiSelectItemMap,i=void 0===o?{}:o;(0,s.useEffect)((function(){(0,L.mE)({event:"DateGroup"})}),[]);var c=n.date_group,u=n.taxcode_date,d=n.birth_date,p=(null===(t=c.extraInfo)||void 0===t?void 0:t.multiSelectGroup)||[],m=(0,Y.s4)().resetValidateInfo,f=(0,Y.Cr)(),g=f.formData,v=f.setFormData,b=f.setFormDataOrigin,h=(0,s.useState)(p.findIndex((function(e){return e.isSelected}))),E=(0,r.A)(h,2),_=E[0],y=E[1],A=(0,s.useState)(u),S=(0,r.A)(A,2),I=S[0],O=S[1],N=(0,s.useState)(d),w=(0,r.A)(N,2),x=w[0],P=w[1],T=(0,s.useRef)(),D=(0,s.useRef)(!1),R=(0,s.useMemo)((function(){return!!g.taxcodeDate||!!g.birthDate}),[g]),j=p.map((function(e,t){return{label:s.createElement("div",{className:Ki().tabItem},e.selectTitle),key:t}})),M=function(e){e.forEach((function(e){e.startsWith(q.W1.TAXCODE_DATE)&&O(tl(tl({},i[e]),{},{order:u.order,tabIndex:u.tabIndex})),e.startsWith(q.W1.BIRTH_DATE)&&P(tl(tl({},i[e]),{},{order:d.order,tabIndex:d.tabIndex}))}))},B=function(){var e=(0,a.A)(l().mark((function e(){var t,n,r,o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R){e.next=2;break}return e.abrupt("return",Promise.resolve(!0));case 2:if(!D.current){e.next=5;break}return v((function(e){return tl(tl({},e),{},{taxcodeDate:void 0,birthDate:void 0})})),e.abrupt("return",Promise.resolve(!0));case 5:return t=c.extraInfo||{},n=t.changeGroupTips,r=t.dateGroupDialogButtonText,o=t.dateGroupDialogCancelButtonText,e.next=8,(0,C.P)({popupNode:s.createElement(W.A,{onClose:function(){return(0,C.L)(!1)}},s.createElement(W.A.Title,null,n),s.createElement("div",{className:Ki().btns,dir:"ltr"},s.createElement(F.A,{onClick:function(){return(0,C.L)(!1)},className:Ki().btn,size:"xl",type:"border"},o),s.createElement(F.A,{onClick:function(){v((function(e){return tl(tl({},e),{},{taxcodeDate:void 0,birthDate:void 0})})),D.current=!0,(0,C.L)(!0)},className:Ki().btn,size:"xl"},r)),s.createElement(W.A.CloseButton,{onClick:function(){return(0,C.L)(!1)}}))});case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,a.A)(l().mark((function e(t,n){var r,o,a,i,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.key!==_){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,B();case 4:e.sent?(y(n),a=(null===(r=p[n])||void 0===r||null===(o=r.multiFieldList)||void 0===o?void 0:o.map((function(e){return e.multiKey})))||[],i=a.map((function(e){return(0,k.yp)(e)})),M(i),v((function(e){return tl(tl({},e),{},{selectedField:(0,Z.xK)(e.selectedField,a)})})),m([q.W1.TAXCODE_DATE,q.W1.BIRTH_DATE])):null===(s=T.current)||void 0===s||s.setActiveKey(_);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();if((0,s.useEffect)((function(){var e,t,n=(null===(e=p.find((function(e){return e.isSelected})))||void 0===e||null===(t=e.multiFieldList)||void 0===t?void 0:t.map((function(e){return e.multiKey})))||[],r=n.map((function(e){return(0,k.yp)(e)}));M(r),b((function(e){return tl(tl({},e),{},{selectedField:(0,Z.xK)(e.selectedField,n)})}))}),[n]),null==j||!j.length)return null;var V=c.order?{order:c.order}:{};return s.createElement("div",{style:V,className:Ki().tabWrap},s.createElement(oi.tU,{ref:T,classConfig:{activeCls:Ki().activeCls},data:j,activeKey:_,onChange:U}),s.createElement($i,{regionConfig:I}),s.createElement(Ji,{regionConfig:x}))},rl=(0,s.memo)(nl);function ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ol(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var il=function(e){var t,n=e.value,r=e.regionConfig,o=(0,Y.Cr)().setFormData,a=(0,s.useCallback)((function(e){o((function(t){return al(al({},t),{},{fullName:e})}))}),[o]),i=s.createElement(Ar,{vKey:q.W1.NAME,regionConfig:r,value:n,handleInput:a}),l=(0,u.bV)("#taxCodeV2");return null!==(t=r.extraInfo)&&void 0!==t&&t.isBackPlaceField&&l?(0,$e.createPortal)(i,l):i},ll=(0,s.memo)(il);function sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ul=function(e){var t=e.value,n=e.regionConfig,r=(0,Y.Cr)().setFormData,o=(0,s.useCallback)((function(e){r((function(t){return cl(cl({},t),{},{firstName:e})}))}),[r]);return s.createElement(Ar,{vKey:q.W1.FIRST_NAME,regionConfig:n,value:t,handleInput:o})},dl=(0,s.memo)(ul);function pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fl=function(e){var t=e.value,n=e.regionConfig,r=(0,Y.Cr)().setFormData,o=(0,s.useCallback)((function(e){r((function(t){return ml(ml({},t),{},{lastName:e})}))}),[r]);return s.createElement(Ar,{vKey:q.W1.LAST_NAME,regionConfig:n,value:t,handleInput:o})},gl=(0,s.memo)(fl);function vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vl(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hl=function(e){var t=e.value,n=e.regionConfig,r=(0,Y.Cr)().setFormData,o=(0,s.useCallback)((function(e){r((function(t){return bl(bl({},t),{},{middleName:e})}))}),[r]);return s.createElement(Ar,{vKey:q.W1.MIDDLE_NAME,regionConfig:n,value:t,handleInput:o})},El=(0,s.memo)(hl),_l=(n(78459),n(4105)),yl=n(70784),Al=n(36806);function Sl(e){return e*(Math.PI/180)}function Cl(e,t){if(!e||!t)return 0;try{var n=e.lat,r=e.lng,o=t.lat,a=t.lng,i=Sl(o-n),l=Sl(a-r),s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(Sl(n))*Math.cos(Sl(o))*Math.sin(l/2)*Math.sin(l/2);return(1e3*(6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))))).toFixed(2)}catch(e){return(0,L.mE)({event:"calcDistanceError",data:JSON.stringify(e)}),0}}var Il=n(87705),Ol=n(58397);function Nl(e){return wl.apply(this,arguments)}function wl(){return(wl=(0,a.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,mn.SA)({url:"/api/bg-origenes/poi/standardization/address",params:t}).then((function(e){return(null==e?void 0:e.result)||{}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xl=n(97850),kl=n.n(xl);function Pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pl(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dl=function(e){var t=e.regionId1,n=e.mapScene,r=void 0===n?c.HQ.Normal:n,i=e.mapControl,p=e.rewriteMapControl,m=void 0===p||p,g=e.isEdit,v=void 0!==g&&g,b=e.mapFieldHideAbtest,h=void 0!==b&&b,E=e.mapButtonEnhanceAbtest,A=void 0!==E&&E,C=e.visible,I=void 0===C||C,O=e.latLngScene,N=void 0===O?c.Zf.PlacesDetails:O,w=e.latLng,x=e.title,k=e.markerLabel,P=e.apiKey,T=e.isGuestMode,D=void 0!==T&&T,R=e.onClose,j=e.onConfirm,M=e.setEnterAddressManually;(0,d.A)();var B=(0,_.B)("bec-fe.web-address").t,W=(0,en.A)().lockSubmit,U={enableDrag:!0,enableGeocode:!0,enableAutoComplete:!0,enableCenterIcon:!0,enableLocateMe:!0,enableZoomControl:!0,enablePlaceInfo:!0,enableSelectPlace:!0,enableSubTitle:!0},V=m?i||U:Tl(Tl({},U),i),H=(0,s.useRef)({zoomCount:0,zoomInCount:0,zoomOutCount:0,moveCount:0,lastLatLng:w}),G=function(){var e=(0,a.A)(l().mark((function e(n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return W(!0),e.next=5,Nl({region_id1:t,google_address_list:n,google_address:n[0]});case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:r=e.t0,W(!1),r.standardizationSuccess&&r.mapAddressInfo&&(0,u.dI)(r.mapAddressInfo.regionId1)===(0,u.dI)(t)?(r.fullAddress||(r.notFullAddressErrorMsg&&S.A.warning(r.notFullAddressErrorMsg),(0,y.OS)({page_el_sn:224849,op:"impr"})),null==j||j(r.mapAddressInfo,r.fullAddress),R(),(0,L.mE)({event:"googleMapConfirmAddressSuccess"})):(r.errorMsg&&S.A.warning(r.errorMsg),(0,y.OS)({page_el_sn:224846,op:"impr"}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){(0,y.E0)({page_el_sn:241286}),null==M||M(!0),R()};(0,s.useEffect)((function(){I||r!==c.HQ.Normal||((0,y.E0)({page_el_sn:241058,zoom_count:H.current.zoomCount,zoomin_count:H.current.zoomInCount,zoomout_count:H.current.zoomOutCount}),(0,y.E0)({page_el_sn:241060,move_count:H.current.moveCount,map_tack_dist:Cl(w,H.current.lastLatLng)}),H.current={zoomCount:0,zoomInCount:0,zoomOutCount:0,moveCount:0,lastLatLng:w})}),[I,r,w]);var z={visibility:I?"visible":"hidden"};return s.createElement(et.Ay,{maskClosable:!1,enableBodyFixed:!1,onClick:R,style:z,className:f()(kl().popupWrap,(0,o.A)({},kl().visible,I)),wrapClassName:f()(kl().maskWrap,(0,o.A)({},kl().visible,I))},s.createElement("div",{className:kl().mapWrap},s.createElement("div",{className:kl().title},x||B("selectAddress")),!!V.enableSubTitle&&s.createElement("div",{className:kl().subTitle},B("moveMap")),s.createElement(Ol.w.Provider,{value:{regionId1:t,mapControl:V,latLng:w,latLngScene:N,isEdit:v,onSelect:G,mapFieldHideAbtest:h,setEnterAddressManually:M,mapScene:r,markerLabel:k,apiKey:P,isGuestMode:D,operateCountRef:H}},s.createElement(Il.A,null)),!!h&&s.createElement(s.Fragment,null,A?s.createElement(F.A,{className:kl().tipButton,onClick:K},B("enterManually")):s.createElement("div",{className:kl().tip,onClick:K,role:"button",tabIndex:0,"data-aria-enter":"1"},s.createElement("span",null,B("enterManually")),s.createElement(Jt.A,{className:kl().arrowIcon,"aria-hidden":!0})))))},Rl=(0,s.memo)(Dl),Ll=n(3075),jl=n.n(Ll);function Ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ml(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ml(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fl=function(e){switch(e){case 0:default:return 15;case 1:return 17;case 2:return 19;case 3:return 20}},Wl=function(e){var t,n,o=e.regionConfig,a=e.onSuccess,i=(0,_.B)("bec-fe.web-address").t,l=(0,Y.CM)().isEdit,d=(0,Y.Cr)(),p=d.regionId1,m=d.formData,f=d.setFormData,g=d.manualCheckValid,v=d.setShowRegion4,b=d.overallExtAttributes,h=d.enterAddressManually,E=d.setEnterAddressManually,A=b||{},S=A.mapEnhanceAbtest,C=A.mapFieldHideAbtest,I=A.mapButtonEnhanceAbtest,O=(0,s.useState)(!1),N=(0,r.A)(O,2),w=N[0],x=N[1],P=(0,s.useState)(!1),T=(0,r.A)(P,2),D=T[0],R=T[1],j=o.order?{order:o.order}:{},M=o.extraInfo||{},B=M.fieldSeparatorText,W=M.defaultLat,U=M.defaultLng,V=M.mapZoomAbtest,H=void 0===V?0:V,G=m||{},K=G.lat,z=G.lng,J=(0,yl.T)(null===(t=o.extraInfo)||void 0===t?void 0:t.apiKey),Z=(0,s.useState)({lat:W?parseFloat(W):void 0,lng:U?parseFloat(U):void 0}),Q=(0,r.A)(Z,2),X=Q[0],$=Q[1],ee=(0,s.useState)(c.Zf.Fullback),te=(0,r.A)(ee,2),ne=te[0],re=te[1],oe=function(){x(!0),R(!0),(0,L.mE)({event:"openGoogleMap"})};(0,s.useEffect)((function(){1!==S&&(0,Al.IH)({apiKey:J}),1!==S||l||oe()}),[]),(0,s.useEffect)((function(){K&&z&&($({lat:parseFloat(K),lng:parseFloat(z)}),re(c.Zf.LastSaved))}),[K,z]);var ae=(0,s.useMemo)((function(){var e=m.addressInfo||{},t=e.regionName1,n=e.regionName2,r=e.regionName3;return[e.regionName4,r,n,t].filter((function(e){return e})).join(", ")}),[m]);return s.createElement("div",{className:jl().poi,style:j},C&&ne===c.Zf.LastSaved&&!h?s.createElement("div",{className:jl().savedAddress},s.createElement("div",{className:jl().info},s.createElement("div",{className:jl().infoTitle},s.createElement(_a.A,{className:jl().locateIcon,"aria-hidden":!0}),s.createElement("span",null,i("deliverTo"))),s.createElement("div",{className:jl().infoDetail},ae)),s.createElement(Ve.Rp,{page_el_sn:227851},s.createElement("div",{className:jl().imgWrap,onClick:oe,role:"button",tabIndex:o.tabIndex,"data-aria-enter":"1"},s.createElement(Ue.Ay,{src:"https://aimg.kwcdn.com/upload_aimg/temu/f607f6d0-892b-4e76-848e-6df9bf48837e.png.slim.png",resizeWidth:102,className:jl().img,"aria-hidden":!0,alt:""}),s.createElement("div",{className:jl().editButton},s.createElement(_l.A,{className:jl().editIcon,"aria-hidden":!0}),i("edit"))))):s.createElement(s.Fragment,null,s.createElement(Ve.Rp,{page_el_sn:224848},s.createElement(F.A,{className:jl().button,type:Ea.el.primary,tabIndex:o.tabIndex,"data-aria-enter":"1",onClick:oe},s.createElement(_a.A,{className:jl().locateIcon,"aria-hidden":!0}),null==o||null===(n=o.extraInfo)||void 0===n?void 0:n.mapButtonText,s.createElement(Jt.A,{className:jl().arrowIcon,"aria-hidden":!0}))),s.createElement("span",{className:jl().or},B)),w&&(0,$e.createPortal)(s.createElement(Rl,{mapFieldHideAbtest:C,mapButtonEnhanceAbtest:I,setEnterAddressManually:E,apiKey:J,visible:D,latLng:X,latLngScene:ne,isEdit:l,regionId1:p,mapControl:{zoom:Fl(H)},rewriteMapControl:!1,onClose:function(){(0,y.E0)({page_el_sn:241057}),R(!1)},onConfirm:function(e,t){t||E(!0),a((0,k.qi)(e));var n=e.regionName3,r=e.regionName4,o=e.region4IsInformal,i=e.addressLine1,l=e.addressLine2,s=e.addressLine3,c=e.streetName,d=e.houseNumber;v(n&&!o||!!r),f((function(t){return Bl(Bl({},t),{},{addressInfo:Bl(Bl({},e),{},{addressLine1:(0,u.dI)(i),addressLine2:(0,u.dI)(l),addressLine3:(0,u.dI)(s),streetName:(0,u.dI)(c),houseNumber:(0,u.dI)(d)}),lat:e.lat,lng:e.lng})})),setTimeout((function(){g([q.W1.COUNTRY_REGION,q.W1.STATE,q.W1.CITY,q.W1.DISTRICT,q.W1.ADDRESS_LINE1,q.W1.ADDRESS_LINE2,q.W1.ADDRESS_LINE3,q.W1.STREET_NAME,q.W1.HOUSE_NUMBER,q.W1.ZIP_CODE],e)}),0)}}),document.body))},Ul=(0,s.memo)(Wl),Vl=n(38914),Hl=n(1358),Gl=n(21786),Kl=n.n(Gl);function zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zl(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yl=(0,s.memo)((function(e){var t=e.item,n=e.activeValue,r=t.innerProps,a=t.data||{},i=a.phoneCode,l=a.regionName,c=a.value===n;return s.createElement("div",r,s.createElement("div",{className:f()(Kl().phoneItem,(0,o.A)({},Kl().activePhoneItem,c))},s.createElement("span",{className:Kl().regionName},l),s.createElement("span",null," +"),i,!!c&&s.createElement(Rt.Cl,{className:Kl().rightIcon})))})),Jl=function(e){var t=(null==e?void 0:e.selectProps)||{},n=t.menuIsOpen,r=t.addressEditPageOptimizationAbtest;return s.createElement(s.Fragment,null,!(null!=e&&e.isDisabled)&&s.createElement(s.Fragment,null,r?s.createElement(Vl.A,{className:f()(Kl().arrow,(0,o.A)({},Kl().arrowOpen,n)),"aria-hidden":!0}):s.createElement(ha.A,{className:f()(Kl().arrow,(0,o.A)({},Kl().arrowOpen,n)),"aria-hidden":!0})),s.createElement("div",{className:f()("splitBorder",null!=e&&e.isDisabled?"disabledSplitBorder":"")}))},Zl=function(e){var t,n,i,c,d,p=e.phoneRegionId,m=e.phoneShortName,g=e.isShowPhone,v=e.isEditGuestMode,b=e.regionConfig,h=e.isAdditionalMobile,E=(0,Y.CM)(),_=E.isEdit,S=E.isPop,C=E.isInPop,I=E.addrScene,O=(0,Y.Cr)(),N=O.formData,w=O.setFormData,x=O.setFormDataOrigin,P=O.regionId1,T=O.phoneCode,D=O.additionalPhoneCode,R=O.mobile,j=O.additionalMobile,M=O.overallExtAttributes,B=h?q.W1.ADDITIONAL_MOBILE:q.W1.MOBILE,F=h?j:R,W=(0,s.useState)([]),U=(0,r.A)(W,2),V=U[0],H=U[1],G=(0,s.useState)([]),K=(0,r.A)(G,2),z=K[0],J=K[1],Z=T&&m?"".concat(m," +").concat(T):"",X=D&&m?"".concat(m," +").concat(D):"",$="".concat(p||"","_").concat(h?D:T||""),ee=(M||{}).addressEditPageOptimizationAbtest,te=(0,s.useState)(!1),ne=(0,r.A)(te,2),re=ne[0],oe=ne[1],ae=(0,s.useState)(!1),ie=(0,r.A)(ae,2),le=ie[0],se=ie[1],ce=(0,s.useState)(!1),ue=(0,r.A)(ce,2),de=ue[0],pe=ue[1],me=(0,s.useRef)(null),fe=(0,A.Sz)().isRTL,ge=(0,s.useMemo)((function(){var e,t,n,r,o=h?N.additionalPhoneRegionId:N.phoneRegionId;if(!o)return null==b?void 0:b.placeholder;var a=null==b||null===(e=b.extraInfo)||void 0===e||null===(t=e.mobileDisplayRule)||void 0===t||null===(n=t[o])||void 0===n||null===(r=n[0])||void 0===r?void 0:r.placeholder;return a||((0,u.dI)(o)===(0,u.dI)(P)?null==b?void 0:b.placeholder:"")}),[h,N,b,P]),ve=(0,s.useRef)({phoneCode:!1,additionalPhoneCode:!1}),be=(0,s.useCallback)((function(e){var t=h?{additionalPhoneCode:e.phoneCode,additionalPhoneRegionId:e.regionId,additionalPhoneShortName:e.regionShortName}:{phoneCode:e.phoneCode,phoneRegionId:e.regionId,phoneShortName:e.regionShortName};x((function(e){return ql(ql({},e),t)})),J(e.displayRules)}),[h]),he=(0,s.useCallback)((function(e){var t,n;se(!0),pe(!0),(0,L.mE)({event:"addressEditInputFocus",data:(0,u.Jm)((0,o.A)({},B,null==e||null===(t=e.target)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.length))})}),[]),Ee=(0,s.useCallback)((function(e){(0,L.F$)({vKey:B,data:null==e?void 0:e.length}),w((function(t){return ql(ql({},t),{},(0,o.A)({},B,e))})),e||pe(!1)}),[]),_e=(0,s.useCallback)((function(){se(!1),(0,L.pW)(B)}),[]),ye=(0,s.useCallback)((function(e){var t,n,r=N.phoneRegionId,o=(null==b||null===(t=b.extraInfo)||void 0===t||null===(n=t.mobileDisplayRule)||void 0===n?void 0:n[r])||[];return null!=z&&z.length?(0,k.Oo)(e,z):(0,k.Oo)(e,o)}),[N,z]),Ae=(0,s.useCallback)((function(e){return s.createElement(Yl,{item:e,activeValue:$})}),[$]),Se=(0,s.useRef)(!1),Ce=(0,s.useState)("0"),Ie=(0,r.A)(Ce,2),Oe=Ie[0],Ne=Ie[1];(0,s.useEffect)((function(){if(Se.current){Se.current=!1;var e=(null==b?void 0:b.extraInfo)||{},t=e.phoneRegionId,n=e.phoneRegionCode,r=e.phoneRegionShortName;t&&n&&r&&x((function(e){return ql(ql({},e),{},{phoneCode:n,phoneRegionId:t,phoneShortName:r})}))}}),[b,Oe]),(0,s.useEffect)((function(){if(g&&P){var e=function(e){if((_||v)&&!R&&!ve.current.phoneCode){ve.current.phoneCode=!0;var t=e.find((function(e){var t=e.regionId;return(0,u.dI)(t)===(0,u.dI)(P)}));if(t)return Se.current=!0,Ne((0,u.dI)(P)),be(t),void(0,L.mE)({event:"addressEditSetDefaultPhoneCodeSuccess",data:(0,u.Jm)({regionId1:P,phoneCodesList:e})});(0,L.mE)({event:"addressEditSetDefaultPhoneCodeFail",data:(0,u.Jm)({regionId1:P,phoneCodesList:e})})}},t=function(e){if(!ve.current.additionalPhoneCode){ve.current.additionalPhoneCode=!0;var t=e.find((function(e){var t=e.regionId;return(0,u.dI)(t)===(0,u.dI)(N.additionalPhoneRegionId||P)}));t&&be(t)}},n=function(){var n=(0,a.A)(l().mark((function n(){var r,o,a,i;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(P){n.next=2;break}return n.abrupt("return");case 2:return r=h?Q.getAdditionalPhoneCodes:Q.getPhoneCodes,n.next=5,r({address_top_region_id:P});case 5:o=n.sent,a=o.regionId1,i=o.list,h?t(i):e(i),a===P&&H(i);case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}}),[g,P,h]);var we=ar({selectRef:me}),xe=pr(B),ke=(0,s.useMemo)((function(){return!(null==xe||!xe.length)&&(de&&!F)}),[de,F,xe]);if((0,s.useEffect)((function(){ke&&(0,y.WW)({page_el_sn:239387,addr_scene:I})}),[ke,I]),!g||!b)return null;var Pe=null!=b&&b.order?{order:null==b?void 0:b.order}:{},Te=S||C,De=s.createElement("div",{className:Kl().phoneWrap,style:Pe},s.createElement(Nt.A,{vKey:B,regionConfig:b,className:f()("phone",(t={},(0,o.A)(t,Kl().hasError,re),(0,o.A)(t,Kl().isFocus,le),t)),onValidateChange:oe,onAutoFocus:we},s.createElement(Ot.A,{vKey:B,regionConfig:ql(ql({},b),{},{isRequired:!1})},s.createElement(kt.Ay,{"aria-label":"".concat(h?D||"":T||"")||(null==b?void 0:b.accessibleBroadcast),options:V,placeholder:h?X:Z,value:$,className:"phoneContainer",classNamePrefix:"phone",components:{Option:Ae,IndicatorsContainer:Jl},isSearchable:!0,filterOption:function(e,t){var n,r,o=e.label,a=e.data,i=String(t).trim().toLowerCase();return(0,u.dI)(o).toLowerCase().startsWith(i)||(null==a||null===(n=a.regionShortName)||void 0===n||null===(r=n.toLowerCase)||void 0===r?void 0:r.call(n))===i||(0,u.dI)(null==a?void 0:a.phoneCode).startsWith(i)},onChange:be,menuPlacement:"top",maxMenuHeight:289,isDisabled:!(null!=b&&null!==(n=b.extraInfo)&&void 0!==n&&n.isSupportPhoneCodeSelect),menuPortalTarget:Te?document.body:void 0,closeMenuOnScroll:Te?function(e){var t,n;return e.target instanceof Element&&!(null!==(t=e.target)&&void 0!==t&&null!==(n=t.className)&&void 0!==n&&n.includes("phone__menu-list"))}:void 0,tabIndex:b.tabIndex})),s.createElement(rr.A,{overlay:s.createElement(fr,{vKey:h?q.W1.ADDITIONAL_MOBILE:q.W1.MOBILE,onlyMobile:!0,callback:function(){return pe(!1)}}),placement:"bottomLeft",visible:ke,className:f()(Kl().popover,(0,o.A)({},Kl().rtl,fe)),outerClassName:Kl().popoverWrap},s.createElement(Ot.A,{vKey:B,trigger:["onChange","onBlur"],regionConfig:b,pageElSn:201192},s.createElement(Hl.A,{ariaLabel:F||ge||(null==b?void 0:b.accessibleBroadcast),phoneRegionId:h?N.additionalPhoneRegionId:N.phoneRegionId,value:F,wrapClassName:Kl().inputWrap,className:Kl().input,maxLength:null==b?void 0:b.maxSize,onFocus:he,onChange:Ee,onBlur:_e,formatter:ye,parser:u.sP,pageElSn:201192,tabIndex:b.tabIndex,placeholder:ge,type:"tel",ref:me}))))),Re=s.createElement("div",{className:f()(Kl().phoneWrap,Kl().phoneWrap2),style:Pe},s.createElement(Nt.A,{vKey:B,regionConfig:b,className:f()("phone",(i={},(0,o.A)(i,Kl().hasError,re),(0,o.A)(i,Kl().isFocus,le),i)),isFloatLabel:!0,onValidateChange:oe,onAutoFocus:we},s.createElement(Ot.A,{vKey:B,regionConfig:ql(ql({},b),{},{isRequired:!1})},s.createElement(kt.Ay,{options:V,placeholder:h?X:Z,value:$,className:"phoneContainer",classNamePrefix:"phone",components:{Option:Ae,IndicatorsContainer:Jl},isSearchable:!0,filterOption:function(e,t){var n,r,o=e.label,a=e.data,i=String(t).trim().toLowerCase();return(0,u.dI)(o).toLowerCase().startsWith(i)||(null==a||null===(n=a.regionShortName)||void 0===n||null===(r=n.toLowerCase)||void 0===r?void 0:r.call(n))===i||(0,u.dI)(null==a?void 0:a.phoneCode).startsWith(i)},onChange:be,menuPlacement:"top",maxMenuHeight:289,isDisabled:!(null!=b&&null!==(c=b.extraInfo)&&void 0!==c&&c.isSupportPhoneCodeSelect),menuPortalTarget:Te?document.body:void 0,closeMenuOnScroll:Te?function(e){var t,n;return e.target instanceof Element&&!(null!==(t=e.target)&&void 0!==t&&null!==(n=t.className)&&void 0!==n&&n.includes("phone__menu-list"))}:void 0,tabIndex:b.tabIndex,addressEditPageOptimizationAbtest:ee})),s.createElement(rr.A,{overlay:s.createElement(fr,{vKey:h?q.W1.ADDITIONAL_MOBILE:q.W1.MOBILE,onlyMobile:!0,callback:function(){return pe(!1)}}),placement:"bottomLeft",visible:ke,className:f()(Kl().popover,(0,o.A)({},Kl().rtl,fe)),outerClassName:Kl().popoverWrap},s.createElement(Ot.A,{vKey:B,trigger:["onChange","onBlur"],regionConfig:b,pageElSn:201192},s.createElement(Hl.A,{phoneRegionId:h?N.additionalPhoneRegionId:N.phoneRegionId,value:F,wrapClassName:Kl().inputWrap,className:Kl().input,maxLength:null==b?void 0:b.maxSize,onFocus:he,onChange:Ee,onBlur:_e,formatter:ye,parser:u.sP,pageElSn:201192,tabIndex:b.tabIndex,placeholder:ge,type:"tel"}))))),Le=ee?Re:De,je=(0,u.bV)("#taxCodeV2");return null!==(d=b.extraInfo)&&void 0!==d&&d.isBackPlaceField&&je?(0,$e.createPortal)(Le,je):Le},Ql=(0,s.memo)(Zl),Xl=function(e){var t=e.regionConfig,n=e.isFormV2,r=t||{},o=r.region2,a=r.region3,i=r.region4;return s.createElement(s.Fragment,null,function(){if(!o)return null;var e=s.createElement(Tr,{regionConfig:o}),t=(0,u.Zw)("#region2");return n&&t?(0,$e.createPortal)(e,t):e}(),function(){if(!a)return null;var e=s.createElement(Fr,{regionConfig:a}),t=(0,u.Zw)("#region3");return n&&t?(0,$e.createPortal)(e,t):e}(),function(){if(!i)return null;var e=s.createElement(Hr,{regionConfig:i}),t=(0,u.Zw)("#region4");return n&&t?(0,$e.createPortal)(e,t):e}())},$l=(0,s.memo)(Xl),es=(0,s.createContext)({});function ts(){return s.useContext(es)}var ns=n(16801),rs=n.n(ns),os=["children"],as=["selectProps"],is=["selectProps"],ls=["children","selectProps"];function ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var us=xt.c.MenuList,ds=xt.c.ValueContainer,ps=xt.c.SingleValue,ms=xt.c.Placeholder,fs=function(e){var t=e.children,n=(0,p.A)(e,os);return s.createElement(Ve.Rp,{page_el_sn:200124},s.createElement("div",{className:"controlWrap"},s.createElement(xt.c.Control,n,t)))},gs=function(e){var t=e.selectProps,n=(0,_.B)("bec-fe.web-address").t,r=ts(),o=r.isLoading,a=r.isLoadingMore,i=((0,Y.Cr)().overallExtAttributes||{}).addressMissingReportAbtest,l=t.setIsOpenAddressReportPop,c=t.onMenuInputFocus;return o||a?null:i?s.createElement("div",{className:rs().notFoundWrap},s.createElement(Ut.r,{title:n("noSearchResultsFound"),desc:n("cannotFindYourLocationDesc"),iconClassName:rs().icon,descClassName:rs().desc}),s.createElement(kn,{activeStep:Gt.City,onMenuInputFocus:c,setIsOpenAddressReportPop:l})):s.createElement("div",{className:rs().baseNotFoundWrap},n("address.noSearchOptions"))},vs=function(e){var t=e.selectProps,n=(0,p.A)(e,as),r=(0,_.B)("bec-fe.web-address").t,o=ts(),a=o.isApiError,i=o.isLoading,l=o.isLoadingMore,c=o.getRegionListByRegion1,u=(0,s.useRef)(null),d=t.onInputChange,m=t.inputValue,g=t.onMenuInputFocus,v=t.setIsOpenAddressReportPop,b=t.showReportEntry,h=function(e){e.stopPropagation(),e.target.focus()};return s.createElement(s.Fragment,null,s.createElement("div",{className:rs().inputWrap},s.createElement("input",{ref:u,placeholder:r("search"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text",className:rs().input,value:m,onChange:function(e){d(e.currentTarget.value)},onMouseDown:h,onTouchEnd:h,onFocus:g,onKeyDown:function(e){"Space"===e.code&&e.stopPropagation()}}),m?s.createElement(Rt.sL,{className:rs().clean,onClick:function(){return d("")}}):null,s.createElement("div",{className:rs().searchButton},s.createElement(Rt.Qn,{className:rs().icon}))),i?s.createElement(N.A,{className:rs().loadingWrap}):a?s.createElement(I.E,{onClick:c,wrapClass:rs().errorView,iconClass:rs().errorIcon}):s.createElement(s.Fragment,null,s.createElement(us,(0,Xe.A)({},n,{selectProps:t}),n.children,l&&s.createElement(N.A,{className:f()(rs().loadingWrap,rs().loadingMore)})),!!b&&s.createElement(xn,{activeStep:Gt.City,onMenuInputFocus:g,setIsOpenAddressReportPop:v})))},bs=function(e){var t=e.selectProps,n=(0,p.A)(e,is),r=n.innerProps,i=n.data,c=t||{},d=c.paginationQueryType,m=c.paginationQueryScene,g=c.onInputChange,v=i||{},b=v.regionName,h=v.regionId,E=v.postcode,_=(0,Y.Cr)(),y=_.setFormData,A=_.manualCheckValid,S=_.overallExtAttributes,C=_.zipCodeRef,I=_.regionConfig,O=ts(),N=O.selectedOption,w=O.setSelectedOption,x=(S||{}).selectedRegionPostcodeAutofillAbtest,k=(I||{}).post_code,P=(0,s.useMemo)((function(){return!m&&(1===d?E===(null==N?void 0:N.postCode)&&(0,u.dI)(h)===(0,u.dI)(null==N?void 0:N.regionId):(0,u.dI)(h)===(0,u.dI)(null==N?void 0:N.regionId))}),[d,m,E,h,N]),T=function(){var e=(0,a.A)(l().mark((function e(t){var n,o,a,s,c,u,p,m,f,v,b;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),t.preventDefault(),g(""),w(i),r.onClick(),0!==d){e.next=11;break}if(1!==x){e.next=10;break}return e.next=9,null===(c=C.current)||void 0===c||null===(u=c.checkZipCodeList)||void 0===u?void 0:u.call(c,{regionId:h,isPostCodeAfterState:!1});case 9:a=e.sent;case 10:s=a||i.postcodeList;case 11:1===(null===(n=s)||void 0===n?void 0:n.length)&&(o=s[0]),E&&(o=E),o&&(f=(null==k||null===(p=k.extraInfo)||void 0===p||null===(m=p.postCodeDisplayRule)||void 0===m?void 0:m.prefix)||"",v={postCode:o.substring(f.length)},y((function(e){return cs(cs({},e),{},{addressInfo:cs(cs({},e.addressInfo),v)})})),b=[q.W1.ZIP_CODE],A(b,v));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.createElement(Ve.Rp,{page_el_sn:200137},s.createElement("div",(0,Xe.A)({},r,{onClick:T,"data-index":i.index,role:"button",tabIndex:0}),s.createElement("div",{className:f()(rs().item,(0,o.A)({},rs().activeItem,P)),id:P?"activeItem":""},s.createElement("div",null,s.createElement("span",{className:rs().regionName},b),1===d&&s.createElement("span",{className:rs().postCode},E)),P&&s.createElement(Rt.Cl,{className:rs().selectedIcon}))))},hs=function(e){var t=e.children,n=e.selectProps,r=(0,p.A)(e,ls),o={cx:r.cx,clearValue:r.clearValue,getStyles:r.getStyles,getValue:r.getValue,hasValue:r.hasValue,isMulti:r.isMulti,isRtl:r.isRtl,options:r.options,selectOption:r.selectOption,setValue:r.setValue,selectProps:n,theme:r.theme};return s.createElement(ds,(0,Xe.A)({},r,{selectProps:n}),s.Children.map(t,(function(e){return e||(r.hasValue?s.createElement(ps,(0,Xe.A)({},o,{isFocused:n.isFocused,isDisabled:n.isDisabled}),n.getOptionLabel(r.getValue()[0])):s.createElement(ms,(0,Xe.A)({},o,{key:"placeholder",isDisabled:n.isDisabled,data:r.getValue()}),n.placeholder))})))},Es=function(e){var t;return s.createElement(Wt.A,{isOpen:null==e||null===(t=e.selectProps)||void 0===t?void 0:t.menuIsOpen})},_s=function(){return s.createElement(N.A,{className:f()(rs().loadingWrap,rs().loadingMessage)})},ys=function(e,t){var n=(0,Y.CM)().isCardAddress,i=(0,Y.Cr)(),c=i.setFormData,d=i.addressInfo,p=i.isInEditPop,m=i.manualCheckValid,g=i.regionConfig,v=i.regionId1,b=(0,s.useState)(""),h=(0,r.A)(b,2),E=h[0],_=h[1],y=(0,s.useState)(!1),A=(0,r.A)(y,2),S=A[0],C=A[1],I=(0,s.useState)([]),O=(0,r.A)(I,2),N=O[0],w=O[1],x=(0,s.useRef)([]),k=(0,s.useRef)(!1),P=(0,s.useState)(null),T=(0,r.A)(P,2),D=T[0],R=T[1],j=(0,s.useRef)(0),M=(0,s.useRef)(0),B=(0,s.useRef)(!1),F=(0,s.useState)(!1),W=(0,r.A)(F,2),U=W[0],V=W[1],H=(0,s.useState)(!1),G=(0,r.A)(H,2),K=G[0],z=G[1],J=(0,s.useState)(!0),Z=(0,r.A)(J,2),X=Z[0],$=Z[1],ee=(0,s.useState)(!1),te=(0,r.A)(ee,2),ne=te[0],re=te[1],oe=(g||{}).region3,ae=d.regionId3,ie=d.regionName3,le=d.postCode,se=(null==oe?void 0:oe.extraInfo)||{},ce=se.paginationQueryType,ue=void 0===ce?0:ce,de=se.paginationQueryScene,pe=(0,s.useState)(!0),me=(0,r.A)(pe,2),fe=me[0],ge=me[1],ve=(0,s.useState)(!1),be=(0,r.A)(ve,2),he=be[0],Ee=be[1],_e=(0,s.useState)(!1),ye=(0,r.A)(_e,2),Ae=ye[0],Se=ye[1],Ce=(0,s.useCallback)((function(e){var t=document.querySelector(".address_state_select__menu");document.contains(e.target)&&t&&t.contains(e.target)||(C(!1),_(""))}),[]);(0,s.useEffect)((function(){return document.addEventListener("mousedown",Ce),function(){document.removeEventListener("mousedown",Ce)}}),[Ce]),(0,s.useEffect)((function(){ae&&R(cs({regionId:(0,u.dI)(ae),regionName:(0,u.dI)(ie)},1===ue?{postCode:(0,u.dI)(le)}:{}))}),[ae,ue]);var Ie=(0,s.useCallback)(function(){var e=(0,a.A)(l().mark((function e(t){var r,o,a,i,s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t||!B.current){e.next=3;break}return e.abrupt("return");case 3:return t&&(z(!0),B.current=!0),re(!1),o=(null==oe||null===(r=oe.extraInfo)||void 0===r?void 0:r.pageSize)||200,a=t?j.current:0,i={region_id1:v,scene:n?"billing_address":"shipping_address",from:a,size:o,pagination_query_scene:de},e.next=10,Q.getRegionListByRegion1(i,ue);case 10:s=e.sent,c=s.list,u=void 0===c?[]:c,j.current+=u.length,t?w((function(e){return[].concat((0,wt.A)(e),(0,wt.A)(u))})):(w(u),x.current=u,ge(!(null==u||!u.length)),M.current=u.length),u.length||($(!1),N.length||re(!0)),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),re(!0);case 21:return e.prev=21,z(!1),V(!1),B.current=!1,e.finish(21);case 26:case"end":return e.stop()}}),e,null,[[0,18,21,26]])})));return function(t){return e.apply(this,arguments)}}(),[n,v,N]),Oe=(0,s.useCallback)(Dt()(function(){var e=(0,a.A)(l().mark((function e(t){var n,r,o,a,i,s,c,u,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.val,r=t.loadMore,e.prev=1,!k.current){e.next=4;break}return e.abrupt("return");case 4:if(!r||!B.current){e.next=6;break}return e.abrupt("return");case 6:return r&&(z(!0),B.current=!0),re(!1),a=(null==oe||null===(o=oe.extraInfo)||void 0===o?void 0:o.pageSizeSuggest)||200,i=r?j.current:0,s={region_id1:v,region_name3:n,from:i,size:a,pagination_query_scene:de},e.next=13,Q.getRegionSuggestListByRegion1(s,ue);case 13:if(c=e.sent,u=c.list,d=void 0===u?[]:u,j.current+=d.length,!k.current){e.next=19;break}return e.abrupt("return");case 19:r?w((function(e){return[].concat((0,wt.A)(e),(0,wt.A)(d))})):(w(d),ge(!(null==d||!d.length)),M.current=d.length),d.length||$(!1),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(1),re(!0);case 26:return e.prev=26,z(!1),V(!1),B.current=!1,e.finish(26);case 31:case"end":return e.stop()}}),e,null,[[1,23,26,31]])})));return function(t){return e.apply(this,arguments)}}(),300),[v,N]);(0,s.useEffect)((function(){Ie()}),[]);var Ne=(0,s.useCallback)((function(e){(0,L.mE)({event:"isolateRegion3Change",data:(0,u.Jm)((0,o.A)({},q.W1.CITY,e))});var t={regionId2:(0,u.dI)(null==e?void 0:e.parentRegionId),regionId3:(0,u.dI)(null==e?void 0:e.regionId),regionName3:(0,u.dI)(null==e?void 0:e.regionName)};c((function(e){return cs(cs({},e),{},{addressInfo:cs(cs({},e.addressInfo),t)})}));var n=[q.W1.CITY];m(n,t)}),[]),we=null!=oe&&oe.order?{order:null==oe?void 0:oe.order}:{},xe=ie||(null==oe?void 0:oe.placeholder)||"",ke=(0,s.useMemo)((function(){return{isApiError:ne,isLoading:U,isLoadingMore:K,selectedOption:D,setIsApiError:re,setSelectedOption:R,getRegionListByRegion1:Ie}}),[ne,U,K,D,Ie]);return(0,s.useImperativeHandle)(t,(function(){return{open:function(){return C(!0)}}})),s.createElement("div",{className:f()(rs().stateCity,!ae&&rs().empty,p&&rs().editPop),style:we},s.createElement(Nt.A,{vKey:q.W1.CITY,className:"state",labelClassName:rs().label,regionConfig:oe,isFloatLabel:!0,onValidateChange:Se},s.createElement(Ot.A,{vKey:q.W1.CITY,regionConfig:oe},s.createElement("div",{className:rs().asyncSelectWrap},s.createElement(es.Provider,{value:ke},s.createElement(kt.Ay,{"aria-label":xe||(null==oe?void 0:oe.accessibleBroadcast),className:f()("stateContainer",(0,o.A)({},rs().hasError,Ae)),classNamePrefix:"address_state_select",placeholder:xe,options:N,filterOption:function(){return!0},isLoading:U,value:null==D?void 0:D.regionId,controlShouldRenderValue:!(null==D||!D.regionId),components:{Control:fs,MenuList:vs,ValueContainer:hs,Option:bs,IndicatorsContainer:Es,LoadingMessage:_s,NoOptionsMessage:gs},inputValue:E,isSearchable:!1,onMenuInputFocus:function(){return C(!0)},onChange:function(e){Ne(e),C(!1)},onInputChange:function(e){j.current=M.current,$(!0),_(e),k.current=!e,e?(V(!0),Oe({val:e})):w(x.current)},menuIsOpen:!!he||(S||void 0),isFocused:S||void 0,menuPortalTarget:p?document.body:void 0,maxMenuHeight:p?350:418,closeMenuOnScroll:p?function(e){var t,n;return e.target instanceof Element&&!(null!==(t=e.target)&&void 0!==t&&null!==(n=t.className)&&void 0!==n&&n.includes("address_state_select__menu-list"))}:void 0,menuPlacement:"auto",showReportEntry:fe,setIsOpenAddressReportPop:Ee,tabIndex:null==oe?void 0:oe.tabIndex,onMenuScrollToBottom:function(){X&&!B.current&&(E?Oe({val:E,loadMore:!0}):Ie(!0))},paginationQueryType:ue,paginationQueryScene:de}))))))},As=(0,s.memo)((0,s.forwardRef)(ys)),Ss=function(e){return e[e.District=0]="District",e[e.City=1]="City",e[e.State=2]="State",e}({});function Cs(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))switch(e){case Ss.District:return Ss.City;case Ss.City:return Ss.State;case Ss.State:default:return}}var Is=(0,s.createContext)({});function Os(){return s.useContext(Is)}var Ns=n(64095),ws=n.n(Ns),xs=["children"],ks=["selectProps"],Ps=["children","selectProps"],Ts=["selectProps"];function Ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ds(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ds(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ls=xt.c.MenuList,js=xt.c.ValueContainer,Ms=xt.c.SingleValue,Bs=xt.c.Placeholder,Fs=function(e){var t=e.children,n=(0,p.A)(e,xs);return s.createElement(Ve.Rp,{page_el_sn:200124},s.createElement("div",{className:"controlWrap"},s.createElement(xt.c.Control,n,t)))},Ws=function(e){var t=e.selectProps,n=(0,_.B)("bec-fe.web-address").t,r=Os(),o=r.activeStep,a=r.selectedOption,i=r.loading,l=r.loadingMore,c=((0,Y.Cr)().overallExtAttributes||{}).addressMissingReportAbtest,u=t.setIsOpenAddressReportPop,d=t.onMenuInputFocus;return i||l?null:c?s.createElement("div",{className:ws().notFoundWrap},s.createElement(Ut.r,{title:n("noSearchResultsFound"),desc:n("cannotFindYourLocationDesc"),iconClassName:ws().icon,descClassName:ws().desc}),s.createElement(kn,{activeStep:o,selectedOption:a,onMenuInputFocus:d,setIsOpenAddressReportPop:u})):s.createElement("div",{className:ws().baseNotFoundWrap},n("address.noSearchOptions"))},Us=function(e){var t=e.selectProps,n=(0,p.A)(e,ks),r=(0,_.B)("bec-fe.web-address").t,o=(0,Y.Cr)().regionConfig||{},a=o.region2,i=o.region3,l=o.region4,c=Os(),u=c.step,d=c.activeStep,m=c.setActiveStep,g=c.selectedOption,v=c.loading,b=c.loadingMore,h=c.isApiError,E=c.handleBreadcrumbClick,y=(0,s.useRef)(null),A=t.onInputChange,S=t.inputValue,C=t.onMenuInputFocus,O=t.initActiveStep,w=t.showReportEntry,x=t.setIsOpenAddressReportPop,k=t.getRegionReverseList;(0,s.useEffect)((function(){var e;O===Ss.District?e=O:O===Ss.City?e=g[Ss.District]?O:Ss.District:O===Ss.State&&(e=g[Ss.City]?O:g[Ss.District]?Ss.City:Ss.District),m(e)}),[O]);var P=(0,s.useMemo)((function(){switch(u){case Ss.State:return null==a?void 0:a.fieldTitle;case Ss.City:return null==i?void 0:i.fieldTitle;case Ss.District:return null==l?void 0:l.fieldTitle;default:return r("select")}}),[u]),T=(0,s.useMemo)((function(){var e,t,n;switch(d){case Ss.State:return(null==a||null===(e=a.extraInfo)||void 0===e?void 0:e.innerPlaceHolder)||r("search");case Ss.City:return(null==i||null===(t=i.extraInfo)||void 0===t?void 0:t.innerPlaceHolder)||r("search");case Ss.District:return(null==l||null===(n=l.extraInfo)||void 0===n?void 0:n.innerPlaceHolder)||r("search");default:return r("search")}}),[d]),D=(0,s.useMemo)((function(){var e,t,n;return[{key:Ss.District,title:(null===(e=g[Ss.District])||void 0===e?void 0:e.regionName)||P,onClick:function(){return E(Ss.District)}},{key:Ss.City,title:(null===(t=g[Ss.City])||void 0===t?void 0:t.regionName)||P,onClick:function(){return E(Ss.City)}},{key:Ss.State,title:(null===(n=g[Ss.State])||void 0===n?void 0:n.regionName)||P,onClick:function(){return E(Ss.State)}}].filter((function(e){return u>=e.key}))}),[u,g,P,E]),R=function(e){e.stopPropagation(),e.target.focus()};return s.createElement(s.Fragment,null,s.createElement(Ft,{className:ws().headerWrap,list:D,activeKey:d,onClickCallback:function(){var e;return null===(e=y.current)||void 0===e?void 0:e.focus()}}),s.createElement("div",{className:ws().inputWrap},s.createElement("input",{ref:y,placeholder:T,autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text",className:ws().input,value:S,onChange:function(e){A(e.currentTarget.value)},onMouseDown:R,onTouchEnd:R,onFocus:C,onKeyDown:function(e){"Space"===e.code&&e.stopPropagation()}}),S?s.createElement(Rt.sL,{className:ws().clean,onClick:function(){return A("")}}):null,s.createElement("div",{className:ws().searchButton},s.createElement(Rt.Qn,{className:ws().icon}))),v?s.createElement(N.A,{className:ws().loadingWrap}):h?s.createElement(I.E,{onClick:function(){k({currentStep:d}),(0,L.mE)({event:"refreshRegionReverseList",data:"".concat(d)})},wrapClass:ws().errorView,iconClass:ws().errorIcon}):s.createElement(s.Fragment,null,s.createElement(Ls,(0,Xe.A)({},n,{selectProps:t}),n.children,b&&s.createElement(N.A,{className:f()(ws().loadingWrap,ws().loadingMore)})),!!w&&s.createElement(xn,{activeStep:d,selectedOption:g,onMenuInputFocus:C,setIsOpenAddressReportPop:x})))},Vs=function(e){var t=e.children,n=e.selectProps,r=(0,p.A)(e,Ps),o={cx:r.cx,clearValue:r.clearValue,getStyles:r.getStyles,getValue:r.getValue,hasValue:r.hasValue,isMulti:r.isMulti,isRtl:r.isRtl,options:r.options,selectOption:r.selectOption,setValue:r.setValue,selectProps:n,theme:r.theme};return s.createElement(js,(0,Xe.A)({},r,{selectProps:n}),s.Children.map(t,(function(e){return e||(r.hasValue?s.createElement(Ms,(0,Xe.A)({},o,{isFocused:n.isFocused,isDisabled:n.isDisabled}),n.getOptionLabel(r.getValue()[0])):s.createElement(Bs,(0,Xe.A)({},o,{key:"placeholder",isDisabled:n.isDisabled,data:r.getValue()}),n.placeholder))})))},Hs=function(e){var t=e.selectProps,n=(0,p.A)(e,Ts),r=n.innerProps,i=n.data,c=i||{},u=c.regionName,d=c.regionId,m=Os(),g=m.activeStep,v=m.selectedOption,b=m.setSelectedOption,h=m.setStep,E=m.setActiveStep,_=m.selectedRegionNameRef,y=(0,Y.Cr)(),A=y.setFormData,S=y.manualCheckValid,C=y.regionConfig,I=y.zipCodeRef,O=y.overallExtAttributes,N=C||{},w=N.region2,x=N.post_code,k=(O||{}).selectedRegionPostcodeAutofillAbtest,P=((null==x?void 0:x.order)||0)>((null==w?void 0:w.order)||0),T=!1,D=g===Ss.State,R=function(e){var t={};for(var n in v)Number(n)>e&&(t[n]=null);return t},L=function(){var e=(0,a.A)(l().mark((function e(n){var a,s,c,u,p,m,f,v,y,C,O;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),n.preventDefault(),(a=Cs(g,D))?E(a):h(g),t.onInputChange(""),s=R(g),b((function(e){return Rs(Rs(Rs({},e),s),{},(0,o.A)({},g,i))})),_.current=Rs(Rs({},_.current),{},(0,o.A)({},g,i.regionName)),!D){e.next=30;break}if(r.onClick(),1!==k){e.next=14;break}return e.next=13,null===(u=I.current)||void 0===u||null===(p=u.checkZipCodeList)||void 0===p?void 0:p.call(u,{regionId:d,isPostCodeAfterState:P,extraParams:{scene:t.paginationQueryScene,region_name2:_.current[Ss.State],region_name3:_.current[Ss.City],region_name4:_.current[Ss.District]}});case 13:c=e.sent;case 14:if(1!==(null==(m=c||i.postcodeList)?void 0:m.length)){e.next=25;break}if(m[0]){e.next=18;break}return e.abrupt("return");case 18:y=(null==x||null===(f=x.extraInfo)||void 0===f||null===(v=f.postCodeDisplayRule)||void 0===v?void 0:v.prefix)||"",C={postCode:m[0].substring(y.length)},A((function(e){return Rs(Rs({},e),{},{addressInfo:Rs(Rs({},e.addressInfo),C)})})),O=[q.W1.ZIP_CODE],S(O,C),e.next=28;break;case 25:if(P&&1!==k){e.next=27;break}return e.abrupt("return");case 27:A((function(e){return Rs(Rs({},e),{},{addressInfo:Rs(Rs({},e.addressInfo),{},{postCode:""})})}));case 28:e.next=31;break;case 30:t.onMenuInputFocus();case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.createElement(Ve.Rp,{page_el_sn:200137},s.createElement("div",(0,Xe.A)({},r,{onClick:L,"data-index":i.index,role:"button",tabIndex:0}),s.createElement("div",{className:f()(ws().item,(0,o.A)({},ws().activeItem,T)),id:""},s.createElement("span",{className:ws().regionName},u),D&&T,!D&&s.createElement(Rt.hu,{className:ws().arrowIcon}))))},Gs=function(e){var t;return s.createElement(Wt.A,{isOpen:null==e||null===(t=e.selectProps)||void 0===t?void 0:t.menuIsOpen})},Ks=function(){return s.createElement(N.A,{className:f()(ws().loadingWrap,ws().loadingMessage)})},zs=function(e){var t=e.onBlur,n=e.onFocus,i=e.selectedItem,c=e.activeStep,d=e.placeholder,p=e.regionConfig,m=e.tabIndex,g=e.hasError,v=(0,Y.CM)().isCardAddress,b=(0,Y.Cr)(),h=b.isInEditPop,E=b.addressInfo,_=Os(),y=_.inputValue,A=_.setInputValue,S=_.options,C=_.setOptions,I=_.selectedOption,O=_.setSelectedOption,N=_.activeStep,w=_.resetCascader,x=_.cachedOptionsRef,k=_.setStep,P=_.selectedRegionNameRef,T=_.loading,D=_.setLoading,R=_.setLoadingMore,L=_.setIsApiError,j=(0,s.useState)(!1),M=(0,r.A)(j,2),B=M[0],F=M[1],W=E.regionId1,U=E.regionId2,V=E.regionId3,H=E.regionId4,G=E.regionName2,K=E.regionName3,z=E.regionName4,q=(0,s.useState)(!0),J=(0,r.A)(q,2),Z=J[0],X=J[1],$=(0,s.useState)(!1),ee=(0,r.A)($,2),te=ee[0],ne=ee[1],re=(0,s.useRef)(!1),oe=(0,s.useRef)(0),ae=(0,s.useRef)(!1),ie=(0,s.useState)(!0),le=(0,r.A)(ie,2),se=le[0],ce=le[1],ue=(null==p?void 0:p.extraInfo)||{},de=ue.pageSize,pe=void 0===de?200:de,me=ue.pageSizeSuggest,fe=void 0===me?200:me,ge=ue.paginationQueryScene,ve=(0,s.useCallback)((function(e){var t=document.querySelector(".address_state_select__menu"),n=document.querySelector(".addressReportPop");null!=n&&n.contains(e.target)||document.contains(e.target)&&t&&t.contains(e.target)||(F(!1),A(""))}),[]);(0,s.useEffect)((function(){return document.addEventListener("mousedown",ve),function(){document.removeEventListener("mousedown",ve)}}),[ve]),(0,Vt.A)((function(){w()}),[W]),(0,Vt.A)((function(){!B&&t(),B&&(null==n||n())}),[B]),(0,Vt.A)((function(){!y&&X(!0)}),[y]);var be=(0,s.useCallback)(function(){var e=(0,a.A)(l().mark((function e(t){var n,r,a,i,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.currentStep,r=t.loadMore,e.prev=1,W&&!re.current){e.next=4;break}return e.abrupt("return");case 4:return re.current=!0,r?(R(!0),ae.current=!0):D(!0),L(!1),a=r?oe.current:0,i=Rs(Rs(Rs({region_id1:+W,from:a*pe,size:pe,scene:v?"billing_address":"shipping_address",region_level:n===Ss.State?2:n===Ss.City?3:4},n===Ss.City?{region_name4:z}:{}),n===Ss.State?{region_name3:K,region_name4:z}:{}),{},{pagination_query_scene:ge}),e.next=11,Q.getRegionReverseList(i);case 11:if(s=e.sent,c=s.list){e.next=16;break}return L(!0),e.abrupt("return");case 16:r?C((function(e){return Rs(Rs({},e),{},(0,o.A)({},n,[].concat((0,wt.A)(e[n]),(0,wt.A)(c))))})):(C((function(e){return Rs(Rs({},e),{},(0,o.A)({},n,c))})),x.current=Rs(Rs({},x.current),{},(0,o.A)({},n,c)),X(!(null==c||!c.length))),(!c.length||c.length<pe)&&ce(!1),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),L(!0);case 23:return e.prev=23,R(!1),D(!1),ae.current=!1,re.current=!1,e.finish(23);case 29:case"end":return e.stop()}}),e,null,[[1,20,23,29]])})));return function(t){return e.apply(this,arguments)}}(),[W,S,z,K]),he=(0,s.useCallback)(Dt()(function(){var e=(0,a.A)(l().mark((function e(t){var n,r,a,i,s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.val,r=t.loadMore,e.prev=1,W){e.next=4;break}return e.abrupt("return");case 4:return r?(R(!0),ae.current=!0):D(!0),L(!1),a=r?oe.current:0,i=Rs(Rs(Rs(Rs({region_id1:W,from:a*fe,size:fe,scene:v?"billing_address":"shipping_address",region_level:N===Ss.State?2:N===Ss.City?3:4},N===Ss.District?{region_name4:n}:{}),N===Ss.City?{region_name3:n,region_name4:P.current[Ss.District]}:{}),N===Ss.State?{region_name2:n,region_name3:P.current[Ss.City],region_name4:P.current[Ss.District]}:{}),{},{pagination_query_scene:ge}),e.next=10,Q.getRegionReverseSuggest(i);case 10:s=e.sent,c=s.list,u=void 0===c?[]:c,r?C((function(e){return Rs(Rs({},e),{},(0,o.A)({},N,[].concat((0,wt.A)(e[N]),(0,wt.A)(u))))})):(C((function(e){return Rs(Rs({},e),{},(0,o.A)({},N,u))})),X(!(null==u||!u.length))),(!u.length||u.length<fe)&&ce(!1),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),L(!0);case 20:return e.prev=20,R(!1),D(!1),ae.current=!1,e.finish(20);case 25:case"end":return e.stop()}}),e,null,[[1,17,20,25]])})));return function(t){return e.apply(this,arguments)}}(),300),[W,S,N]);(0,s.useEffect)((function(){c===Ss.District&&be({currentStep:Ss.District})}),[c,W]),(0,s.useEffect)((function(){I[Ss.District]?I[Ss.City]?(I[Ss.State],k(Ss.State)):k(Ss.City):k(Ss.District)}),[I]),(0,s.useEffect)((function(){G?(O((function(e){return Rs(Rs({},e),{},(0,o.A)({},Ss.State,{regionId:(0,u.dI)(U),regionName:(0,u.dI)(G)}))})),P.current=Rs(Rs({},P.current),{},(0,o.A)({},Ss.State,(0,u.dI)(G)))):O((function(e){return Rs(Rs({},e),{},(0,o.A)({},Ss.State,null))}))}),[G]),(0,s.useEffect)((function(){K?(O((function(e){return Rs(Rs({},e),{},(0,o.A)({},Ss.City,{regionId:(0,u.dI)(V),regionName:(0,u.dI)(K)}))})),P.current=Rs(Rs({},P.current),{},(0,o.A)({},Ss.City,(0,u.dI)(K))),c===Ss.State&&be({currentStep:Ss.State})):O((function(e){return Rs(Rs({},e),{},(0,o.A)({},Ss.City,null))}))}),[K]),(0,s.useEffect)((function(){z?(O((function(e){return Rs(Rs({},e),{},(0,o.A)({},Ss.District,{regionId:(0,u.dI)(H),regionName:(0,u.dI)(z)}))})),P.current=Rs(Rs({},P.current),{},(0,o.A)({},Ss.District,(0,u.dI)(z))),c===Ss.City&&be({currentStep:Ss.City})):O((function(e){return Rs(Rs({},e),{},(0,o.A)({},Ss.District,null))}))}),[z]);var Ee=(0,Ht.A)(p),_e=Ee.menuPortalTarget,ye=Ee.menuPortalStyle,Ae=(0,s.useMemo)((function(){return{menuPortal:function(e){var t;return Rs(Rs(Rs({},e),ye),{},{left:(null!==(t=e.left)&&void 0!==t?t:0)+window.scrollX})}}}),[ye]);return s.createElement("div",{className:ws().asyncSelectWrap},s.createElement(kt.Ay,{className:f()("stateContainer",(0,o.A)({},ws().hasError,g)),classNamePrefix:"address_state_select",placeholder:d,options:S[N],filterOption:function(){return!0},isLoading:T,value:null==i?void 0:i.regionName,controlShouldRenderValue:!(null==i||!i.regionName),components:{Control:Fs,MenuList:Us,ValueContainer:Vs,Option:Hs,IndicatorsContainer:Gs,LoadingMessage:Ks,NoOptionsMessage:Ws},inputValue:y,isSearchable:!1,initActiveStep:c,onMenuInputFocus:function(){return F(!0)},onChange:function(){return F(!1)},onInputChange:function(e){oe.current=0,ce(!0),A(e),e?he({val:e}):C(x.current)},getRegionReverseList:be,menuIsOpen:!!te||(B||void 0),isFocused:B||void 0,menuPortalTarget:_e,maxMenuHeight:h?350:418,closeMenuOnScroll:h?function(e){var t,n;return e.target instanceof Element&&!(null!==(t=e.target)&&void 0!==t&&null!==(n=t.className)&&void 0!==n&&n.includes("address_state_select__menu-list"))}:void 0,menuPlacement:"auto",showReportEntry:Z,setIsOpenAddressReportPop:ne,paginationQueryScene:ge,tabIndex:m,styles:Ae,onMenuScrollToBottom:function(){se&&!ae.current&&(oe.current+=1,y?he({val:y,loadMore:!0}):be({currentStep:N,loadMore:!0}))}}))},qs=n(88761),Ys=n.n(qs);function Js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Js(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qs=function(){var e=(0,Y.Cr)(),t=e.setFormData,n=e.setFormDataOrigin,a=e.addressInfo,i=e.isInEditPop,l=e.manualCheckValid,c=e.regionConfig,d=(0,Y.s4)().validateValueRequired,p=Os().selectedOption,m=(c||{}).region2,g=a.regionId2,v=a.regionFullName2,b=a.regionName2,h=(0,s.useState)(!1),E=(0,r.A)(h,2),_=E[0],y=E[1],A=(0,s.useCallback)((function(){g||d({val:g,name:q.W1.STATE,needShowValidate:!0,needRequired:!0})}),[g]),S=(0,s.useRef)(!0),C=(0,s.useCallback)((function(e){(0,L.mE)({event:"stateCityV3ReverseRegion2Change",data:(0,u.Jm)((0,o.A)({},q.W1.STATE,e))});var r={regionId2:(0,u.dI)(null==e?void 0:e.regionId),regionName2:(0,u.dI)(null==e?void 0:e.regionName),regionFullName2:(0,u.dI)(null==e?void 0:e.regionName)};(S.current?n:t)((function(e){return Zs(Zs({},e),{},{addressInfo:Zs(Zs({},e.addressInfo),r)})})),S.current=!1;var a=[q.W1.STATE];l(a,r)}),[]);(0,Vt.A)((function(){C(p[Ss.State])}),[p[Ss.State]]);var I=null!=m&&m.order?{order:null==m?void 0:m.order}:{},O=v||b||(null==m?void 0:m.placeholder)||"";return s.createElement("div",{className:f()(Ys().stateCity,!g&&Ys().empty,i&&Ys().editPop),style:I},s.createElement(Nt.A,{vKey:q.W1.STATE,className:"state",labelClassName:Ys().label,regionConfig:m,isFloatLabel:!0,onValidateChange:y},s.createElement(Ot.A,{vKey:q.W1.STATE,regionConfig:m},s.createElement(zs,{activeStep:Ss.State,selectedItem:p[Ss.State],placeholder:O,tabIndex:null==m?void 0:m.tabIndex,onBlur:A,regionConfig:m,hasError:_}))))},Xs=(0,s.memo)(Qs);function $s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tc=function(){var e=(0,Y.Cr)(),t=e.setFormData,n=e.setFormDataOrigin,a=e.addressInfo,i=e.isInEditPop,l=e.manualCheckValid,c=e.regionConfig,d=(0,Y.s4)().validateValueRequired,p=Os().selectedOption,m=(c||{}).region3,g=a.regionId3,v=a.regionName3,b=(0,s.useState)(!1),h=(0,r.A)(b,2),E=h[0],_=h[1],y=(0,s.useCallback)((function(){g||d({val:g,name:q.W1.CITY,needShowValidate:!0,needRequired:!0})}),[g]),A=(0,s.useRef)(!0),S=(0,s.useCallback)((function(e){(0,L.mE)({event:"stateCityV3ReverseRegion3Change",data:(0,u.Jm)((0,o.A)({},q.W1.CITY,e))});var r={regionId3:(0,u.dI)(null==e?void 0:e.regionId),regionName3:(0,u.dI)(null==e?void 0:e.regionName)};(A.current?n:t)((function(e){return ec(ec({},e),{},{addressInfo:ec(ec({},e.addressInfo),r)})})),A.current=!1;var a=[q.W1.CITY];l(a,r)}),[]);(0,Vt.A)((function(){S(p[Ss.City])}),[p[Ss.City]]);var C=null!=m&&m.order?{order:null==m?void 0:m.order}:{},I=v||(null==m?void 0:m.placeholder)||"";return s.createElement("div",{className:f()(Ys().stateCity,!g&&Ys().empty,i&&Ys().editPop),style:C},s.createElement(Nt.A,{vKey:q.W1.CITY,className:"state",labelClassName:Ys().label,regionConfig:m,isFloatLabel:!0,onValidateChange:_},s.createElement(Ot.A,{vKey:q.W1.CITY,regionConfig:m},s.createElement(zs,{activeStep:Ss.City,selectedItem:p[Ss.City],placeholder:I,tabIndex:null==m?void 0:m.tabIndex,onBlur:y,regionConfig:m,hasError:E}))))},nc=(0,s.memo)(tc);function rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ac=function(){var e=(0,Y.Cr)(),t=e.setFormData,n=e.setFormDataOrigin,a=e.addressInfo,i=e.isInEditPop,l=e.manualCheckValid,c=e.regionConfig,d=(0,Y.s4)().validateValueRequired,p=Os().selectedOption,m=(c||{}).region4,g=a.regionId4,v=a.regionName4,b=(0,s.useState)(!1),h=(0,r.A)(b,2),E=h[0],_=h[1],y=(0,s.useCallback)((function(){g||d({val:g,name:q.W1.DISTRICT,needShowValidate:!0,needRequired:!0})}),[g]),A=(0,s.useRef)(!0),S=(0,s.useCallback)((function(e){(0,L.mE)({event:"stateCityV3ReverseRegion4Change",data:(0,u.Jm)((0,o.A)({},q.W1.DISTRICT,e))});var r={regionId4:(0,u.dI)(null==e?void 0:e.regionId),regionName4:(0,u.dI)(null==e?void 0:e.regionName)};(A.current?n:t)((function(e){return oc(oc({},e),{},{addressInfo:oc(oc({},e.addressInfo),r)})})),A.current=!1;var a=[q.W1.DISTRICT];l(a,r)}),[]);(0,Vt.A)((function(){S(p[Ss.District])}),[p[Ss.District]]);var C=null!=m&&m.order?{order:null==m?void 0:m.order}:{},I=v||(null==m?void 0:m.placeholder)||"";return s.createElement("div",{className:f()(Ys().stateCity,!g&&Ys().empty,i&&Ys().editPop),style:C},s.createElement(Nt.A,{vKey:q.W1.DISTRICT,className:"state",labelClassName:Ys().label,regionConfig:m,isFloatLabel:!0,onValidateChange:_},s.createElement(Ot.A,{vKey:q.W1.DISTRICT,regionConfig:m},s.createElement(zs,{activeStep:Ss.District,selectedItem:p[Ss.District],placeholder:I,tabIndex:null==m?void 0:m.tabIndex,onBlur:y,regionConfig:m,hasError:E}))))},ic=(0,s.memo)(ac),lc=function(e){var t,n,a,i,l=e.regionConfig,c=e.isFormV2,d=(0,Y.Cr)().regionConfig,p=l||d||{},m=p.region2,f=p.region3,g=p.region4,v=(0,s.useState)(""),b=(0,r.A)(v,2),h=b[0],E=b[1],_=(0,s.useState)(Ss.District),y=(0,r.A)(_,2),A=y[0],S=y[1],C=(0,s.useState)(Ss.District),I=(0,r.A)(C,2),O=I[0],N=I[1],w=(0,s.useState)(!1),x=(0,r.A)(w,2),k=x[0],P=x[1],T=(0,s.useState)(!1),D=(0,r.A)(T,2),R=D[0],L=D[1],j=(0,s.useState)((t={},(0,o.A)(t,Ss.State,null),(0,o.A)(t,Ss.City,null),(0,o.A)(t,Ss.District,null),t)),M=(0,r.A)(j,2),B=M[0],F=M[1],W=(0,s.useState)((n={},(0,o.A)(n,Ss.State,[]),(0,o.A)(n,Ss.City,[]),(0,o.A)(n,Ss.District,[]),n)),U=(0,r.A)(W,2),V=U[0],H=U[1],G=(0,s.useRef)((a={},(0,o.A)(a,Ss.State,[]),(0,o.A)(a,Ss.City,[]),(0,o.A)(a,Ss.District,[]),a)),K=(0,s.useState)(!1),z=(0,r.A)(K,2),q=z[0],J=z[1],Z=(0,s.useRef)((i={},(0,o.A)(i,Ss.State,""),(0,o.A)(i,Ss.City,""),(0,o.A)(i,Ss.District,""),i)),Q=function(e){E(""),N(e),J(!1)},X=function(){var e;S(Ss.District),N(Ss.District),F((e={},(0,o.A)(e,Ss.State,null),(0,o.A)(e,Ss.City,null),(0,o.A)(e,Ss.District,null),e))},$=(0,s.useMemo)((function(){return{inputValue:h,step:A,activeStep:O,loading:k,loadingMore:R,selectedOption:B,options:V,isApiError:q,setInputValue:E,setSelectedOption:F,setStep:S,setActiveStep:N,setLoading:P,setLoadingMore:L,setOptions:H,setIsApiError:J,handleBreadcrumbClick:Q,resetCascader:X,cachedOptionsRef:G,selectedRegionNameRef:Z}}),[h,A,O,k,R,B,V,q]);return s.createElement(Is.Provider,{value:$},function(){var e;if(!m)return null;var t=null!=m&&null!==(e=m.extraInfo)&&void 0!==e&&e.isMultiSelection?s.createElement(Xs,null):s.createElement(Tr,{regionConfig:m}),n=(0,u.Zw)("#region2");return c&&n?(0,$e.createPortal)(t,n):t}(),function(){var e;if(!f)return null;var t=null!=f&&null!==(e=f.extraInfo)&&void 0!==e&&e.isMultiSelection?s.createElement(nc,null):s.createElement(Fr,{regionConfig:f}),n=(0,u.Zw)("#region3");return c&&n?(0,$e.createPortal)(t,n):t}(),function(){var e;if(!g)return null;var t=null!=g&&null!==(e=g.extraInfo)&&void 0!==e&&e.isMultiSelection?s.createElement(ic,null):s.createElement(Hr,{regionConfig:g}),n=(0,u.Zw)("#region4");return c&&n?(0,$e.createPortal)(t,n):t}())},sc=(0,M.Xc)((0,s.memo)(lc));function cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dc=function(e){var t=e.value,n=e.regionConfig,r=e.others,o=(0,Y.Cr)().setFormData,a=(0,s.useCallback)((function(e){o((function(t){return uc(uc({},t),{},{taxcode:e})}))}),[o]);return s.createElement(Ar,{vKey:q.W1.TAXCODE,regionConfig:n,value:t,handleInput:a,others:r})},pc=(0,s.memo)(dc),mc=n(31092),fc=n(13880),gc=n(56508),vc=n(76142),bc=n(55333),hc=n.n(bc);function Ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yc=q.W1.TAXCODE,Ac=(0,s.forwardRef)((function(e,t){var n,a,i,l,c,d=e.value,p=e.regionConfig,m=e.multiSelectItemMap,g=void 0===m?{}:m,v=(0,Y.s4)(),b=v.warningValueFront,h=v.validateValueRequired,E=v.resetValidateInfo,_=v.resetWarningInfo,y=(0,Y.Cr)(),A=y.formData,S=y.setFormData,C=y.setFormDataOrigin,I=y.manualCheckValid,N=y.setFinalNameConfig,w=y.setFinalMobileConfig,x=y.regionConfig||{},P=x.name,T=x.mobile,D=(0,s.useRef)(null),R=(0,s.useState)(!1),L=(0,r.A)(R,2),j=L[0],M=L[1],B=(0,Fa.A)(),F=(0,s.useCallback)((function(e){S((function(t){return _c(_c({},t),{},{taxcode:e})}))}),[S]),W=(0,J.A)(p);(0,s.useEffect)((function(){W===p&&(null==b||b({val:d,name:yc,regionConfig:p}))}),[yc,d,p,b]);var U=(0,s.useState)(""),V=(0,r.A)(U,2),H=V[0],G=V[1],K=(0,s.useState)(p),z=(0,r.A)(K,2),Q=z[0],X=z[1],$=(null===(n=Q.extraInfo)||void 0===n?void 0:n.multiSelectButton)||[],ee=function(e,t){var n;G(e);var r=[e];if(void 0!==t){var o=$[t]||{},a=o.multiFieldKey,i=o.multiFieldList;r=null!=i&&i.length?i.map((function(e){return e.multiKey})):[a]}!function(e){e.forEach((function(e){e.startsWith(q.W1.TAXCODE)&&X(_c(_c({},(null==g?void 0:g[e])||p),{},{tabIndex:null==Q?void 0:Q.tabIndex})),e.startsWith(q.W1.NAME)&&N(_c(_c({},(null==g?void 0:g[e])||{}),{},{extraInfo:_c(_c({},(null==P?void 0:P.extraInfo)||{}),{},{isBackPlaceField:!0})})),e.startsWith(q.W1.MOBILE)&&w(_c(_c({},(null==g?void 0:g[e])||{}),{},{extraInfo:_c(_c({},(null==T?void 0:T.extraInfo)||{}),{},{isBackPlaceField:!0})}))}))}(null===(n=r)||void 0===n?void 0:n.map((function(e){return(0,k.yp)(e)}))),C((function(e){return _c(_c({},e),{},{selectedField:(0,Z.xK)(e.selectedField,r)})})),B||(E([q.W1.TAXCODE,q.W1.NAME,q.W1.MOBILE]),_([q.W1.TAXCODE,q.W1.NAME,q.W1.MOBILE]),setTimeout((function(){d&&I([q.W1.TAXCODE],{taxcode:A.taxcode})}),0))};(0,s.useEffect)((function(){var e,t=(null==$||null===(e=$.find((function(e){return e.select})))||void 0===e?void 0:e.multiFieldKey)||"";ee(t)}),[p]);var te=function(){var e;H||h({val:"",name:q.W1.TAXCODE,needShowValidate:!0,needRequired:!0,validateText:null==p||null===(e=p.extraInfo)||void 0===e?void 0:e.missSelectTips});return!!H};(0,s.useImperativeHandle)(t,(function(){return{finalTaxCodeConfig:Q,validRadioSelected:te}}));var ne=null!=p&&p.order?{order:null==p?void 0:p.order}:{};return s.createElement("div",{style:ne,id:"taxCodeV2",className:hc().taxCodeWrap},s.createElement(gc.A,{isDialog:!0,extraInfo:null==p?void 0:p.extraInfo,className:f()(hc().tips,(0,o.A)({},hc().isFirst,1===(null==Q?void 0:Q.tabIndex))),others:{field_key:"taxcode"}}),s.createElement(Nt.A,{vKey:yc,labelClassName:f()((0,o.A)({},hc().label,1!==(null==Q?void 0:Q.tabIndex))),regionConfig:Q,showFieldTopTips:!1,showFieldTip:!1,forceNormalLabel:!0},s.createElement(Ot.A,{vKey:yc,trigger:["onChange","onBlur"],regionConfig:Q},s.createElement(s.Fragment,null,!(null==$||!$.length)&&s.createElement("div",{className:hc().radioWrap},!(null==Q||null===(a=Q.extraInfo)||void 0===a||null===(i=a.fieldSelectTips)||void 0===i||!i.trim())&&s.createElement("div",{className:hc().text},Q.extraInfo.fieldSelectTips),s.createElement(mc.A,{onChange:ee,value:H,pageElSn:223047,others:{multi_field_key:H}},null==$?void 0:$.map((function(e,t){return s.createElement(fc.A,{index:t,key:e.multiFieldKey,value:e.multiFieldKey},e.selectText)})))),s.createElement(O.A,{text:null==Q?void 0:Q.fieldTopTips,linkText:null==Q||null===(l=Q.extraInfo)||void 0===l?void 0:l.fieldFloatWindowTips,linkPageElSn:230438,onClick:function(){return M(!0)},className:hc().headerTips,iconClassName:hc().warnIcon}),!(null!=Q&&null!==(c=Q.extraInfo)&&void 0!==c&&c.hideEnterField)&&s.createElement(an.A,{value:d,maxLength:null==Q?void 0:Q.maxSize,className:hc().input,onChange:F,onBlur:function(){null==b||b({val:d,name:yc,regionConfig:Q,formData:A})},placeholder:null==Q?void 0:Q.placeholder,ref:(0,u.K4)(D),pageElSn:223042,others:{multi_field_key:H},enterType:null==Q?void 0:Q.enterType,tabIndex:null==Q?void 0:Q.tabIndex}),!!j&&(0,$e.createPortal)(s.createElement(vc.A,{onClose:function(){return M(!1)}}),document.body)))))})),Sc=(0,s.memo)(Ac),Cc=(0,s.createContext)({});function Ic(){return s.useContext(Cc)}var Oc=n(28751),Nc=n.n(Oc),wc=["children"],xc=["selectProps"],kc=["selectProps"],Pc=["children","selectProps"];function Tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tc(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rc=function(e){return null==e?void 0:e.toLowerCase().replace(/\s/g,"")},Lc=function(e){var t=e.text,n=e.callback,r=(0,Y.Cr)().setFormData;return s.createElement("div",{className:Nc().postCodeSearchNoFoundActionText,onClick:function(){null==n||n(),r((function(e){return Dc(Dc({},e),{},{addressInfo:Dc(Dc({},e.addressInfo),{},{postCode:""})})})),window.dispatchEvent(new Event("OpenCascader"))},role:"button",tabIndex:0},(0,or.A)(t))},jc=(0,s.memo)((function(e){var t=e.data,n=t.postCode,r=t.regionName2,o=t.regionName3,a=t.regionName4,i=t.recommendText,l=t.recommendRichText,c=null==l?void 0:l.map((function(e){return s.createElement("span",{style:{fontSize:e.fontSize,color:e.fontColor,fontWeight:e.bold?"bold":"normal"}},e.text)}));return s.createElement("p",{className:Nc().item},c||i||(0,u.P5)({list:[n,a||"",o,r]}))})),Mc=(0,s.memo)((function(e){var t,n,o,i,c=e.hasError,d=e.onFocus,p=e.onBlur,m=e.onNoSearchResult,f=Ic(),g=f.postCode,v=f.regionConfig,b=f.isPureZipCode,h=(0,Y.Cr)(),E=h.setFormData,_=h.manualCheckValid,y=h.regionId1,A=h.overallExtAttributes,S=h.regionConfig,C=h.setShowRegion4,I=(null===(t=S.post_code)||void 0===t||null===(n=t.extraInfo)||void 0===n||null===(o=n.postCodeDisplayRule)||void 0===o?void 0:o.prefix)||"",O=((null==v?void 0:v.extraInfo)||{}).postCodeSearchNoFoundActionLimit,N=void 0===O?3:O,w=(A||{}).uniquePostcodeAutofillAbtest,x=(0,s.useRef)(null),k=(0,s.useState)([]),P=(0,r.A)(k,2),T=P[0],D=P[1],R=(0,s.useRef)({reqIdx:0,resIdx:0}),j=function(e){var t=Dc({},e[0]);return e.slice(1).forEach((function(e){t.regionId2&&t.regionId2!==e.regionId2&&(t.regionId2="",t.regionName2="",t.regionFullName2=""),t.regionId3&&t.regionId3!==e.regionId3&&(t.regionId3="",t.regionName3=""),t.regionId4&&t.regionId4!==e.regionId4&&(t.regionId4="",t.regionName4="")})),t},M=(0,s.useCallback)(function(){var e=(0,a.A)(l().mark((function e(t){var n,r,o,a,i,s,c,u,d,p,f,g;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(++R.current.reqIdx,n={region_id1:y,post_code:I+t},r={list:[],idx:R.current.reqIdx},!t){e.next=10;break}return e.next=6,Q.getAddressListByZipCode(n,{idx:R.current.reqIdx});case 6:r=e.sent,o=r.list,a=0===o.length&&t.length>=N,null==m||m(a);case 10:s=(i=r).list,c=i.idx,R.current.resIdx<c&&(R.current.resIdx=c,D(s),d=Rc(t)===Rc(null===(u=s[0])||void 0===u?void 0:u.postCode),1===w&&d&&(p=s[0],s.length>1&&(p=j(s)),F(p),(S.region2||1===s.length)&&(null===(f=x.current)||void 0===f||f.blur(),null===(g=x.current)||void 0===g||g.focus())));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[y,I]),B=(0,s.useCallback)((function(){D([])}),[]),F=(0,s.useCallback)((function(e){var t,n,r=e.regionId2,o=e.regionId3,a=e.regionName2,i=e.regionFullName2,l=e.regionName3,s=e.postCode,c=e.addressLine1,d=e.regionId4,p=void 0===d?"":d,m=e.regionName4,f=void 0===m?"":m,g=null!==(t=S.region4)&&void 0!==t&&null!==(n=t.extraInfo)&&void 0!==n&&n.hideWhenNoValue?!!f:!!S.region4;C(g);var b={regionId2:(0,u.dI)(r),regionId3:(0,u.dI)(o),regionName2:(0,u.dI)(a),regionFullName2:(0,u.dI)(i),regionName3:(0,u.dI)(l),regionId4:(0,u.dI)(p),regionName4:(0,u.dI)(f),postCode:(0,u.dI)(null==s?void 0:s.substring(I.length))};c&&(b.addressLine1=(0,u.dI)(c)),E((function(e){return Dc(Dc({},e),{},{addressInfo:Dc(Dc({},e.addressInfo),b||{})})}));var h=[q.W1.ZIP_CODE].concat(b.addressLine1?[q.W1.ADDRESS_LINE1]:[]);f&&h.push(q.W1.DISTRICT),S.region2&&(h=h.concat([q.W1.STATE])),S.region3&&(h=h.concat([q.W1.CITY])),S.combined_region&&_([q.W1.COMBINED_REGION],void 0,{customValidateVal:so({regionConfig:v,showRegion4:g,params:b})}),_(h,b)}),[_,E,I]),W=(0,s.useMemo)((function(){var e,t=null==v||null===(e=v.extraInfo)||void 0===e?void 0:e.postCodeDisplayRule,n=[];if(!t)return null;var r=t.formatRule;return(void 0===r?[]:r).forEach((function(e){isNaN(parseInt(e,10))&&!n.includes(e)&&n.push(e)})),new RegExp("[".concat(n.join(""),"]"),"g")}),[v]),U=(0,s.useMemo)((function(){var e,t=null==v||null===(e=v.extraInfo)||void 0===e?void 0:e.postCodeDisplayRule;if(!t)return null;var n=t.enterWhiteListRegex;if(!n)return null;var r=n.replace(/^\[|\]$/g,"");return new RegExp("[^".concat(r,"]"),"g")}),[v]),V=(0,s.useCallback)((function(e){return(e||"").replace(U,"").replace(W,"")}),[W,U]),H=(0,s.useCallback)((function(e){var t=(e||"").replace(/-/g,"");return(null==t?void 0:t.length)<=5?t:t.replace(/^(.{5})/g,"$1-")}),[]),G=(0,s.useCallback)((function(e){var t,n=null==v||null===(t=v.extraInfo)||void 0===t?void 0:t.postCodeDisplayRule;if(!n)return[mo.gq.us,mo.gq.vi,mo.gq.pr].includes(+y)?((0,L.mE)({event:"formatterUS"}),H(e)):e;for(var r=V(e),o=0,a=n.formatRule,i=void 0===a?[]:a,l=n.autoFillConnector,s=1;s<i.length;s+=2){var c=Number(i[s-1])+o;if(c>(l?r.length:r.length-1))break;r="".concat(r.slice(0,c)).concat(i[s]).concat(r.slice(c)),o=c+1}return r}),[v,H,y,V]),K=(0,s.useCallback)((function(e){E((function(t){return Dc(Dc({},t),{},{addressInfo:Dc(Dc({},t.addressInfo),{},{postCode:e})})}))}),[]);return b?null:s.createElement(Ot.A,{vKey:q.W1.ZIP_CODE,trigger:["onInput","onBlur"],actionName:"onInput",regionConfig:v,pageElSn:201049},s.createElement(Dr.A,{ref:x,regionConfig:v,vKey:q.W1.ZIP_CODE,onSelect:F,inputValue:g,onInput:K,onSearch:null!=v&&null!==(i=v.extraInfo)&&void 0!==i&&i.isSupportPostCodeRecommend?M:void 0,options:T,onResetOptions:B,Item:jc,placeholder:(null==v?void 0:v.placeholder)||"",maxLength:null==v?void 0:v.maxSize,maxMenuHeight:169,formatter:G,dividerRegex:W,pageElSn:201049,optionPageElSn:201194,blurInputOnSelect:!0,tabIndex:v.tabIndex,onFocus:d,onBlur:p,hasError:c}))})),Bc=xt.c.MenuList,Fc=xt.c.ValueContainer,Wc=xt.c.SingleValue,Uc=xt.c.Placeholder,Vc=function(e){var t=e.children,n=(0,p.A)(e,wc);return s.createElement(Ve.Rp,{page_el_sn:200124},s.createElement("div",{className:"controlWrap"},s.createElement(xt.c.Control,n,t)))},Hc=function(e){var t=e.selectProps,n=(0,p.A)(e,xc),r=(0,_.B)("bec-fe.web-address").t,o=(0,s.useRef)(null),a=t.isApiError,i=t.isLoading,l=t.isLoadingMore,c=t.retry,u=t.onInputChange,d=t.inputValue,m=t.onMenuInputFocus,g=function(e){e.stopPropagation(),e.target.focus()};return s.createElement(s.Fragment,null,s.createElement("div",{className:rs().inputWrap},s.createElement("input",{ref:o,placeholder:r("search"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text",className:rs().input,value:d,onChange:function(e){u(e.currentTarget.value)},onMouseDown:g,onTouchEnd:g,onFocus:m,onKeyDown:function(e){"Space"===e.code&&e.stopPropagation()}}),d?s.createElement(Rt.sL,{className:rs().clean,onClick:function(){return u("")}}):null,s.createElement("div",{className:rs().searchButton},s.createElement(Rt.Qn,{className:rs().icon}))),i?s.createElement(N.A,{className:rs().loadingWrap}):a?s.createElement(I.E,{onClick:c,wrapClass:rs().errorView,iconClass:rs().errorIcon}):s.createElement(s.Fragment,null,s.createElement(Bc,(0,Xe.A)({},n,{selectProps:t}),n.children,l&&s.createElement(N.A,{className:f()(rs().loadingWrap,rs().loadingMore)}))))},Gc=function(e){var t=e.selectProps,n=(0,p.A)(e,kc),r=n.innerProps,o=n.data,a=(t||{}).onInputChange,i=(o||{}).postcode,l=(0,Y.Cr)(),c=l.setFormData,u=l.manualCheckValid;return s.createElement(Ve.Rp,{page_el_sn:200137},s.createElement("div",(0,Xe.A)({},r,{onClick:function(e){e.stopPropagation(),e.preventDefault(),a(""),r.onClick(),i&&(c((function(e){return Dc(Dc({},e),{},{addressInfo:Dc(Dc({},e.addressInfo),{},{postCode:i})})})),u([q.W1.ZIP_CODE],{postCode:i}))},"data-index":o.index,role:"button",tabIndex:0}),s.createElement("div",{className:rs().item},i)))},Kc=function(e){var t=e.children,n=e.selectProps,r=(0,p.A)(e,Pc),o={cx:r.cx,clearValue:r.clearValue,getStyles:r.getStyles,getValue:r.getValue,hasValue:r.hasValue,isMulti:r.isMulti,isRtl:r.isRtl,options:r.options,selectOption:r.selectOption,setValue:r.setValue,selectProps:n,theme:r.theme};return s.createElement(Fc,(0,Xe.A)({},r,{selectProps:n}),s.Children.map(t,(function(e){return e||(r.hasValue?s.createElement(Wc,(0,Xe.A)({},o,{isFocused:n.isFocused,isDisabled:n.isDisabled}),n.getOptionLabel(r.getValue()[0])):s.createElement(Uc,(0,Xe.A)({},o,{key:"placeholder",isDisabled:n.isDisabled,data:r.getValue()}),n.placeholder))})))},zc=function(e){var t;return s.createElement(Wt.A,{isOpen:null==e||null===(t=e.selectProps)||void 0===t?void 0:t.menuIsOpen})},qc=function(){return s.createElement(N.A,{className:f()(rs().loadingWrap,rs().loadingMessage)})},Yc=(0,s.memo)((0,s.forwardRef)((function(e,t){var n,o,i=(0,_.B)("bec-fe.web-address").t,c=Ic(),u=c.regionConfig,d=c.isPureZipCode,p=c.setIsPureZipCode,m=(0,Y.Cr)(),f=m.formData,g=m.setFormData,v=m.manualCheckValid,b=m.isInEditPop,h=(0,s.useState)(""),E=(0,r.A)(h,2),y=E[0],A=E[1],S=(0,s.useState)(!1),C=(0,r.A)(S,2),I=C[0],O=C[1],N=(0,s.useState)([]),w=(0,r.A)(N,2),x=w[0],k=w[1],P=(0,s.useRef)([]),T=(0,s.useRef)(0),D=(0,s.useRef)(!1),R=(0,s.useState)(!1),L=(0,r.A)(R,2),j=L[0],M=L[1],B=(0,s.useState)(!1),F=(0,r.A)(B,2),W=F[0],U=F[1],V=(0,s.useState)(!0),H=(0,r.A)(V,2),G=H[0],K=H[1],z=(0,s.useState)(!1),J=(0,r.A)(z,2),Z=J[0],X=J[1],$=(0,s.useRef)(""),ee=(null==u||null===(n=u.extraInfo)||void 0===n||null===(o=n.postCodeDisplayRule)||void 0===o?void 0:o.prefix)||"",te=(0,s.useCallback)((function(e){var t=document.querySelector(".address_state_select__menu");document.contains(e.target)&&t&&t.contains(e.target)||(O(!1),A(""))}),[]);(0,s.useEffect)((function(){return document.addEventListener("mousedown",te),function(){document.removeEventListener("mousedown",te)}}),[te]);var ne=(0,s.useCallback)((function(e){p(!1),g((function(t){return Dc(Dc({},t),{},{addressInfo:Dc(Dc({},t.addressInfo),{},{postCode:e.postcode})})})),setTimeout((function(){v([q.W1.ZIP_CODE],{postCode:e.postcode})}),0)}),[]),re=(0,s.useCallback)(function(){var e=(0,a.A)(l().mark((function e(t){var n,r,o,a,i,s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.regionId,o=t.isPostCodeAfterState,a=t.extraParams,i=void 0===a?{}:a,$.current=r,e.next=4,Q.getPostCodeListByRegionId(Dc({region_id:r,postcode_prefix:y,from:0},i));case 4:return s=e.sent,c=s.list,P.current=c,u=!1,o&&1!==(null==c?void 0:c.length)&&(g((function(e){return Dc(Dc({},e),{},{addressInfo:Dc(Dc({},e.addressInfo),{},{postCode:""})})})),u=!0),(null==c?void 0:c.length)>=2&&(null==f||null===(n=f.addressInfo)||void 0===n||!n.postCode||u)&&(p(!0),k(c),O(!0)),e.abrupt("return",null==c?void 0:c.map((function(e){return e.postcode})));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f]),oe=(0,s.useCallback)(Dt()(function(){var e=(0,a.A)(l().mark((function e(t){var n,r,o,a,i,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.val,r=t.loadMore,e.prev=1,r&&(U(!0),D.current=!0),X(!1),o={region_id:$.current,postcode_prefix:n||"",from:T.current},e.next=7,Q.getPostCodeListByRegionId(o);case 7:a=e.sent,i=a.list,s=void 0===i?[]:i,k(r?function(e){return[].concat((0,wt.A)(e),(0,wt.A)(s))}:s),s.length||K(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),X(!0);case 17:return e.prev=17,U(!1),M(!1),D.current=!1,e.finish(17);case 22:case"end":return e.stop()}}),e,null,[[1,14,17,22]])})));return function(t){return e.apply(this,arguments)}}(),300),[]);return(0,s.useImperativeHandle)(t,(function(){return{checkZipCodeList:re}})),d?s.createElement(kt.Ay,{className:"stateContainer",classNamePrefix:"address_state_select",placeholder:ee+((null==u?void 0:u.placeholder)||""),options:x,isLoading:j,components:{Control:Vc,MenuList:Hc,ValueContainer:Kc,Option:Gc,IndicatorsContainer:zc,LoadingMessage:qc},inputValue:y,isSearchable:!1,getOptionLabel:function(e){return e.postcode},isLoadingMore:W,isApiError:Z,retry:oe,onMenuInputFocus:function(){return O(!0)},onChange:function(e){ne(e),O(!1)},onInputChange:function(e){T.current=0,K(!0),A(e),e?(M(!0),oe({val:e})):k(P.current)},menuIsOpen:I||void 0,isFocused:I||void 0,menuPortalTarget:b?document.body:void 0,maxMenuHeight:b?350:418,closeMenuOnScroll:b?function(e){var t,n;return e.target instanceof Element&&!(null!==(t=e.target)&&void 0!==t&&null!==(n=t.className)&&void 0!==n&&n.includes("address_state_select__menu-list"))}:void 0,menuPlacement:"auto",noOptionsMessage:function(){return W?null:i("address.noSearchOptions")},tabIndex:null==u?void 0:u.tabIndex,onMenuScrollToBottom:function(){G&&!D.current&&(T.current+=x.length,oe({val:y,loadMore:!0}))}}):null}))),Jc=(0,s.memo)((0,s.forwardRef)((function(e,t){var n,o,i=e.postCode,c=void 0===i?"":i,u=e.regionConfig,d=(0,s.useState)(!1),p=(0,r.A)(d,2),m=p[0],f=p[1],g=(0,s.useState)(!1),v=(0,r.A)(g,2),b=v[0],h=v[1],E=(0,s.useState)(!1),_=(0,r.A)(E,2),y=_[0],A=_[1],S=(0,s.useState)(!1),C=(0,r.A)(S,2),I=C[0],O=C[1],N=(0,s.useRef)(null),w=(null==u||null===(n=u.extraInfo)||void 0===n||null===(o=n.postCodeDisplayRule)||void 0===o?void 0:o.prefix)||"",x=c.startsWith(w)?c.substring(w.length):c,k=((null==u?void 0:u.extraInfo)||{}).postCodeSearchNoFoundActionText,P=(0,s.useCallback)(function(){var e=(0,a.A)(l().mark((function e(t){var n,r,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=N.current)||void 0===n||null===(r=n.checkZipCodeList)||void 0===r?void 0:r.call(n,t);case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),T=(0,s.useCallback)((function(e){return(e||I)&&k?s.createElement(Lc,{text:k,callback:function(){return O(!1)}}):null}),[I,k]);(0,s.useImperativeHandle)(t,(function(){return{checkZipCodeList:P}}));var D=(0,s.useMemo)((function(){return{postCode:x,regionConfig:u,isPureZipCode:y,setIsPureZipCode:A}}),[y,x,u]);return s.createElement(Cc.Provider,{value:D},s.createElement(Nt.A,{vKey:q.W1.ZIP_CODE,className:"zipCode",labelClassName:Nc().label,regionConfig:u,isFloatLabel:m||!!x,onValidateChange:h,customNotFoundTip:T},s.createElement(s.Fragment,null,s.createElement(Yc,{ref:N}),s.createElement(Mc,{hasError:b,onFocus:function(){return f(!0)},onBlur:function(){return f(!1)},onNoSearchResult:O}))))}))),Zc=(0,V.A)((0,M.W4)())(Jc);function Qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qc(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $c=function(e){var t,n,r,a=e.taxCodeRef,i=(0,Y.Cr)(),l=i.formData,c=i.setAddressPoiInfo,u=i.setMapAddressInfo,d=i.overallExtAttributes,p=i.enterAddressManually,m=i.regionConfig,f=i.isShowPhone,g=i.isEditGuestMode,v=i.multiSelectItemMap,b=i.finalNameConfig,h=i.finalMobileConfig,E=i.zipCodeRef,_=l.fullName,y=l.firstName,A=l.middleName,S=l.lastName,C=l.additionalName,I=l.additionalFirstName,O=l.additionalLastName,N=l.addressInfo,w=l.lat,x=l.lng,k=l.phoneRegionId,P=l.phoneShortName,T=l.additionalPhoneRegionId,D=l.additionalPhoneShortName,R=l.taxcode,L=N.postCode,j=d.mapFieldHideAbtest,M=(0,s.useRef)(null);return ho(M),s.createElement(s.Fragment,null,!(null==m||!m.region1)&&s.createElement(ri,{regionConfig:null==m?void 0:m.region1}),!!b&&s.createElement(ll,{value:_,regionConfig:b}),!(null==m||!m.first_name)&&s.createElement(dl,{value:y,regionConfig:null==m?void 0:m.first_name}),!(null==m||!m.middle_name)&&s.createElement(El,{value:A,regionConfig:null==m?void 0:m.middle_name}),!(null==m||!m.last_name)&&s.createElement(gl,{value:S,regionConfig:null==m?void 0:m.last_name}),!(null==m||!m.additional_name)&&s.createElement(Ao,{value:C,regionConfig:null==m?void 0:m.additional_name}),!(null==m||!m.additional_first_name)&&s.createElement(Oo,{value:I,regionConfig:null==m?void 0:m.additional_first_name}),!(null==m||!m.additional_last_name)&&s.createElement(ko,{value:O,regionConfig:null==m?void 0:m.additional_last_name}),s.createElement(ja,{setAddressPoiInfo:c,regionConfig:m}),!(null==m||!m.post_code)&&s.createElement(Zc,{postCode:L,regionConfig:null==m?void 0:m.post_code,ref:E}),(!j||p||!p&&!w&&!x)&&s.createElement(s.Fragment,null,null!=m&&m.region2?s.createElement(s.Fragment,null,null!==(t=m.region2.extraInfo)&&void 0!==t&&t.isMultiSelection?s.createElement(s.Fragment,null,null!==(n=m.region2.extraInfo)&&void 0!==n&&n.isReverse?s.createElement(sc,{ref:M}):s.createElement(lo,{ref:M})):s.createElement($l,{regionConfig:m})):s.createElement(s.Fragment,null,!(null==m||!m.region3)&&s.createElement(As,{ref:M}))),!!h&&s.createElement(Ql,{isShowPhone:f,phoneRegionId:k,phoneShortName:P,isEditGuestMode:g,regionConfig:h}),!(null==m||!m.additional_mobile)&&s.createElement(Ql,{isShowPhone:f,phoneRegionId:T,phoneShortName:D,isEditGuestMode:g,regionConfig:null==m?void 0:m.additional_mobile,isAdditionalMobile:!0}),!(null==m||!m.taxcode)&&s.createElement(s.Fragment,null,null!==(r=m.taxcode.extraInfo)&&void 0!==r&&r.multiSelectButton?s.createElement(Sc,{ref:a,value:R,regionConfig:m.taxcode,multiSelectItemMap:v}):s.createElement(pc,{value:R,regionConfig:m.taxcode})),!(null==m||!m.date_group)&&s.createElement(rl,{regionConfig:m,multiSelectItemMap:v}),!(null==m||!m.map_poi)&&s.createElement(Ul,{regionConfig:null==m?void 0:m.map_poi,onSuccess:function(e){var t,n,r;u(e),null===(t=M.current)||void 0===t||t.setIsBack(!1),null===(n=M.current)||void 0===n||null===(r=n.setSelectedOption)||void 0===r||r.call(n,(function(t){return Xc(Xc(Xc({},t),e.region_name3?{}:(0,o.A)({},Gt.City,null)),e.region_name4?{}:(0,o.A)({},Gt.District,null))}))}}))},eu=n(47571),tu=n(91520);function nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nu(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ou=function(e){var t=e.value,n=e.regionConfig,r=(0,Y.Cr)().setFormData,o=(0,s.useCallback)((function(e){r((function(t){return ru(ru({},t),{},{additionalTaxcode:e})}))}),[r]);return s.createElement(Ar,{vKey:q.W1.ADDITIONAL_TAXCODE,regionConfig:n,value:t,handleInput:o})},au=(0,s.memo)(ou),iu=n(59287),lu=n.n(iu);function su(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?su(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):su(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uu,du=(0,s.memo)((function(e){var t=e.item,n=e.activeValue,r=t.innerProps,a=t.data||{},i=a.label,l=a.value===n;return s.createElement("div",r,s.createElement("div",{className:f()(lu().item,(0,o.A)({},lu().activeItem,l))},s.createElement("span",{className:lu().option},i),l?s.createElement(Rt.Cl,{className:lu().rightIcon}):null))})),pu=function(e){var t;return s.createElement(Wt.A,{isOpen:null==e||null===(t=e.selectProps)||void 0===t?void 0:t.menuIsOpen})},mu=function(e){var t,n=e.setAddressPoiInfo,o=(0,Y.Cr)(),a=o.streetType,i=o.regionConfig,l=o.setFormData,c=i.street_type,u=(0,s.useState)(!1),d=(0,r.A)(u,2),p=d[0],m=d[1],f=null==c||null===(t=c.selectItemList)||void 0===t?void 0:t.map((function(e){return{label:e.selectText,value:e.selectType}})),g=(0,s.useCallback)((function(e){n((function(t){return cu(cu({},t),{},{street_type:e.value})})),l((function(t){return cu(cu({},t),{},{addressInfo:cu(cu({},t.addressInfo),{},{streetType:e.value})})})),(0,L.mE)({event:"streetTypeChange"})}),[]),v={Option:(0,s.useCallback)((function(e){return s.createElement(du,{item:e,activeValue:a})}),[a]),IndicatorsContainer:pu};return s.createElement(Nt.A,{vKey:q.W1.STREET_TYPE,labelClassName:lu().label,className:lu().streetType,regionConfig:c,isFloatLabel:p||!!a},s.createElement(Ot.A,{vKey:q.W1.STREET_TYPE,trigger:["onChange"],regionConfig:c},s.createElement(kt.Ay,{className:"streetTypeContainer",classNamePrefix:"streetType",components:v,value:null==f?void 0:f.filter((function(e){return e.value===a})),options:f,filterOption:function(){return!0},onChange:g,onBlur:function(){return m(!1)},onFocus:function(){return m(!0)},placeholder:(null==c?void 0:c.placeholder)||"",maxMenuHeight:169,tabIndex:null==c?void 0:c.tabIndex,isSearchable:!1})))},fu=(0,s.memo)(mu),gu=n(38135),vu=n.n(gu),bu=function(e){var t=e.floatWindowRichTips,n=e.floatWindowContent;if((0,s.useEffect)((function(){t&&(0,L.mE)({event:"floatWindowRichTips"}),n&&(0,L.mE)({event:"floatWindowContent"})}),[]),!t)return null;return s.createElement("div",{className:vu().floatWindowRichTips,role:"button",tabIndex:0,onClick:function(){if(n){var e=n.title,t=n.confirmButton,r=n.contentList;(0,C.P)({popupNode:s.createElement(ne.A,{onClose:C.L,title:e,confirmButtonLabel:t,onConfirm:C.L},r.map((function(e){var t=e.content,n=e.images;return s.createElement("div",{className:vu().section},s.createElement("div",{className:vu().content},t),n.map((function(e){return s.createElement("div",{className:vu().imageWrap},s.createElement("div",{className:vu().image},s.createElement(Ue.Ay,{src:e.url,alt:""})),s.createElement("span",{className:vu().desc},e.desc))})))})))})}}},(0,or.A)(t))},hu=n(90215),Eu=n.n(hu),_u=function(e){var t=e.foldTips,n=e.onClick;return s.createElement(Ve.nU,{page_el_sn:243353},s.createElement("div",{onClick:n,role:"button",tabIndex:0,"data-aria-enter":"1",className:Eu().foldTips},(0,or.A)(t)))},yu=(0,s.memo)(_u),Au=function(){var e=(0,a.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=uu,e.t0){e.next=5;break}return e.next=4,n.e(4425).then(n.bind(n,76110));case 4:e.t0=e.sent.default;case 5:uu=e.t0;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Su=function(){var e=(0,a.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au();case 2:return(n=new uu({default_key_size:2048})).setPublicKey(t),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Cu=(0,s.createContext)({});var Iu=n(33746),Ou=(n(76918),n(84636)),Nu=n.n(Ou),wu=function(e){return e.UPLOADING="uploading",e.DONE="done",e.ERROR="error",e}({}),xu=(n(90906),n(2945),n(55815),n(64979),n(79739),n(11745),n(21489),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(41405),n(33684),n(3296),n(48408),/^.+(\.jpg|\.jpeg|\.png)$/i),ku=/^.+(\.mp4|\.mov)$/i,Pu=function(e){return e.startsWith("video")},Tu=function(e){var t=e.name,n=e.type;return xu.test(t)&&function(e){return e.startsWith("image")}(n)},Du=function(e){var t=e.name,n=e.type;return ku.test(t)&&Pu(n)},Ru=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function Lu(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}}))}function ju(e){var t=e.name,n=e.type;return ku.test(t)&&Pu(n)?new Promise((function(t,n){var r=URL.createObjectURL(e),o=document.createElement("video");o.src=r,o.preload="auto",o.crossOrigin="Anonymous",o.autoplay=!0,o.muted=!0,o.addEventListener("error",n),o.addEventListener("loadeddata",(function(){return t(o)}))})):Promise.resolve(null)}function Mu(e){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,a.A)(l().mark((function e(t){var n,o,a,i,s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:return e.next=4,Promise.all([ju(t),Ru(500)]);case 4:if(n=e.sent,o=(0,r.A)(n,1),a=o[0]){e.next=9;break}return e.abrupt("return","");case 9:if(i=a.videoWidth,s=a.videoHeight,(c=document.createElement("canvas")).width=i,c.height=s,!(u=c.getContext("2d"))){e.next=17;break}return u.drawImage(a,0,0,i,s),e.abrupt("return",c.toDataURL("image/jpg"));case 17:return e.abrupt("return","");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(89463),n(73772),n(16280);var Fu=n(72635),Wu=n(24808),Uu=n(8019),Vu=n(94971),Hu=n(52571),Gu=(0,s.createContext)({}),Ku=n(19745),zu=n.n(Ku);function qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qu(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ju=function(e){var t=e.size,n=void 0===t?16:t,r=e.strokeWidth,o=void 0===r?2:r,a=e.percent,i=void 0===a?0:a,l=e.color,c=void 0===l?"#fff":l,u=e.trackColor,d=void 0===u?"#000":u,p=e.className,m=e.style,f=(n-o)/2,g=(0,s.useMemo)((function(){var e=2*Math.PI*f;return"".concat(i/100*e," ").concat(e)}),[f,i]);return s.createElement("div",{className:p,style:Yu({width:"".concat(n,"px"),height:"".concat(n,"px"),display:"inline-flex"},m)},s.createElement("svg",{width:n,height:n,className:zu().progress},s.createElement("circle",{cx:n/2,cy:n/2,r:f,stroke:d,strokeWidth:o,fill:"none",className:zu().graphOuter}),s.createElement("circle",{cx:n/2,cy:n/2,r:f,stroke:c,strokeWidth:o,strokeLinecap:"round",fill:"none",transform:"matrix(0,-1,1,0,0,".concat(n,")"),strokeDasharray:g,className:zu().graphInner})))},Zu=function(e){var t=e.fileList,n=(e.enableBigPicture,e.onPreview),r=e.onRemove,o=e.onRetry,a=e.className,i=e.style,l=(0,s.useContext)(Gu),c=l.fileList,u=l.onUploadFilePreview,d=l.onUploadFileRemove,p=l.onUploadFileRetry,m=c||t||[];return 0===m.length?null:s.createElement("div",{className:f()(zu().filePreviewList,a),style:i},m.map((function(e,t){var a=e.uuid,i=e.thumbUrl,l=e.percent,c=void 0===l?0:l,f=e.status;e.type;return s.createElement("div",{className:zu().previewItem,key:a},s.createElement(Ue.Ay,{className:zu().deleteIcon,onClick:function(){return function(e){null==r||r(e,m[e].file),null==d||d(e)}(t)},src:"https://aimg.kwcdn.com/upload_aimg/transaction/91b22169-7c06-4000-b41c-589aa173b235.png.slim.png","aria-hidden":!0,alt:""}),s.createElement(Ue.Ay,{resizeWidth:234,src:i||"",className:zu().thumbnail,"aria-hidden":!0,alt:""}),f===wu.UPLOADING?s.createElement("div",{className:zu().percent},s.createElement(Ju,{percent:c,size:28,strokeWidth:3,trackColor:"rgba(255, 255, 255, 0.4)"})):null,f===wu.ERROR?s.createElement("div",{className:zu().retry,onClick:function(){return function(e){null==n||n(e,m[e].file),null==u||u(e)}(t)},role:"button",tabIndex:0},s.createElement("div",{className:zu().retryIcon,onClick:function(e){e.stopPropagation(),function(e){null==o||o(e,m[e].file),null==p||p(e)}(t)}})):null)})))},Qu=(0,s.memo)(Zu),Xu=n(27923),$u=["beforeSelect"];function ed(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ed(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nd={multiple:!0,accept:"*"};function rd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nd,t=e.beforeSelect,n=(0,p.A)(e,$u),o=(0,s.useState)(null),i=(0,r.A)(o,2),c=i[0],u=i[1],d=(0,s.useRef)(null);"undefined"==typeof document||d.current||(d.current=document.createElement("input"),d.current.type="file",d.current.onchange=function(){var e=(0,a.A)(l().mark((function e(n){var r,o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.target,e.next=3,null==t?void 0:t(r.files);case 3:o=e.sent,Array.isArray(o)?u(o):!1!==o&&u(Array.from(null!==(a=r.files)&&void 0!==a?a:[]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return{files:c,open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(d.current){var t,r,o=td(td(td({},nd),n),e);d.current.multiple=o.multiple,d.current.accept=o.accept,t=o,r="capture",Object.prototype.hasOwnProperty.call(t,r)&&(d.current.capture=o.capture),d.current.click()}},reset:function(){d.current&&(d.current.value=""),u(null)}}}var od=["icon","text","onChange","className","style","children","disabled","leaveReviewOptimization"];function ad(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function id(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ad(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ad(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ld=function(e){return e.IMAGE="image",e.VIDEO="video",e}({}),sd=function(e){e.icon;var t=e.text,n=e.onChange,r=e.className,o=e.style,a=e.children,i=e.disabled,l=e.leaveReviewOptimization,c=(0,p.A)(e,od),u=rd(c),d=u.files,m=u.open,g=u.reset,v=(0,s.useContext)(Gu).onUploadFileChange;return(0,Vt.A)((function(){d&&(null==n||n(d),null==v||v(d))}),[d]),function(){if(a){var e;if("object"!==(0,Iu.A)(a))return s.createElement("div",{onClick:function(){return m()},role:"button",tabIndex:0},a);var n=null!==(e=a.props)&&void 0!==e?e:{};return(0,s.cloneElement)(a,id(id({},n),{},{onClick:function(e){var t;i||(null===(t=n.onClick)||void 0===t||t.call(n,e),m())}}))}return s.createElement("div",{className:f()(zu().fileDialogOpener,l&&zu().newBorder,r),style:o,onClick:function(){i||(g(),m({accept:c.accept}))},role:"button",tabIndex:0},s.createElement(Xu.A,{className:zu().icon,"aria-hidden":!0}),t)}()},cd=(0,s.memo)(sd),ud=n(49657),dd=n.n(ud),pd=["defaultFileList","fileList","customRequest","maxCount","showPreviewList","showUploadButton","className","style","previewFile","beforeUpload","onChange","onPreview","onRemove","onRetry","onFileListChange","children"];function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?md(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gd=Symbol("before_upload_silence"),vd=(0,s.memo)((0,s.forwardRef)((function(e,t){var n=e.defaultFileList,o=void 0===n?[]:n,i=e.fileList,c=void 0===i?o:i,d=e.customRequest,m=e.maxCount,g=void 0===m?1/0:m,v=e.showPreviewList,b=void 0===v||v,h=e.showUploadButton,E=void 0===h||h,_=e.className,y=e.style,A=e.previewFile,S=e.beforeUpload,C=e.onChange,I=e.onPreview,O=e.onRemove,N=e.onRetry,w=e.onFileListChange,x=e.children,k=(0,p.A)(e,pd),P=(0,s.useState)(),T=(0,r.A)(P,2),D=T[0],R=T[1],j=(0,s.useState)([]),M=(0,r.A)(j,2),B=M[0],F=M[1];(0,s.useEffect)((function(){B.length||F((function(){return c.filter((function(e){return!!e.thumbUrl})).map((function(e){return fd(fd({},e),{},{uuid:e.uuid||(0,Po.A)()})}))}))}),[c,B.length]),(0,s.useEffect)((function(){var e,t,n;R((e=location.host,t=+(0,Vu.Ri)("region"),n=[mo.DR.us,mo.DR.udp].includes((0,Wu.xc)(t))?"user-cert-image-tmp":"user-cert-image-tmp-eu",(new Hu.Ay).withCredentials().setScene(Hu.ju.C_END).setDr((0,Wu.xc)(t)||"eu").setRegionId(t).setSignatureHost(e||"").isProduct(!(0,Uu.Si)(e)).setTag(n).init()))}),[]);var W,U=B.length,V=(0,s.useRef)(new WeakMap),H=function(){var e=(0,a.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",!Tu(t)){e.next=7;break}return e.next=4,Lu(t);case 4:n=e.sent,e.next=19;break;case 7:if(!Du(t)){e.next=13;break}return e.next=10,Mu(t);case 10:n=e.sent,e.next=19;break;case 13:return e.next=15,null==A?void 0:A(t);case 15:if(e.t0=e.sent,e.t0){e.next=18;break}e.t0="";case 18:n=e.t0;case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(e,t){var n;return Tu(e)&&D?function(e,t,n){return e.uploadImage().setData(t).saveOriginalImage().onProgress((function(e){return null==n?void 0:n(e)}))}(D,e,t):null!==(n=null==d?void 0:d(e,t))&&void 0!==n?n:null},K=(0,s.useCallback)((W="uuid",function(e,t){(0,$e.flushSync)((function(){var n=e,r=n.file,o=n.status,a=n.uuid;F((function(t){var n=(0,wt.A)(t),r=n.findIndex((function(t){return t[W]===e[W]}));return r>-1?(n[r]=fd(fd({},n[r]),e),n):[].concat((0,wt.A)(n),[e])})),null==C||C(o,r,fd(fd({},t),{},{uuid:a}))}))}),[C]),z=function(){var e=(0,a.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=(0,a.A)(l().mark((function e(t){var n,r,o,a,i,s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.file,r=t.uuid,o=void 0===r?(0,Po.A)():r,a=t.status,i=void 0===a?wu.DONE:a,!n){e.next=5;break}return s=n.name,c=n.type,u=URL.createObjectURL(n),e.abrupt("return",fd({url:u,percent:0,uuid:o,type:c,name:s,status:i,file:n},t));case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:e.sent.forEach(function(){var e=(0,a.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,a.A)(l().mark((function e(t){var n,o,a,i,s,c,d,p,m,f,g,v,b,h,E;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.file,o=t.uuid,a=t.thumbUrl,i=t.status,e.prev=1,i!==wu.DONE){e.next=4;break}return e.abrupt("return");case 4:if(i!==wu.ERROR){e.next=6;break}throw Error();case 6:return s=n,e.next=9,null==S?void 0:S(n);case 9:if((c=e.sent)!==gd){e.next=12;break}return e.abrupt("return");case 12:if(!1!==c){e.next=14;break}throw Error();case 14:if(c instanceof File&&(s=c),!o){e.next=39;break}if(K(fd(fd({},t),{},{status:wu.UPLOADING,uuid:o})),!s){e.next=39;break}if(e.t0=a,e.t0){e.next=23;break}return e.next=22,H(s);case 22:e.t0=e.sent;case 23:return d=e.t0,K({thumbUrl:d,status:wu.UPLOADING,uuid:o}),p=[G(s,(function(e){K(fd(fd({},t),{},{percent:Math.floor(e),status:wu.UPLOADING,uuid:o}))}))],V.current.set(s,p),e.next=29,Promise.all(p.map((function(e){return null==e?void 0:e.build()})));case 29:if(m=e.sent,f=(0,r.A)(m,2),g=f[0],v=f[1],h=(b=null!=v?v:{}).url,E=b.imageInfo,g){e.next=38;break}throw Error();case 38:K(fd(fd({},t),{},{status:wu.DONE,uuid:o}),fd(fd({},g),v?{coverInfo:{url:h,width:null==E?void 0:E.width,height:null==E?void 0:E.height}}:{}));case 39:e.next=49;break;case 41:if(e.prev=41,e.t1=e.catch(1),e.t1!==gd){e.next=45;break}return e.abrupt("return");case 45:if((null===e.t1||void 0===e.t1?void 0:e.t1.errorCode)!==Hu.bo.REQUEST_ABORTED.CODE){e.next=47;break}return e.abrupt("return");case 47:J(t),(0,L.mE)({event:"uploadFailed",data:(0,u.Jm)({type:null==n?void 0:n.type,size:null==n?void 0:n.size,error:e.t1})});case 49:case"end":return e.stop()}}),e,null,[[1,41]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){var t=V.current.get(e);t&&t.forEach((function(e){return null==e?void 0:e.abort()}))},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.uuid,r=e.file;t||Zt.A.error(Fu.Ay.t("bec-fe.web-address:uploadFail")),n&&K(fd(fd({},e),{},{status:wu.ERROR,uuid:n})),r&&Y(r)},Z=function(){var e=(0,a.A)(l().mark((function e(t){var n,r,o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=B[t],r=n.file,o=n.uuid,e.next=3,null==O?void 0:O(o,r);case 3:!1!==e.sent&&(a=B.filter((function(e){return e.uuid!==o}))).length!==B.length&&(F(a),r&&Y(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,a.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=B[t],null==N||N(n.file),e.next=4,q(fd(fd({},n),{},{status:wu.UPLOADING}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){z(B)}),[]),(0,s.useEffect)((function(){null==w||w(B)}),[B]),(0,s.useImperativeHandle)(t,(function(){return{handleError:J}})),s.createElement(Gu.Provider,{value:{fileList:B,onUploadFileChange:function(e){z(e.slice(0,g-U).map((function(e){return{file:e,status:wu.UPLOADING}})))},onUploadFilePreview:function(e){null==I||I(B[e].file)},onUploadFileRemove:Z,onUploadFileRetry:Q}},s.createElement("div",{className:f()(dd().upload,_),style:y},b?s.createElement(Qu,{enableBigPicture:!0}):null,E&&g>B.length?s.createElement(cd,(0,Xe.A)({builtIn:ld.IMAGE},k)):null,x))}))),bd=vd,hd=n(81132),Ed=n.n(hd);function _d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_d(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ad=function(e){var t=e.vKey,n=e.regionConfig,o=(0,_.B)("bec-fe.web-address").t,i=(0,Y.Cr)(),u=i.formData,d=i.setFormData,p=i.manualCheckValid,m=s.useContext(Cu),f=m.jsEncrypt,g=m.queryCryptVo,v=(0,s.useRef)(),b=(0,s.useRef)(),h=(0,s.useRef)(),E=(0,s.useState)([]),y=(0,r.A)(E,2),A=y[0],S=y[1],C=(0,s.useRef)();(0,s.useEffect)((function(){(u.frontDisplayUrl||u.backDisplayUrl)&&S([{thumbUrl:t===q.W1.CERT_FRONT_TICKET?u.frontDisplayUrl:u.backDisplayUrl}])}),[t,u.frontDisplayUrl,u.backDisplayUrl]),(0,s.useEffect)((function(){v.current=g,b.current=f}),[g,f]);var I=(0,s.useCallback)((function(e){Object.keys(e).forEach((function(t){var n;"object"===(0,Iu.A)(e[t])?I(e[t]):e[t]=null===(n=b.current)||void 0===n?void 0:n.encrypt(e[t])}))}),[]),O=function(){var e=(0,a.A)(l().mark((function e(r){var a,i,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r&&r.length){e.next=2;break}return e.abrupt("return",!1);case 2:if(i=null==n||null===(a=n.extraInfo)||void 0===a?void 0:a.imageMaxSize){e.next=5;break}return e.abrupt("return",!0);case 5:if(!(r[0].size>1024*i*1024)){e.next=10;break}return c=(null==n||null===(s=n.extraInfo)||void 0===s?void 0:s.imageSizeTips)||"",Zt.A.error(c),p([t],{},{validateText:c}),e.abrupt("return",!1);case 10:if(Tu(r[0])){e.next=13;break}return Zt.A.error(o("fileNotSupport")),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,a.A)(l().mark((function e(n,r,o){var a,i,s,u,m,f,g,b,E,_,y,A,S,O;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(o||{}).url,i=void 0===a?"":a,n!==wu.DONE||!r||!o){e.next=18;break}return s=t===q.W1.CERT_FRONT_TICKET?1:2,u=v.current||{},m=u.salt,f=void 0===m?"":m,g=u.serverTime,b=void 0===g?"":g,E=u.version,_={certInfo:{certImageUrl:i,certImageType:"".concat(s)},salt:f,serverTime:"".concat(b),signature:Nu()("".concat(f).concat(b).concat(i).concat(s)).toString().toUpperCase().substring(0,32)},I(_),e.next=8,(0,Q.queryTicket)({formData:_,version:E,scene:c.R$});case 8:if(y=e.sent,A=y.ticket){e.next=13;break}return null===(S=C.current)||void 0===S||S.handleError(yd({file:r},o),!0),e.abrupt("return");case 13:t===q.W1.CERT_FRONT_TICKET&&((0,Q.preRecg)({cert_front_ticket:A}),(0,L.mE)({event:"preRecg"})),O=yd(yd(yd({},h.current),t===q.W1.CERT_FRONT_TICKET?{certFrontTicket:A}:{}),t===q.W1.CERT_BACK_TICKET?{certBackTicket:A}:{}),h.current=O,d((function(e){return yd(yd({},e),O)})),p([t],O);case 18:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return s.createElement(Nt.A,{vKey:t,regionConfig:n,labelClassName:Ed().label,showLabelName:!1},s.createElement(Ot.A,{vKey:t,trigger:["onChange"],regionConfig:n},s.createElement(bd,{ref:C,multiple:!1,maxCount:1,fileList:A,beforeSelect:O,onChange:N,onRemove:function(){d((function(e){return yd(yd(yd({},e),t===q.W1.CERT_FRONT_TICKET?{certFrontTicket:""}:{}),t===q.W1.CERT_BACK_TICKET?{certBackTicket:""}:{})})),S([])},onFileListChange:function(e){},className:Ed().upload,text:null==n?void 0:n.fieldTitle,accept:"image/*"})))},Sd=(0,s.memo)(Ad),Cd=function(e){var t=e.fieldKey,n=e.regionConfig,o=(0,Y.CM)().isGuestMode,i=(0,s.useState)(),u=(0,r.A)(i,2),d=u[0],p=u[1],m=(0,s.useState)(),f=(0,r.A)(m,2),g=f[0],v=f[1];(0,s.useEffect)((function(){o||(0,Q.queryCrypt)({scene:c.R$}).then(function(){var e=(0,a.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(t),e.next=3,Su(t.key);case 3:n=e.sent,p(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[o]);var b=(0,s.useMemo)((function(){return{jsEncrypt:d,queryCryptVo:g}}),[d,g]);return s.createElement(Cu.Provider,{value:b},"cert_front_ticket"===t&&s.createElement(Sd,{vKey:q.W1.CERT_FRONT_TICKET,regionConfig:n.cert_front_ticket}),"cert_back_ticket"===t&&s.createElement(Sd,{vKey:q.W1.CERT_BACK_TICKET,regionConfig:n.cert_back_ticket}))},Id=(0,s.memo)(Cd),Od=n(40639),Nd=n(75560),wd=n(99617),xd=n.n(wd),kd=function(e){var t=e.data||{},n=t.title,r=t.confirmButton,o=t.instruction,a=t.example,i=t.badCase;return s.createElement(ne.A,{onClose:C.L,title:n,confirmButtonLabel:r,onConfirm:C.L,buttonConfigs:{direction:"vertical"}},s.createElement("div",{className:xd().instruction},o),s.createElement("div",{className:xd().exampleWrap},a.map((function(e){return s.createElement("div",{className:xd().example},s.createElement("div",{className:xd().pic},s.createElement(Ue.Ay,{src:e.url,"aria-hidden":!0,alt:""})),s.createElement("div",{className:xd().text},e.text))}))),s.createElement("div",{className:xd().badCaseWrap},i.map((function(e){return s.createElement("div",{className:xd().badCase},s.createElement("div",{className:xd().pic},s.createElement(Ue.Ay,{src:e.url,"aria-hidden":!0,alt:""})),s.createElement("div",{className:xd().text},e.ok?s.createElement(Od.A,{className:f()(xd().icon,xd().yes),"aria-hidden":!0}):s.createElement(Nd.A,{className:f()(xd().icon,xd().no),"aria-hidden":!0}),e.text))}))))},Pd=(0,s.memo)(kd),Td=n(67294),Dd=n(2467),Rd=n.n(Dd),Ld=function(e){var t=e.regionConfig,n=e.onEdit,r=(null==t?void 0:t.extraInfo)||{},o=r.clearanceOnlyReadButtonText,a=r.onlyReadField,i=void 0===a?[]:a;return s.createElement("div",{className:Rd().readOnlyContainer},s.createElement(Td.A,{regionConfig:t,rightSlot:function(){return s.createElement(F.A,{type:Ea.el.border,className:Rd().editButton,onClick:n},o)},className:Rd().onlyReadLabel}),i.map((function(e){return s.createElement("div",{className:Rd().onlyReadField},s.createElement("span",{className:Rd().fieldName},e.fieldName),s.createElement("span",{className:Rd().fieldValue},e.fieldValue))})))},jd=(0,s.memo)(Ld),Md=n(10223),Bd=n.n(Md),Fd=(0,s.memo)((function(e){var t=e.regionConfig,n=e.onClick,r=(null==t?void 0:t.extraInfo)||{},o=r.blockTitle,a=r.expandButton,i=(0,Y.Gb)(),l=i.queryRecommendBlockResult,c=i.recommendBlockDisplayItem,u=l||{},d=u.key,p=u.recommendBlockDisplayItem,m=(d?p:c)||[];return s.createElement("div",{className:Bd().readOnlyContainer},s.createElement("div",{className:Bd().title},s.createElement("span",{className:Bd().blockTitle},o),s.createElement("span",{onClick:n,role:"button",tabIndex:0,className:Bd().expandButton},a," ",s.createElement(Jt.A,null))),s.createElement("div",{className:Bd().address},m.map((function(e){return s.createElement("div",{className:Bd().addressLine},e.map((function(e){var t=e.text;return s.createElement("span",null,t)})))}))))})),Wd=n(4937),Ud=(0,s.createContext)({});var Vd=n(36234),Hd=n.n(Vd);function Gd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gd(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zd=0,qd="",Yd=(0,s.memo)((function(e){var t=e.components;return null==t?void 0:t.map((function(e,t){return s.createElement(Nt.C,{needShowValidate:!0,vKey:(0,k.yp)(e.fieldKey),regionConfig:e.componentData,className:f()((0,o.A)({},Hd().isolateError,t>0))})}))})),Jd=(0,nr.PA)((function(e){var t,n,a,i,l,c,u,d,p,m,g=e.component,v=e.index,b=(0,_.B)("bec-fe.web-address").t,h=g.fieldKey,E=g.componentKey,y=g.componentLayout,S=g.componentData,I=g.componentAttributes,N=g.componentType,w=g.subComponent;0===v&&(zd=0),zd+=y;var x=(0,Y.Cr)(),P=x.formData,T=x.setAddressPoiInfo,D=x.setMapAddressInfo,R=x.overallExtAttributes,L=x.enterAddressManually,j=x.regionConfig,M=x.isShowPhone,B=x.isEditGuestMode,F=x.setFormData,W=x.setFormDataOrigin,V=x.componentList,H=void 0===V?[]:V,G=x.zipCodeRef,K=x.isInEditPop,z=x.store,J=z.translateCtx,Z=z.cancelTokenSource,Q=z.showSearchBarField,X=z.setTranslateCtx,$=(0,Y.s4)(),ee=$.resetValidateInfo,te=$.resetWarningInfo,ne=(0,Y.Gb)(),re=ne.showRecommendBlock,oe=ne.showRecommendBlockSub,ae=ne.setShowRecommendBlock,ie=ne.setShowRecommendBlockSub,le=ne.setHasShowRecommendBlockSub,se=P.fullName,ce=P.firstName,ue=P.middleName,de=P.lastName,pe=P.additionalName,me=P.additionalFirstName,fe=P.additionalLastName,ge=P.addressInfo,ve=P.lat,be=P.lng,he=P.phoneRegionId,Ee=P.phoneShortName,_e=P.additionalPhoneRegionId,ye=P.additionalPhoneShortName,Ae=P.taxcode,Se=P.additionalTaxcode,Ce=(ge||{}).postCode,Ie=R.mapFieldHideAbtest,Oe=(0,s.useState)(!0),Ne=(0,r.A)(Oe,2),we=Ne[0],xe=Ne[1],ke=(0,s.useRef)(null);ho(ke);var Pe=(0,A.Sz)().isRTL,Te=I||{},De=Te.componentAboveTips,Re=Te.componentBottomTips,Le=Te.componentTitle,je=Te.componentIsRequired,Me=Te.componentSelectButton,Be=Te.componentTopTips,Fe=Te.componentTopTipsColor,We=Te.componentRichTips,Ue=Te.componentRichTopTips,Ve=Te.componentSecureTips,He=Te.componentFloatWindow,Ge=Te.componentFloatWindowTips,Ke=Te.componentHasSplitBar,ze=Te.componentTipModules,qe=Te.isSearchBarField,Ye=Te.isCustomClearanceOnlyReadField,Je=Te.hideWithRecommendBlock,Ze=Te.isFoldGroup,Qe=Te.foldTips;Me&&(qd=Me.selectedComponentKey);var Xe=Ke||(null==S||null===(t=S.extraInfo)||void 0===t?void 0:t.hasSplitBar),$e=N===tu.I.WithSplitInput,et=["front_photo","back_photo"].includes(E)?{display:"inline-block",verticalAlign:"top",width:"170px",marginRight:"16px"}:100!==y?Kd({display:"inline-block",verticalAlign:"top",width:"calc(".concat(y,"% - ").concat(q.wT,"px)")},Pe?{marginLeft:zd<100?"".concat(q.wT,"px"):0,marginRight:100===zd&&y<100?"".concat(q.wT,"px"):0}:{marginRight:zd<100?"".concat(q.wT,"px"):0,marginLeft:100===zd&&y<100?"".concat(q.wT,"px"):0}):Kd({width:"100%",position:"relative"},Xe?{marginTop:"20px"}:{}),tt=Kd(Kd({},S||{}),tr()(g,["componentKey","componentLayout"])),nt=s.useContext(Ud),rt=nt.setComponentList,ot=nt.showCustomClearanceOnlyReadField,at=nt.setShowCustomClearanceOnlyReadField,it=nt.line2Ref,lt=nt.hnRef,st=(0,s.useCallback)((function(e){var t=[],n=[],r=[],o=function e(t){null!=t&&t.length&&t.forEach((function(t){var n;t.fieldKey&&r.push(t.fieldKey),null!==(n=t.subComponent)&&void 0!==n&&n.length&&e(t.subComponent)}))};return function r(a){t=a.map((function(t){var a,i,l,s,c,u,d,p;e&&t.componentKey===E&&null!==(a=t.componentAttributes)&&void 0!==a&&a.componentSelectButton&&(t.componentAttributes.componentSelectButton.selectedComponentKey=e);var m=null===(i=t.componentAttributes)||void 0===i||null===(l=i.componentSelectButton)||void 0===l?void 0:l.selectedComponentKey,f=null===(s=t.componentAttributes)||void 0===s||null===(c=s.componentSelectButton)||void 0===c||null===(u=c.selectButton)||void 0===u||null===(d=u.find((function(t){return t.mappingSubComponent!==e})))||void 0===d?void 0:d.mappingSubComponent;if(m){var g;n.push(m);var v=null===(g=t.subComponent)||void 0===g?void 0:g.find((function(e){return e.componentKey===f}));null!=v&&v.subComponent&&e===m&&o(v.subComponent)}return null!==(p=t.subComponent)&&void 0!==p&&p.length&&r(t.subComponent.filter((function(e){return!m||e.componentKey===m}))),t}))}(H),{newComponentList:t,selectedField:n.join(","),toBeClearArr:r.filter((function(e){return!!e})).map((function(e){return(0,k.yp)(e)}))}}),[E,H]),ct=(0,s.useCallback)((function(e){var t=st(e),n=t.newComponentList,r=t.selectedField,a=t.toBeClearArr;rt(n);var i={};a.forEach((function(e){switch(e){case"name":i.fullName="";break;case"taxcode":case"additionalTaxcode":case"mobile":case"firstName":case"lastName":case"additionalName":case"additionalFirstName":case"additionalLastName":case"taxcodeDate":case"birthDate":i[e]=""}})),Z.cancel("translateAbortOnRadioChange"),Object.keys(J).forEach((function(e){a.includes(e)&&X((0,o.A)({},e,{}))})),F((function(e){return Kd(Kd({},e),{},{selectedField:r},i)}));var l=[q.W1.TAXCODE,q.W1.ADDITIONAL_TAXCODE,q.W1.NAME,q.W1.FIRST_NAME,q.W1.LAST_NAME,q.W1.ADDITIONAL_FIRST_NAME,q.W1.ADDITIONAL_LAST_NAME,q.W1.MOBILE,q.W1.TAXCODE_DATE,q.W1.BIRTH_DATE];ee(l),te(l)}),[E,st,J]);if((0,s.useEffect)((function(){var e=st().selectedField;W((function(t){return Kd(Kd({},t),{},{selectedField:e})}))}),[]),(null!=tt&&null!==(n=tt.extraInfo)&&void 0!==n&&n.isSearchBarField||qe)&&!Q)return null;if(null!=tt&&null!==(a=tt.extraInfo)&&void 0!==a&&a.hideBlock&&!re)return null;if(Je&&!oe)return null;if(Ye&&!ot)return null;if(Ze&&we)return s.createElement(yu,{foldTips:Qe,onClick:function(){return xe(!1)}});var ut=null==w?void 0:w.some((function(e){var t,n;return null===(t=e.componentData)||void 0===t||null===(n=t.extraInfo)||void 0===n?void 0:n.putOutErrorText}));return s.createElement("div",{id:E,style:et},!!De&&s.createElement(O.A,{text:De.tipsContent,color:De.tipsColor,style:De.tipsStyle,className:Hd().headerTips}),s.createElement(Wd.A,{data:null==ze?void 0:ze[tu.Q.AboveTitle]}),!!Le&&s.createElement("div",{className:f()(Hd().componentTitle,(0,o.A)({},Hd().isRequired,je))},Le,!je&&s.createElement("span",{className:Hd().optionaltext},b("optionalText"))),s.createElement(Wd.A,{data:null==ze?void 0:ze[tu.Q.UnderTitle]}),s.createElement(gc.A,{isDialog:!(null===(i=tt.extraInfo)||void 0===i||!i.useInstructionFieldFloatWindow)||!(null==I||!I.useInstructionFieldFloatWindow),isBubble:K,extraInfo:tt.extraInfo||I,className:Hd().fieldTip,others:{field_key:h}}),1===(null==Me?void 0:Me.buttonType)&&!(null==Me||null===(l=Me.selectButton)||void 0===l||!l.length)&&s.createElement("div",{className:Hd().componentSelectButton},!(null==Me||null===(c=Me.selectTips)||void 0===c||!c.trim())&&s.createElement("div",{className:Hd().text},Me.selectTips),s.createElement(mc.A,{onChange:function(e){return ct(e)},value:Me.selectedComponentKey,pageElSn:223047,others:{multi_field_key:Me.selectedComponentKey}},Me.selectButton.map((function(e){return s.createElement(fc.A,{index:v,key:e.mappingSubComponent,value:e.mappingSubComponent,ariaLabel:e.selectText},e.selectText)})))),!!Be&&s.createElement(O.A,{theme:O.S.Orange,color:Fe,text:Be,linkText:Ge,linkPageElSn:230438,className:Hd().componentTopTips,onClick:function(){(0,C.P)({popupNode:s.createElement(vc.A,{onClose:function(){return(0,C.L)(!0)}})})}}),!(null==We||!We.length)&&s.createElement(U.A,{data:We,onClick:function(){(0,C.P)({popupNode:s.createElement(Pd,{data:He})})}}),!!Ve&&s.createElement("div",{className:Hd().componentSecureTips},s.createElement(eu.A,{className:Hd().componentSecureTipsIcon,"aria-hidden":!0}),Ve),!!Ue&&s.createElement(O.A,{color:Fe,richText:Ue,className:Hd().componentTopTips}),2===(null==Me?void 0:Me.buttonType)&&!(null==Me||null===(u=Me.selectButton)||void 0===u||!u.length)&&s.createElement(oi.tU,{classConfig:{wrapCls:Hd().tabsWrapCls},pageSplideProps:{customArrows:s.createElement("div",{className:"splide__arrows"},s.createElement("div",{className:"splide__arrow splide__arrow--prev",style:{width:0,height:0,overflow:"hidden"}}),s.createElement("div",{className:"splide__arrow splide__arrow--next",style:{width:0,height:0,overflow:"hidden"}}))},data:null==Me||null===(d=Me.selectButton)||void 0===d?void 0:d.map((function(e){return{label:s.createElement("div",{className:Hd().tabItem},e.selectText,Me.selectedComponentKey===e.mappingSubComponent&&s.createElement(s.Fragment,null,!e.isOptional&&s.createElement("span",{className:Hd().requiredText},"*"),!!e.isOptional&&s.createElement("span",{className:Hd().optionaltext},b("optionalText")))),key:e.mappingSubComponent}})),activeKey:Me.selectedComponentKey,pageElSn:230441,trackingInfoFn:function(e){return{multi_field_key:e.key}},onChange:function(e){return ct(e.key)}}),s.createElement(Wd.A,{data:null==ze?void 0:ze[tu.Q.AboveInput]}),null!=w&&w.length?w.filter((function(e){return null!=Me&&Me.selectedComponentKey?Me.selectedComponentKey===e.componentKey:e})).map((function(e,t){return s.createElement(Jd,{component:e,index:t})})):s.createElement(s.Fragment,null,"region1"===h&&s.createElement(ri,{regionConfig:tt}),"name"===h&&s.createElement(ll,{value:se,regionConfig:tt}),"first_name"===h&&s.createElement(dl,{value:ce,regionConfig:tt}),"middle_name"===h&&s.createElement(El,{value:ue,regionConfig:tt}),"last_name"===h&&s.createElement(gl,{value:de,regionConfig:tt}),"additional_name"===h&&s.createElement(Ao,{value:pe,regionConfig:tt}),"additional_first_name"===h&&s.createElement(Oo,{value:me,regionConfig:tt}),"additional_last_name"===h&&s.createElement(ko,{value:fe,regionConfig:tt}),"address_line1"===h&&s.createElement($o,{setAddressPoiInfo:T,onSelectCb:function(){var e,t;null==it||null===(e=it.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e)}}),"address_line2"===h&&s.createElement(ra,{ref:it,regionConfig:tt}),"address_line3"===h&&s.createElement(la,{regionConfig:tt}),"street_name"===h&&s.createElement(Ra,{setAddressPoiInfo:T,onSelectCb:function(){var e,t;null==lt||null===(e=lt.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e)}}),"street_type"===h&&s.createElement(fu,{setAddressPoiInfo:T}),"house_number"===h&&s.createElement(ba,{ref:lt,setAddressPoiInfo:T,isSplit:$e}),"post_code"===h&&s.createElement(Zc,{postCode:Ce,regionConfig:tt,ref:G}),"region3"===h&&(!Ie||L||!L&&!ve&&!be)&&s.createElement(s.Fragment,null,null!=j&&j.region2?s.createElement(s.Fragment,null,null!==(p=tt.extraInfo)&&void 0!==p&&p.isMultiSelection?s.createElement(s.Fragment,null,null!==(m=tt.extraInfo)&&void 0!==m&&m.isReverse?s.createElement(sc,{ref:ke,isFormV2:!0}):s.createElement(lo,{ref:ke,isFormV2:!0})):s.createElement($l,{regionConfig:j,isFormV2:!0})):s.createElement(s.Fragment,null,!(null==j||!j.region3)&&s.createElement(As,{ref:ke}))),"combined_region"===h&&s.createElement(po,{ref:ke}),"mobile"===h&&s.createElement(Ql,{isShowPhone:M,phoneRegionId:he,phoneShortName:Ee,isEditGuestMode:B,regionConfig:tt}),"additional_mobile"===h&&s.createElement(Ql,{isShowPhone:M,phoneRegionId:_e,phoneShortName:ye,isEditGuestMode:B,regionConfig:tt,isAdditionalMobile:!0}),"taxcode"===h&&s.createElement(pc,{value:Ae,regionConfig:tt,others:{multi_field_key:qd}}),"additional_taxcode"===h&&s.createElement(au,{value:Se,regionConfig:tt}),"date_group"===h&&s.createElement(rl,{regionConfig:j}),"map_poi"===h&&s.createElement(Ul,{regionConfig:tt,onSuccess:function(e){var t,n,r;D(e),null===(t=ke.current)||void 0===t||t.setIsBack(!1),null===(n=ke.current)||void 0===n||null===(r=n.setSelectedOption)||void 0===r||r.call(n,(function(t){return Kd(Kd(Kd({},t),e.region_name3?{}:(0,o.A)({},Gt.City,null)),e.region_name4?{}:(0,o.A)({},Gt.District,null))}))}}),"search_bar"===h&&s.createElement(wa,{setAddressPoiInfo:T}),"birth_date"===h&&s.createElement(Ji,{regionConfig:tt}),"taxcode_date"===h&&s.createElement($i,{regionConfig:tt}),["cert_front_ticket","cert_back_ticket"].includes(h)&&s.createElement(Id,{fieldKey:h,regionConfig:j}),"custom_clearance_only_read"===h&&!ot&&s.createElement(jd,{regionConfig:tt,onEdit:function(){return at(!0)}}),"recommend_block"===h&&re&&s.createElement(Fd,{regionConfig:tt,onClick:function(){ae(!1),ie(!0),le(!0)}})),!!ut&&s.createElement(Yd,{components:w}),!!$e&&s.createElement(Yd,{components:[g]}),!!Re&&s.createElement(O.A,{text:Re.tipsContent,color:Re.tipsColor,style:Re.tipsStyle,className:Hd().headerTips}),s.createElement(Wd.A,{data:null==ze?void 0:ze[tu.Q.UnderInput]}),s.createElement(bu,tt.extraInfo))})),Zd=(0,V.A)((0,M.W4)())((function(){var e=(0,Y.Cr)(),t=e.componentList,n=void 0===t?[]:t,a=e.setConfig,i=e.regionId1,l=(0,s.useState)(n),c=(0,r.A)(l,2),u=c[0],d=c[1],p=(0,s.useState)(!1),m=(0,r.A)(p,2),f=m[0],g=m[1];(0,s.useEffect)((function(){a((function(e){return Kd(Kd({},e),{},(0,o.A)({},i,Kd(Kd({},e[i]),{},{fieldList:(0,Z.QD)(u)})))}))}),[u,i,a]),(0,s.useEffect)((function(){d(n)}),[n]);var v=(0,s.useRef)(null),b=(0,s.useRef)(null);return s.createElement(Ud.Provider,{value:{componentList:u,setComponentList:d,showCustomClearanceOnlyReadField:f,setShowCustomClearanceOnlyReadField:g,line2Ref:v,hnRef:b}},u.map((function(e,t){return s.createElement(Jd,{component:e,index:t})})))})),Qd=n(58699),Xd=n.n(Qd),$d=["phoneCode","phoneRegionId","phoneShortName","mobile","fullName"];function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}v().extend(h());var np,rp=(0,s.forwardRef)((function(e,t){var n,i=(0,Y.CM)(),d=i.isEdit,m=i.isPop,g=void 0===m||m,v=i.isInPop,b=i.hasMultipleAddress,h=void 0===b||b,j=i.addressItem,M=i.defaultAddressItem,B=i.defaultAddressInfo,F=i.isGuestMode,W=i.parentOrderSn,U=i.localInfo,V=i.isEnterSubmit,H=void 0===V||V,G=i.onSuccessCb,K=i.onFailCb,J=i.needSubmitToast,X=void 0===J||J,$=i.onSuccessToast,te=i.styleConfig,ne=i.allowCloseOnEsc,re=i.isCardAddress,oe=i.isShowSetDefault,ae=void 0===oe||oe,ie=i.initComponentList,le=i.initRegionConfig,se=i.initRegionTips,ce=i.initRegionTipsColor,ue=i.addressDisplayType,de=i.initMultiSelectItemMap,pe=i.initOverallExtAttributes,me=i.initPageAttributes,fe=i.initAddressRegionFillBackSourceType,ge=i.initAddressRecommendInfo,ve=i.addrScene,be=i.editAddressScene,he=i.onFormRender,Ee=i.onEditConfigReady,_e=i.interactionMonitor,ye=i.extraRequestInfo,Ae=(0,A.Sz)().localInfo,Se=null!=Ae&&Ae.region?Ae:U,Ce=(0,Y.s4)(),Ne=Ce.validateValue,we=Ce.validateValueBack,xe=Ce.warningValueBack,ke=Ce.validateLine1Change,Pe=Ce.warningValueFront,Te=Ce.resetValidateInfo,De=(0,_.B)("bec-fe.web-address").t,Re=(0,Y.XQ)(),Le=Re.validateNotDeliveredList,Me=Re.handleShowNotDeliveredPop,Be=Re.getEditCompareConfig,We=D({storeCtor:je}),Ue=We.isFinish,Ve=We.storeRef,He=1===fe;(0,s.useEffect)((function(){He&&S.A.success(De("retainPop.savedContentRestored"))}),[He]);var Ge=(0,s.useMemo)((function(){if(d||He){var e=tp(tp({},(0,Z._W)()),(0,Z.ST)({item:He?B:j}));return{initFormData:e,isShowSetDefault:!e.isDefault&&!!ae}}return null!=M&&M.regionId1?{initFormData:tp(tp({},(0,Z._W)()),(0,Z.ST)({item:M,isEdit:!1,editAddressScene:be})),isShowSetDefault:!1}:{initFormData:(0,Z._W)(),isShowSetDefault:h&&!!ae}}),[d,j,M,h,ae]),Ke=Ge.initFormData,ze=Ge.isShowSetDefault,qe=(0,s.useRef)(!1),Ye=(0,s.useState)(Ke),Je=(0,r.A)(Ye,2),Ze=Je[0],Xe=Je[1],$e=(0,s.useCallback)((function(e){Xe(e),qe.current=!0}),[Xe]),et=Ze.addressId,tt=Ze.addressSnapshotId,nt=Ze.addressSnapshotSn,rt=Ze.phoneCode,ot=Ze.additionalPhoneCode,at=Ze.mobile,it=Ze.additionalMobile,lt=Ze.isDefault,st=Ze.addressInfo,ct=st||{},dt=ct.addressLine1,pt=ct.streetType,gt=ct.streetName,vt=ct.houseNumber,bt=ct.addressLine2,ht=ct.addressLine3,Et=ct.regionId1,_t=ct.regionName4,yt=ct.region4IsInformal,At=(te||{}).isNeedMobile,St=void 0===At||At,Ct=(0,s.useMemo)((function(){return d?!!St||!!at:!!St}),[d,St,at]),Ot=(0,s.useMemo)((function(){return!(!F||null==M||!M.regionId1)}),[F,null==M?void 0:M.regionId1]),Nt=(0,s.useMemo)((function(){return d||(null==M?void 0:M.regionId1)||!(null!=B&&B.regionId1)}),[d,null==M?void 0:M.regionId1,null==B?void 0:B.regionId1]),wt=(0,s.useRef)({hasInit:!1}),xt=(0,s.useRef)({isLock:!1}),kt=null==Se?void 0:Se.region,Pt=(0,s.useMemo)((function(){return Et||kt}),[Et,kt]),Tt=(0,s.useState)(null),Dt=(0,r.A)(Tt,2),Rt=Dt[0],Lt=Dt[1],jt=(0,s.useState)(!1),Mt=(0,r.A)(jt,2),Bt=Mt[0],Ft=Mt[1],Wt=(0,s.useState)(!1),Ut=(0,r.A)(Wt,2),Vt=Ut[0],Ht=Ut[1],Gt=(0,s.useState)(null),Kt=(0,r.A)(Gt,2),zt=Kt[0],qt=Kt[1],Yt=(0,s.useState)(""),Jt=(0,r.A)(Yt,2),Zt=Jt[0],Qt=Jt[1],Xt=(0,s.useRef)({data:null}),$t=(0,s.useRef)(null),en=(0,s.useRef)(null),tn=(0,s.useRef)(),nn=(0,s.useMemo)((function(){return{isEdit:d,isGuestMode:!!F,isCardAddress:!!re,regionId1:Pt,addrScene:ve,editAddressScene:be}}),[d,F,re,Pt,ve,be]),rn=!(!g&&!v),on=ee({region:Pt,initComponentList:ie,initRegionConfig:le,initRegionTips:se,initRegionTipsColor:ce,initMultiSelectItemMap:de,initOverallExtAttributes:pe,initPageAttributes:me,initAddressRecommendInfo:ge,isCardAddress:re,isEdit:d,addressSnapshotId:F?(null==j?void 0:j.addressSnapshotId)||(null==M?void 0:M.addressSnapshotId):tt,addressSnapshotSn:F?(null==j?void 0:j.addressSnapshotSn)||(null==M?void 0:M.addressSnapshotSn):nt,setFormData:Xe,isGuestMode:F,parentOrderSn:W,editAddressScene:be,addrScene:ve,interactionMonitor:_e,onEditConfigReady:Ee,extraRequestInfo:ye}),an=on.componentList,ln=on.regionConfig,sn=on.regionTips,cn=on.regionTipsColor,un=on.multiSelectItemMap,dn=on.overallExtAttributes,pn=on.pageAttributes,mn=on.addressRecommendInfo,fn=on.recommendBlockDisplayItem,gn=on.hasConfigError,vn=on.refreshRegionConfig,bn=on.setConfig,hn=on.regionConfigLoading,En=on.abMap,_n=on.matchErrors,yn=dn||{},An=yn.addressEditPageOptimizationAbtest,Sn=yn.securityTextTypeAbtest,Cn=yn.ukHighlightSearchBarAbtest,In=(0,s.useState)(!0),On=(0,r.A)(In,2),Nn=On[0],wn=On[1],xn=R(null==ln?void 0:ln.name),kn=(0,r.A)(xn,2),Pn=kn[0],Tn=kn[1],Dn=R(null==ln?void 0:ln.mobile),Rn=(0,r.A)(Dn,2),Ln=Rn[0],jn=Rn[1],Mn=R(d?(null==ln?void 0:ln.region4)&&(!yt||!!_t):(null==ln?void 0:ln.region4)&&!(null!==(n=ln.region4.extraInfo)&&void 0!==n&&n.hideWhenNoValue)),Bn=(0,r.A)(Mn,2),Fn=Bn[0],Wn=Bn[1],Un=(0,s.useCallback)((function(e){var t=e||{},n=t.validateKeys,r=t.needTrim,o=[q.W1.NAME,q.W1.FIRST_NAME,q.W1.LAST_NAME,q.W1.ADDITIONAL_NAME,q.W1.ADDRESS_LINE1,q.W1.ADDRESS_LINE2,q.W1.STATE,q.W1.CITY,q.W1.DISTRICT,q.W1.ZIP_CODE,q.W1.SET_DEFAULT].concat(Ct?[q.W1.MOBILE]:[]);return Be({validateKeys:Array.isArray(n)?n:o,prevData:Ke,curData:Ze,needTrim:r})}),[Ct,Ze]),Vn=(0,s.useCallback)((function(e){var t,n,r,o=(e||{}).needTrim,a=void 0===o||o,i=Ze.fullName,l=Ze.firstName,s=Ze.lastName,c=Ze.middleName,d=Ze.additionalName,p=Ze.additionalFirstName,m=Ze.additionalLastName,f=Ze.mobile,g=Ze.additionalMobile,v=Ze.phoneCode,b=Ze.phoneRegionId,h=Ze.phoneShortName,E=Ze.additionalPhoneRegionId,_=Ze.addressInfo,y=Ze.isDefault,A=Ze.taxcode,S=Ze.additionalTaxcode,C=Ze.selectedField,I=Ze.taxcodeDate,O=Ze.birthDate,N=Ze.lat,w=Ze.lng,x=Ze.locationId,k=Ze.certFrontTicket,P=Ze.certBackTicket,T=_||{},D=T.regionId1,R=T.regionId2,L=T.regionId3,j=T.regionId4,M=T.regionName1,B=T.multilingualRegionName1,F=T.regionName2,W=T.regionFullName2,U=T.regionName3,V=T.regionName4,H=T.postCode,G=T.addressLine1,K=T.houseNumber,z=T.streetName,Y=T.streetType,J=T.addressLine2,Q=T.addressLine3,X=(null==ln||null===(t=ln.post_code)||void 0===t||null===(n=t.extraInfo)||void 0===n||null===(r=n.postCodeDisplayRule)||void 0===r?void 0:r.prefix)||"",$=(0,u.bo)(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp({mobile:(0,u.sP)(f),postCode:H&&!H.startsWith(X)?X+H:H,addressLine1:G,houseNumber:K,streetName:z,streetType:Y,addressLine2:J,addressLine3:Q,regionName3:U,regionName4:V},A?{taxcode:A,selectedField:C}:{}),S?{additionalTaxcode:S}:{}),d?{additionalName:d}:{}),i?{fullName:i}:{}),l?{firstName:l}:{}),s?{lastName:s}:{}),p?{additionalFirstName:p}:{}),m?{additionalLastName:m}:{}),c?{middleName:c}:{}),C?{selectedField:C}:{}),(0,Z.dY)({taxcodeDate:I,birthDate:O},ln)),k?{certFrontTicket:k}:{}),P?{certBackTicket:P}:{}),null!=ln&&ln[q.rJ[q.W1.MAP_POI]]?{lat:N,lng:w,locationId:x}:{}),g?{additionalMobile:g}:{}),E?{additionalPhoneRegionId:+E}:{}),{needTrim:a});return tp({regionId1:"".concat(D),regionId2:"".concat(R),regionId3:"".concat(L),regionId4:"".concat(j||""),regionName1:B||M,regionName2:F,regionFullName2:W,isDefault:+y,phoneCode:v,phoneRegionId:+b,phoneShortName:h},$)}),[Ze,ln]),Hn=(0,s.useCallback)((function(e){Xt.current.data=e}),[]),Gn=(0,s.useCallback)((function(e){tn.current=e}),[]),Kn=(0,s.useCallback)((function(e,t){var n,r,a,i,l,s,d,p,m=t||{},f=m.hideValidErr,g=m.needTrim,v=void 0===g||g,b=m.validateValues,h=m.validateText,_=m.needShowErrorPop,A=void 0!==_&&_,S=m.hasClickSubmit,C=void 0!==S&&S,I=m.isClose,O=void 0!==I&&I,N=m.needShowSearchBarField,w=void 0===N||N,x=m.customValidateVal;if(w){var P=Ve.current||{},T=P.showSearchBarField,D=P.setShowSearchBarField,R=P.setIsSearchBarError;Cn&&C&&!T?R(!0):D(!0)}var j=b||Vn({needTrim:v}),M=j.phoneCode,B=j.phoneRegionId,F=j.phoneShortName,W=j.mobile,U=j.additionalMobile,V=j.fullName,H=j.firstName,G=j.lastName,K=j.middleName,z=j.additionalName,Y=j.additionalFirstName,J=j.additionalLastName,Z=j.addressLine1,X=j.houseNumber,$=j.streetName,ee=j.streetType,te=j.regionId1,ne=j.regionId2,oe=j.regionId3,ae=j.regionId4,ie=j.regionName2,le=j.regionName3,se=j.regionName4,ce=j.postCode,ue=j.taxcode,de=j.additionalTaxcode,pe=j.taxcodeDate,me=j.birthDate,fe=j.certFrontTicket,ge=j.certBackTicket;C&&function(e){if(tn.current){var t=(0,u.mu)((0,k.wu)(tn.current),e,["addressLine1","houseNumber","streetName"]),n=(0,u.mu)((0,k.wu)(tn.current),e,["addressLine2"]),r=(0,u.mu)((0,k.wu)(tn.current),e,["addressLine3"]);t||(0,y.E0)({page_el_sn:241061}),(0,y.E0)({page_el_sn:243343,addr_refer_input:n?1:0}),(0,y.E0)({page_el_sn:243344,addr_apart_input:r?1:0})}}(j);var be,he,Ee,_e,ye=Ct?(0,o.A)({},q.W1.MOBILE,M&&B&&F&&W):{},Ae=null!=ln&&ln[q.rJ[q.W1.HOUSE_NUMBER]]?(0,o.A)({},q.W1.HOUSE_NUMBER,X):{},Se=null!=ln&&ln[q.rJ[q.W1.STREET_NAME]]?(0,o.A)({},q.W1.STREET_NAME,$):{},Ce=null!=ln&&ln[q.rJ[q.W1.STREET_TYPE]]?(0,o.A)({},q.W1.STREET_TYPE,ee):{},Ie=null!=ln&&ln[q.rJ[q.W1.ADDRESS_LINE1]]?(0,o.A)({},q.W1.ADDRESS_LINE1,Z):{},Oe=null!=ln&&ln[q.rJ[q.W1.ADDRESS_LINE2]]?(0,o.A)({},q.W1.ADDRESS_LINE2,bt):{},we=null!=ln&&ln[q.rJ[q.W1.ADDRESS_LINE3]]?(0,o.A)({},q.W1.ADDRESS_LINE3,ht):{},xe=null!=ln&&ln[q.rJ[q.W1.ADDITIONAL_NAME]]?(0,o.A)({},q.W1.ADDITIONAL_NAME,z):{},Te=null!=ln&&ln[q.rJ[q.W1.TAXCODE]]?(0,o.A)({},q.W1.TAXCODE,ue):{},De=null!=ln&&ln[q.rJ[q.W1.ADDITIONAL_TAXCODE]]?(0,o.A)({},q.W1.ADDITIONAL_TAXCODE,de):{},Re=null!=ln&&ln[q.rJ[q.W1.NAME]]?(0,o.A)({},q.W1.NAME,V):{},Le=null!=ln&&ln[q.rJ[q.W1.FIRST_NAME]]?(0,o.A)({},q.W1.FIRST_NAME,H):{},je=null!=ln&&ln[q.rJ[q.W1.LAST_NAME]]?(0,o.A)({},q.W1.LAST_NAME,G):{},Me=null!=ln&&ln[q.rJ[q.W1.ADDITIONAL_FIRST_NAME]]?(0,o.A)({},q.W1.ADDITIONAL_FIRST_NAME,Y):{},Be=null!=ln&&ln[q.rJ[q.W1.ADDITIONAL_LAST_NAME]]?(0,o.A)({},q.W1.ADDITIONAL_LAST_NAME,J):{},Fe=null!=ln&&ln[q.rJ[q.W1.MIDDLE_NAME]]?(0,o.A)({},q.W1.MIDDLE_NAME,K):{},We=null!=ln&&ln[q.rJ[q.W1.ADDITIONAL_MOBILE]]?(0,o.A)({},q.W1.ADDITIONAL_MOBILE,U):{},Ue=null!=ln&&ln[q.rJ[q.W1.TAXCODE_DATE]]?(0,o.A)({},q.W1.TAXCODE_DATE,pe):{},He=null!=ln&&ln[q.rJ[q.W1.BIRTH_DATE]]?(0,o.A)({},q.W1.BIRTH_DATE,me):{},Ge=null!=ln&&ln[q.rJ[q.W1.CERT_FRONT_TICKET]]?(n={},(0,o.A)(n,q.W1.CERT_FRONT_TICKET,fe),(0,o.A)(n,q.W1.CERT_BACK_TICKET,ge),n):{},Ke=null!=ln&&ln[q.rJ[q.W1.COMBINED_REGION]]?(0,o.A)({},q.W1.COMBINED_REGION,so({regionConfig:ln,showRegion4:Fn,params:j})):{},ze=tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp(tp((d={},(0,o.A)(d,q.W1.COUNTRY_REGION,te),(0,o.A)(d,q.W1.STATE,(null==ln||null===(r=ln.region2)||void 0===r?void 0:r.enterType)===c.UE.SELECT?ne:ie),(0,o.A)(d,q.W1.CITY,null!=ln&&null!==(a=ln.region3)&&void 0!==a&&null!==(i=a.extraInfo)&&void 0!==i&&i.isMultiSelection?oe:le),(0,o.A)(d,q.W1.DISTRICT,null!=ln&&null!==(l=ln.region4)&&void 0!==l&&null!==(s=l.extraInfo)&&void 0!==s&&s.isMultiSelection?ae:se),(0,o.A)(d,q.W1.ZIP_CODE,ce),d),ye),Ae),Se),Ce),Ie),Oe),we),xe),Te),De),Re),Le),je),Me),Be),Fe),We),Ue),He),Ge),Ke),qe=Array.isArray(e)?e.reduce((function(e,t){return tp(tp({},e),{},(0,o.A)({},t,ze[t]))}),{}):ze,Ye=[],Je=Object.keys(qe).reduce((function(e,t){var n,r,o=!1,a=null==ln?void 0:ln[null===q.rJ||void 0===q.rJ?void 0:q.rJ[t]];t===q.W1.TAXCODE&&null!==(n=$t.current)&&void 0!==n&&n.finalTaxCodeConfig&&(a=null===(r=$t.current)||void 0===r?void 0:r.finalTaxCodeConfig);if(t===q.W1.NAME&&(a=Pn),t===q.W1.ADDRESS_LINE1)o=!0;else{var i,l=Ne({val:x||qe[t],name:t,needShowValidate:!f,needRequired:!(null===(i=a)||void 0===i||!i.isRequired),regionConfig:a,hasClickSubmit:C,formData:tp(tp({},Ze),j),validateText:h});(o=null==l?void 0:l.valid)||Ye.push(tp(tp({},l),{},{key:t,val:qe[t]}))}return Pe({val:qe[t],name:t,regionConfig:a,formData:tp(tp({},Ze),j)}),o&&e}),!0),Qe=null===(p=$t.current)||void 0===p||!p.validRadioSelected||$t.current.validRadioSelected(),Xe=!0;if(Object.keys(qe).includes(q.W1.ADDRESS_LINE1)){var $e,et=ke({val:qe[q.W1.ADDRESS_LINE1],hasBlur:!0,needShowValidate:!f,regionId1:te,regionConfig:null==ln?void 0:ln[null===q.rJ||void 0===q.rJ?void 0:q.rJ[q.W1.ADDRESS_LINE1]],hasClickSubmit:C,formData:tp(tp({},Ze),j)});if((Xe=et.isValid)||Ye.push(tp(tp({},et),{},{key:q.W1.ADDRESS_LINE1,val:qe[q.W1.ADDRESS_LINE1]})),Lt(et.errorPopType),Je&&A&&et.errorPopType&&!O)Ft(!0),(0,L.mE)({event:"addressEditShowErrorPop",data:(0,u.Jm)({val:null===($e=qe[q.W1.ADDRESS_LINE1])||void 0===$e?void 0:$e.length,errorPopType:et.errorPopType})})}Xe&&1===(null==Ye?void 0:Ye.length)&&((null===(be=Ye[0])||void 0===be?void 0:be.key)!==q.W1.MOBILE||"required"!==(null===(he=Ye[0])||void 0===he?void 0:he.errorType)||O||(null===(Ee=Ye[0])||void 0===Ee?void 0:Ee.warningText)&&(0,E.A)(null===(_e=Ye[0])||void 0===_e?void 0:_e.warningText));var tt=Je&&Qe&&Xe;if(!re&&!tt&&(C||O)){var nt=Ye.map((function(e){return{field_key:e.key,user_enter_text:e.val,regex_key:e.val?e.errorType:"non_regex",msg:e.warningText,can_submit:!1}}));Q.interceptReport(tp(tp({intercept_fields:nt,region_id1:te,selected_field:j.selectedField,addr_scene:ve},C?{report_type:0}:{}),O?{report_type:1}:{}))}return tt}),[Ct,Vn,ln,Ze,Pn]),zn=(0,s.useCallback)((function(e,t){Kn(e,tp({needTrim:!1,validateValues:t},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})),Le({validateKeys:e,prevData:Ke,curData:Ze})}),[Kn,Ze]),qn=(0,s.useRef)(!1);Ie({addrScene:ve,defaultAddressInfo:B,isGuestMode:F,setFormData:$e,manualCheckValid:zn,validateValueBack:we,warningValueBack:xe,resetValidateInfo:Te,hasSubmited:qn});var Yn=(0,s.useCallback)((function(){xt.current.isLock=!0,(0,x.xc)()}),[]),Jn=(0,s.useCallback)((function(){xt.current.isLock=!1,(0,x.W$)()}),[]),Zn=(0,s.useCallback)((function(){return xt.current.isLock}),[]);(0,s.useEffect)((function(){(0,L.mE)({event:"addressEditV2Loaded",data:(0,u.Jm)(tp({isCardAddress:re?1:0,version:c.xv},nn))})}),[]);var Qn=(0,s.useCallback)((function(e,t){var n,r=t||{},o=r.disableToast,a=r.isSaveDraft;X&&qe.current&&!o&&($?S.A.success($):(n=De(d?re?"cardEditSuccess":Sn?"editSuccessV2":"editSuccess":Sn?"addSuccessV2":"addSuccess"),a&&(n=De("retainPop.saved")),S.A.success(n)));return null==G?void 0:G(e)}),[X,d,G,Sn]),Xn=(0,s.useCallback)((function(e){var t=e.isValidError;!X||t?null==K||K(e):(0,E.A)(De(d?"editError":"addError"))}),[X,K]),$n=(0,s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e||{}).region,n=!1;return Object.keys(e).forEach((function(t){var r,o,a;switch(t){case"postCode":a=q.W1.ZIP_CODE;break;case"region2":a=q.W1.STATE;break;case"region3":a=q.W1.CITY;break;case"region4":a=q.W1.DISTRICT;break;case"region":a="";break;default:a=t}a&&(we({val:"",name:a,validateText:null===(r=e[t])||void 0===r?void 0:r.invalidMsg}),null!==(o=e[t])&&void 0!==o&&o.invalidMsg&&(n=!0))})),t&&(we({val:"",name:q.W1.STATE,validateText:null==t?void 0:t.invalidMsg}),we({val:"",name:q.W1.CITY,validateText:null==t?void 0:t.invalidMsg}),we({val:"",name:q.W1.DISTRICT,validateText:null==t?void 0:t.invalidMsg})),n||t}),[]),er=function(e,t){var n=Kn(e,t),r=(t||{}).hideValidErr;return n&&!Me({prevData:Ke,curData:Ze})||(!r&&(0,Oe.N)(rn),!1)},tr=(0,s.useMemo)((function(){return 0!==Object.keys(te||{}).length}),[te]),nr=function(){var e=(0,a.A)(l().mark((function e(t){var n,r,a,i,m,f,g,v,b,h,_,y,A,S,I,O,N,w,T,D,R,j,M,B,U,V,H,G,K,Y,J,Z,X,$,ee,te,ne,oe,ae,ie,le,se,ce,de,pe,me,fe,ge,he,Ee;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m=(pn||{}).unmodifyInterceptMsg,!(f=void 0===m?"":m)||qe.current||qn.current){e.next=5;break}return(0,E.A)(f),qn.current=!0,e.abrupt("return");case 5:if(qn.current=!0,v=(g=t||{}).needShowErrorPop,b=void 0===v||v,h=g.needCorrect,_=void 0===h||h,y=g.correctParams,A=g.acceptStatus,S=g.onSuccessInnerCb,I=g.hideValidErr,O=g.isSaveDraft,N=void 0!==O&&O,w=Vn({needTrim:!1}),(0,L.mE)({event:"addressEditStartSubmitV2",data:(0,u.Jm)(nn)}),!!N||er(void 0,{validateValues:w,needShowErrorPop:b,hideValidErr:I,hasClickSubmit:!0,needShowSearchBarField:!(null!==(n=ln.search_bar)&&void 0!==n&&null!==(r=n.extraInfo)&&void 0!==r&&r.displayMap&&null!==(a=Ve.current)&&void 0!==a&&a.showOnlyReadSearchBar)})){e.next=14;break}return(0,L.mE)({event:"addressEditFrontValidateError",data:(0,u.Jm)((0,u.g3)(w))}),(0,P.Tn)({op:P.oO.Impr,page_el_sn:223092,save_result:1,save_type:d?2:1}),e.abrupt("return");case 14:if(tr||!re){e.next=17;break}return(0,L.mE)({event:"formStyleUnloaded",data:(0,u.Jm)((0,u.g3)(w))}),e.abrupt("return");case 17:if(!xt.current.isLock){e.next=19;break}return e.abrupt("return");case 19:return Yn(),T=Vn(),D=T.phoneCode,R=T.phoneRegionId,j=T.phoneShortName,M=T.mobile,B=T.fullName,U=(0,p.A)(T,$d),V=Ct?{phone_code:D,phone_region_id:+R,phone_short_name:j,mobile:M}:{},H=null!==(i=Ze.pickUp)&&void 0!==i&&i.pickUpPointId?(0,k.qi)(Ze.pickUp):{},G=tp(tp(tp(tp(tp(tp({},Object.keys(U).reduce((function(e,t){return tp(tp({},e),{},(0,o.A)({},(0,k.Su)(t),U[t]))}),{})),V),B?{name:B}:{}),y||{}),A?{accept_status:A}:{}),H),d&&(G.address_id=et),(K=be===c.FC.TaxCode)&&W&&(G.parent_order_sn=W),Y=!(!d||G.address_id&&"0"!==G.address_id&&!K||!tt&&!nt),G.address_snapshot_id=tt,G.address_snapshot_sn=nt,G.edit_address_scene=be,G.addr_scene=ve||(re?c.mp.BillingScene:c.mp.DefaultScene),q.CM.forEach((function(e){G[e]||delete G[e]})),G.need_correct=!K&&_,G.report_version=c.xv,Xt.current.data&&(G.address_poi_info=Xt.current.data),tn.current&&(G.map_address_info=tn.current),(0,P.Tn)({op:P.oO.Event,sub_op:"save_address",is_create:d?0:1}),e.next=41,Q.saveAddress(G,{isEdit:d,isGuestMode:F,isSnapShotEditAddress:Y,useCardUrl:re,addressDisplayType:ue,isEditTaxCodeScene:K,isSaveDraft:N});case 41:if(J=e.sent,nn.params=(0,u.g3)(G),(0,P.Tn)({op:P.oO.Impr,page_el_sn:221449,is_suc:null!=J&&J.success?1:0}),null!=J&&J.success){e.next=52;break}return(ne=$n(null==J||null===(Z=J.result)||void 0===Z?void 0:Z.paramCheckResult))?(!I&&(0,Oe.N)(rn),(0,L.mE)({event:"addressEditSubmitBackValidateError",data:(0,u.Jm)(nn)})):null!=J&&null!==(X=J.result)&&void 0!==X&&null!==($=X.addressCorrectResult)&&void 0!==$&&$.title?(oe=J.result.addressCorrectResult,b&&(qt(oe),Ht(!0)),(0,L.mE)({event:"addressEditSubmitBackCorrect",data:(0,u.Jm)(nn)})):(0,L.mE)({event:"addressEditSubmitBackUnknownError",data:(0,u.Jm)(tp(tp({},nn),{},{res:J}))}),(0,P.Tn)({op:P.oO.Impr,page_el_sn:223092,save_result:2,save_type:d?2:1}),ae={isValidError:!!ne||!(null==J||null===(ee=J.result)||void 0===ee||null===(te=ee.addressCorrectResult)||void 0===te||!te.title)},Jn(),null==Xn||Xn(ae),e.abrupt("return");case 52:if((0,L.mE)({event:"addressEditSubmitSuccessV2",data:(0,u.Jm)(nn)}),(0,P.Tn)({op:P.oO.Impr,page_el_sn:223092,save_result:0,save_type:d?2:1}),ie=J.result,le=ie.addressId,se=ie.addressSnapshotId,ce=ie.addressSnapshotSn,de=ie.displayMobile,pe=ie.isShowAddressConfirmAlert,me=ie.addressCorrectionInfo,fe=ie.addressRegion,ge=ie.addressListPagePopUpInfo,he=d?et:le,Ee=(0,k.wu)(tp(tp({},G),{},{addressId:he,addressSnapshotId:se,addressSnapshotSn:ce,displayMobile:de||M},fe)),ze&&lt&&he&&Q.setDefaultAddress({address_id:he}),null==S||S(),!pe){e.next=63;break}return(0,x.W$)(),e.next=63,(0,C.P)({popupNode:s.createElement(z,{data:me})});case 63:if(!ge){e.next=67;break}return(0,x.W$)(),e.next=67,(0,C.P)({popupNode:s.createElement(z,{data:ge})});case 67:return e.next=69,null==Qn?void 0:Qn(Ee,{hasEdit:!!Object.keys(y||{}).length,disableToast:!!ge,isSaveDraft:N});case 69:Jn();case 70:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,s.useCallback)((function(e){e.preventDefault(),H&&nr()}),[H]);(0,s.useEffect)((function(){var e;if(!Nt&&!wt.current.hasInit){var t=B||{},n=t.regionId1,r=t.regionName1,o=t.multilingualRegionName1,a=t.fullName,i=t.mobile,l=t.phoneCode,s=t.phoneRegionId,c=t.phoneShortName,u=t.name,d=t.taxcode,p=(null==ln||null===(e=ln.mobile)||void 0===e?void 0:e.extraInfo)||{},m=p.phoneRegionCode,f=p.phoneRegionId,g=p.phoneRegionShortName;Xe((function(e){return tp(tp({},e),{},{fullName:e.fullName||a||u||"",mobile:e.mobile||i||"",phoneCode:m||l,phoneRegionId:f||s,phoneShortName:g||c,additionalPhoneCode:l,additionalPhoneRegionId:s,additionalPhoneShortName:c,addressInfo:tp(tp({},e.addressInfo),{},{regionId1:n||kt,regionName1:r,multilingualRegionName1:o})},d?{taxcode:d}:{})})),wt.current.hasInit=!0}}),[Nt,B,kt]);var rr=(0,s.useRef)(!1);(0,s.useEffect)((function(){var e,t;if(!Nt&&null!==(e=Object.keys(ln))&&void 0!==e&&e.length&&!rr.current){var n=(null==ln||null===(t=ln.mobile)||void 0===t?void 0:t.extraInfo)||{},r=n.phoneRegionCode,o=n.phoneRegionId,a=n.phoneRegionShortName;Xe((function(e){return tp(tp({},e),{},{phoneCode:r||(null==e?void 0:e.phoneCode),phoneRegionId:o||(null==e?void 0:e.phoneRegionId),phoneShortName:a||(null==e?void 0:e.phoneShortName)})})),rr.current=!0}}),[ln,Nt]),(0,s.useImperativeHandle)(t,(function(){return{getIsSubmitLock:Zn,checkValid:er,handleSubmit:nr,getEditCompareConfig:Un,getSubmitParams:Vn,regionId1:Pt,hasFormEdited:qe,abMap:En,matchErrors:_n}}));var or=!!gn,ar=!gn&&hn;T(!or&&!ar),(0,s.useEffect)((function(){var e=!or&&!ar;null==he||he(e),e&&(0,L.mE)({event:"addressFormV2RenderSuccess"})}),[or,ar,he]),(0,s.useEffect)((function(){or&&(0,L.mE)({event:"addressFormV2RenderError",data:(0,u.Jm)(nn)})}),[or,nn]);var ir=(0,s.useMemo)((function(){return{formData:Ze,setFormData:$e,setFormDataOrigin:Xe,manualCheckValid:zn,regionId1:Pt,addressLine1:dt,streetType:pt,streetName:gt,houseNumber:vt,addressLine2:bt,addressLine3:ht,phoneCode:rt,additionalPhoneCode:ot,mobile:at,additionalMobile:it,addressInfo:st,isInEditPop:rn,isShowErrorPop:Bt,setIsShowErrorPop:Ft,isShowCorrectPop:Vt,setIsShowCorrectPop:Ht,activateField:Zt,setActivateField:Qt,regionConfig:ln,overallExtAttributes:dn,pageAttributes:pn,addressRecommendInfo:mn,showRegion4:Fn,setShowRegion4:Wn,enterAddressManually:Nn,setEnterAddressManually:wn,finalNameConfig:Pn,setFinalNameConfig:Tn,finalMobileConfig:Ln,setFinalMobileConfig:jn,componentList:an,setAddressPoiInfo:Hn,setMapAddressInfo:Gn,isShowPhone:Ct,isEditGuestMode:Ot,multiSelectItemMap:un,setConfig:bn,zipCodeRef:en,matchErrors:_n,store:Ve.current}}),[Ze,$e,Xe,zn,Pt,dt,pt,gt,vt,bt,ht,rt,ot,at,it,st,rn,Bt,Ft,Vt,Ht,Zt,Qt,ln,dn,pn,mn,Fn,Nn,an,Hn,Gn,Ct,Ot,un,Pn,Ln,en,_n]),lr=(0,s.useState)(!!d),sr=(0,r.A)(lr,2),cr=sr[0],ur=sr[1],dr=(0,s.useState)(!1),pr=(0,r.A)(dr,2),mr=pr[0],fr=pr[1],gr=(0,s.useState)(!1),vr=(0,r.A)(gr,2),br=vr[0],hr=vr[1],Er=(0,s.useState)({}),_r=(0,r.A)(Er,2),yr=_r[0],Ar=_r[1],Sr=(0,s.useMemo)((function(){return{showRecommendBlock:cr,setShowRecommendBlock:ur,showRecommendBlockSub:mr,setShowRecommendBlockSub:fr,queryRecommendBlockResult:yr,setQueryRecommendBlockResult:Ar,recommendBlockDisplayItem:fn,hasShowRecommendBlockSub:br,setHasShowRecommendBlockSub:hr}}),[cr,mr,yr,fn,br]);if((0,s.useEffect)((function(){var e;null===(e=Ve.current)||void 0===e||e.setShowOnlyReadSearchBar(!!d)}),[d]),!Ue)return null;var Cr=be===c.FC.PaymentSuccessTaxCode;return or?s.createElement(I.E,{onClick:vn,wrapClass:Xd().errorView}):ar?s.createElement(N.A,{text:De("loading"),className:f()(Xd().loading,(0,o.A)({},Xd().miniLoading,Cr))}):s.createElement(Y.Bs.Provider,{value:Sr},s.createElement(Y.wn.Provider,{value:ir},1===Sn&&s.createElement(O.A,{text:De("securityText3"),color:"#0A8800",useSafeIcon:!0,className:Xd().securityTips}),2===Sn&&s.createElement(O.A,{text:De("securityText3"),color:"#0A8800",useSafeIcon:!0,filled:!0,className:Xd().securityTips}),s.createElement(O.A,{text:sn,color:cn}),s.createElement("div",{className:f()(Xd().container,(0,o.A)({},Xd().container2,!!An&&!re))},null!=an&&an.length?s.createElement(Zd,null):s.createElement($c,{taxCodeRef:$t}),s.createElement(It,{isShowSetDefault:ze,isDefault:lt,regionConfig:ln}),s.createElement(mt,null),![c.mp.OrderPaypalEditAddress,c.mp.OrderCheckoutWithoutAddress].includes(ve)&&s.createElement(ft.A,{data:null==pn?void 0:pn.pagePrivacyPolicyTips}),rn?s.createElement("div",{className:Xd().submitContainer},s.createElement(bo,{isEdit:d,handleSubmit:nr}),!!Cr&&s.createElement(w.A,{securityTxt:De("securityText"),className:Xd().securityUnderButton})):s.createElement(bo,{isEdit:d,handleSubmit:nr})),null==_e?void 0:_e.onEnd(),ne?s.createElement(Fe,{isActive:!0}):null,s.createElement(ut,{isInEditPop:rn,errorPopType:Rt}),s.createElement(Qe,{isInEditPop:rn,correctInfo:zt,handleSubmit:nr})))})),op=rp,ap=n(87282),ip=n.n(ap),lp={className:ip().notDeliveredModal,containerClassName:ip().notDeliveredContainer,titleClassName:ip().title,textClassName:ip().text,buttonConfigs:{confirmClassName:ip().notDeliveredConfirmBtn,disableCancel:!0}},sp=function(e){var t=e.isShowNotDeliveredPop,n=e.hideNotDeliveredPop,r=e.title,o=e.confirmButtonLabel;return t?s.createElement(ot,(0,Xe.A)({},lp,{onCancel:function(){n()},onClose:function(){n()},onConfirm:function(){n()},title:r,confirmButtonLabel:o})):null},cp=(0,s.memo)(sp);function up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?up(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):up(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pp=(np={},(0,o.A)(np,q.W1.NAME,1),(0,o.A)(np,q.W1.ADDRESS_LINE1,1),np),mp=function(e){var t=e.children,n=e.isEdit,a=e.notDeliveredList,i=e.deliverInvalidTextConfig,l=(0,_.B)("bec-fe.web-address").t,c=(0,s.useState)(null),d=(0,r.A)(c,2),p=d[0],m=d[1],f=(0,s.useRef)({}),g=(0,s.useRef)({keys:[],hasInit:!1}),v=(0,s.useState)(!1),b=(0,r.A)(v,2),h=b[0],E=b[1],y=(0,s.useCallback)((function(e){var t,n=e.validateKeys,r=e.prevData,a=e.curData,i=e.needTrim,l=void 0!==i&&i,s=r.fullName,c=r.phoneCode,d=r.phoneRegionId,p=r.mobile,m=r.isDefault,f=r.addressInfo||{},g=f.addressLine1,v=f.addressLine2,b=f.regionId1,h=f.regionId2,E=f.postCode,_=f.regionName3,y=a.addressInfo,A=(t={},(0,o.A)(t,q.W1.COUNTRY_REGION,(0,u.dI)(b)===(0,u.dI)(y.regionId1)),(0,o.A)(t,q.W1.NAME,s===(0,u.bz)(a.fullName,l)),(0,o.A)(t,q.W1.MOBILE,(0,u.dI)(c)===(0,u.dI)(a.phoneCode)&&(0,u.dI)(d)===(0,u.dI)(a.phoneRegionId)&&(0,u.sP)((0,u.dI)(p))===(0,u.bz)((0,u.sP)((0,u.dI)(a.mobile)),l)),(0,o.A)(t,q.W1.ADDRESS_LINE1,g===(0,u.bz)(y.addressLine1,l)),(0,o.A)(t,q.W1.ADDRESS_LINE2,v===(0,u.bz)(y.addressLine2,l)),(0,o.A)(t,q.W1.STATE,h===y.regionId2),(0,o.A)(t,q.W1.CITY,_===(0,u.bz)(y.regionName3,l)),(0,o.A)(t,q.W1.ZIP_CODE,E===(0,u.bz)(y.postCode,l)),(0,o.A)(t,q.W1.SET_DEFAULT,m===a.isDefault),t);return Array.isArray(n)?n.reduce((function(e,t){return dp(dp({},e),{},(0,o.A)({},t,A[t]))}),{}):A}),[]),A=(0,s.useCallback)((function(e){var t=y(e);return Object.values(t).some((function(e){return!e}))}),[]),S=(0,s.useCallback)((function(e){var t=e.name;f.current[t]=null,m(f.current)}),[]),C=(0,s.useCallback)((function(e){var t,n=e.name,r=e.prevData,o=e.curData;null!==(t=f.current)&&void 0!==t&&t[n]&&A({validateKeys:[n],prevData:r,curData:o})&&S({name:n})}),[]),I=(0,s.useCallback)((function(e){var t=e||{},n=t.validateKeys,r=t.prevData,o=t.curData;(n.filter((function(e){return pp[e]}))||[]).forEach((function(e){C({name:e,prevData:r,curData:o})}))}),[]),O=(0,s.useCallback)((function(e){var t,n=e.prevData,r=e.curData,o=!!(t=f.current)&&Object.keys(t).some((function(e){return t[e]})),a=g.current.keys,i=Object.values(y({validateKeys:a,prevData:n,curData:r,needTrim:!0})).some((function(e){return e}));return!!(o||a.length&&i)&&(E(!0),(0,L.mE)({event:"addressEditShowNotDeliveredPop"}),!0)}),[]),N=(0,s.useCallback)((function(){E(!1)}),[]),w=(0,s.useCallback)((function(){m(null),f.current={},g.current.keys=[]}),[]),x=(0,s.useMemo)((function(){return{notDeliveredInfo:p,fixNotDeliveredItem:S,validateNotDeliveredList:I,handleShowNotDeliveredPop:O,getEditCompareConfig:y,resetNotDeliveredInfo:w}}),[p]);return(0,s.useEffect)((function(){if(n&&null!=a&&a.length&&i&&!g.current.hasInit){var e=(0,Z.xG)((0,Z.HV)(a,i));m(e.notDeliveredInfo),f.current=e.notDeliveredInfo,g.current.keys=e.notDeliveredKeys,g.current.hasInit=!0}}),[i]),s.createElement(Y.Sg,{value:x},t,s.createElement(cp,{isShowNotDeliveredPop:h,hideNotDeliveredPop:N,title:l("notDeliveredPop.title"),confirmButtonLabel:l("notDeliveredPop.confirmButtonLabel")}))},fp=(0,s.memo)(mp),gp=n(35019),vp=["useNativeAntiToken","useRawResponse"];function bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var hp=(0,we.A)((function e(t,n){var r=this;(0,xe.A)(this,e),this.$axiosHttp=void 0,this.getRiskInfo=void 0,this.get=function(e,t,n,o){return r.$axiosHttp.get(e,{params:t}).then((function(e){var r=(0,k.wu)(e);return n?n(r,t):r})).catch((function(e){var t=(0,gp.n)(e);return o?o(t):t}))},this.post=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useNativeAntiToken,a=void 0!==n&&n,i=t.useRawResponse,l=void 0!==i&&i,s=(0,p.A)(t,vp),c=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,d=arguments.length>4?arguments[4]:void 0;return r.$axiosHttp.post(e,s,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bp(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({useNativeAntiToken:a,useRawResponse:l},d)).then((function(e){var t=(0,k.wu)(e);return c?c(t,s):t})).catch((function(e){var t=(0,gp.n)(e);return u?u(t):t}))},this.baseGet=function(e){var t=e.url,n=e.params,o=e.format,a=e.errorHandler;return r.get(t,n,o,a)},this.basePost=function(e){var t=e.url,n=e.params,o=e.format,a=e.errorHandler,i=e.config;return r.post(t,n,o,a,i)},this.postRisk=function(){var e=(0,a.A)(l().mark((function e(t){var n,o,a,i,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,o=t.params,a=void 0===o?{}:o,i=t.format,s=t.errorHandler,c=t.config,a.useAntiToken=!0,e.next=5,r.getRiskInfo();case 5:a.anti_content=e.sent;case 6:return e.abrupt("return",r.basePost({url:n,params:a,format:i,errorHandler:s,config:c}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getStyleConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.postRisk({url:Q.API.STYLE_CONFIG,params:e}).then(Z.BM)},this.getDefaultInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.postRisk({url:Q.API.DEFAULT_INFO,params:e,format:Z.Bz,errorHandler:function(e){return(0,Z.Bz)(e)}})},this.getRegionConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.isGuestMode||mo.gq.uy!==+e.region_id1){var t,n=e.visitor_login_ts&&(e.address_snapshot_id||e.address_snapshot_sn);return t=e.isGuestMode?n?Q.API.GUEST_REGION_CONFIG:Q.API.GUEST_NO_TOKEN_REGION_CONFIG:Q.API.REGION_CONFIG,r.postRisk({url:t,params:e,errorHandler:function(t){if(30002===t.error_code&&n)return r.postRisk({url:Q.API.GUEST_NO_TOKEN_REGION_CONFIG,params:e,errorHandler:function(e){return e}})}})}},this.$axiosHttp=t,this.getRiskInfo=n}));function Ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ep(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ep(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yp=function(){var e=(0,a.A)(l().mark((function e(t,n,r){var o,a,i,s,c,d,p,m,f,g,v,b,h,E,_,y;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(o=t||{}).region,i=o.defaultAddressItem,s=o.addressSnapshotId,!(o.isEdit||null!=i&&i.regionId1)||s){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,n.getDefaultInfo();case 5:return c=e.sent,p=(d=c||{}).regionShortName,m=d.regionId,f=d.regionName,g=d.phoneCode,b=(v=r||{}).mobile,h=v.phoneRegionId,E=v.phoneCode,_=v.phoneShortName,y={},y=_p(_p({},y=h&&E&&_?{phoneCode:E,phoneRegionId:h,phoneShortName:_}:{phoneCode:(0,u.dI)(g),phoneRegionId:(0,u.dI)(m),phoneShortName:(0,u.dI)(p)}),{},{regionId1:(0,u.dI)(m||a),regionName1:(0,u.dI)(f),mobile:(0,u.dI)(b)}),e.abrupt("return",y);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ap=function(){var e=(0,a.A)(l().mark((function e(t){var n,o,a,i,s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.opts,o=t.finalService,a=t.addressRecommendInfo,e.next=3,Promise.all([yp(n,o,a),o.getStyleConfig()]);case 3:return i=e.sent,s=(0,r.A)(i,2),c=s[0],u=s[1],e.abrupt("return",{defaultAddressInfo:c,styleConfig:u});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sp=function(){var e=(0,a.A)(l().mark((function e(t){var n,r,o,a,i,s,u,d,p,m,f,g,v,b,h,E,_,y,A,S,C,I,O,N,w,x,k,P,T,D,R,L,j,M,B,F,W,U,V,H,G,K,z,Y,J,X,$,ee,te,ne,re,oe,ae,ie;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(i=t||{}).isEdit,u=i.editAddressScene,d=i.addrScene,p=i.defaultAddressItem,m=i.withRegionConfig,f=i.region,g=i.isBillingAddress,v=i.$axiosHttp,b=i.isGuestMode,h=i.addressSnapshotId,E=i.addressSnapshotSn,_=i.visitLoginTs,y=v?new hp(v,(function(){return""})):Q,A=[],S={},C="",I="",O={},N={},w={},x={},k={},P={},T=0,!m){e.next=18;break}return e.next=16,y.getRegionConfig({region_id1:(null==p?void 0:p.regionId1)||f,address_type:g?q.Ky.BUSINESS_ADDRESS:q.Ky.NORMAL_ADDRESS,is_add_address:!s,scene_id:g?c.In:null,report_version:c.xv,isGuestMode:b,address_snapshot_id:h,address_snapshot_sn:E,edit_address_scene:u,addr_scene:d,visitor_login_ts:_,maps_scene_id:"MAPS_ADDRESS_H5"});case 16:D=e.sent,null!==(R=D)&&void 0!==R&&R.isApiError?S=_p({hasError:!0},D):(A=null===(L=D)||void 0===L||null===(j=L.result)||void 0===j?void 0:j.componentList,S=null!==(M=D)&&void 0!==M&&null!==(B=M.result)&&void 0!==B&&B.fieldList?(0,Z.k1)(null===(F=D)||void 0===F||null===(W=F.result)||void 0===W?void 0:W.fieldList):(0,Z.QD)(null===(U=D)||void 0===U||null===(V=U.result)||void 0===V?void 0:V.componentList),C=null===(H=D)||void 0===H||null===(G=H.result)||void 0===G?void 0:G.regionTips,I=null===(K=D)||void 0===K||null===(z=K.result)||void 0===z?void 0:z.regionTipsColor,O=(0,Z.Y6)(null===(Y=D)||void 0===Y||null===(J=Y.result)||void 0===J?void 0:J.multiSelectItemMap),N=null===(X=D)||void 0===X||null===($=X.result)||void 0===$?void 0:$.overallExtAttributes,w=null===(ee=D)||void 0===ee||null===(te=ee.result)||void 0===te?void 0:te.pageAttributes,T=null===(ne=D)||void 0===ne||null===(re=ne.result)||void 0===re?void 0:re.addressRegionFillBackSourceType,x=null===(oe=D)||void 0===oe||null===(ae=oe.result)||void 0===ae?void 0:ae.addressRecommendInfo);case 18:return e.next=20,Ap({opts:t,finalService:y,addressRecommendInfo:x});case 20:if(e.t0=e.sent,e.t0){e.next=23;break}e.t0={};case 23:return ie=e.t0,k=ie.defaultAddressInfo,P=ie.styleConfig,e.abrupt("return",{defaultAddressInfo:null!==(n=D)&&void 0!==n&&null!==(r=n.result)&&void 0!==r&&r.addressRegion?_p(_p({},k),null===(o=D)||void 0===o||null===(a=o.result)||void 0===a?void 0:a.addressRegion):k,styleConfig:P,componentList:A,regionConfig:S,regionTips:C,regionTipsColor:I,multiSelectItemMap:O,overallExtAttributes:N,pageAttributes:w,addressRegionFillBackSourceType:T,addressRecommendInfo:x});case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Cp=function(e,t){var n=e.isEdit,r=e.styleConfig,o=e.notDeliveredList;return(0,d.A)(),s.createElement(nn.A,null,s.createElement(fp,{isEdit:n,notDeliveredList:o,deliverInvalidTextConfig:null==r?void 0:r.deliverInvalidTextConfig},s.createElement(Y.Y.Provider,{value:e},s.createElement(op,{ref:t}))))},Ip=(0,s.forwardRef)(Cp)},18046:function(e,t,n){"use strict";n.d(t,{A2:function(){return b},BM:function(){return E},Bz:function(){return m},EL:function(){return h},En:function(){return f},HV:function(){return I},Iy:function(){return v},QD:function(){return N},ST:function(){return A},Wt:function(){return g},Y6:function(){return w},_W:function(){return y},aw:function(){return _},dY:function(){return S},k1:function(){return O},xG:function(){return C},xK:function(){return x}});n(52675),n(83851),n(81278),n(67945),n(84185);var r=n(61877),o=(n(62062),n(28706),n(48980),n(74423),n(21699),n(2008),n(26099),n(79432),n(72712),n(94490),n(23500),n(27495),n(25440),n(44114),n(44383)),a=n.n(o),i=n(26247),l=n.n(i),s=n(60043),c=n(57402),u=n(54639);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t=e||{},n=t.isApiError,r=t.result;return n?{}:r||{}},f=function(e,t){var n=e||{},r=n.isApiError,o=n.result;return r?{regionId1:t,list:[]}:{regionId1:t,list:(o||[]).map((function(e){var t=e.phoneCode,n=e.regionId,r=e.regionName;e.regionShortName;return p(p({},e),{},{value:"".concat(n,"_").concat(t),label:r+t})}))}},g=function(e,t){var n=e||{},r=n.isApiError,o=n.result;if(r)return{list:[],groupList:[],idx:t};var a=(null==o?void 0:o.poiList)||[],i=(null==o?void 0:o.poiGroupList)||[];return{list:a.map((function(e,t){var n=e.title,r=e.label;return p(p({},e),{},{value:t,title:n||"",label:r||"",idx:t})})),groupList:i,idx:t}},v=function(e,t){var n=e||{},r=n.isApiError,o=n.result;return r?{list:[],idx:t}:{list:o||[],idx:t}},b=function(e,t){var n=e||{},r=n.isApiError,o=n.result;return r?{parentId:t}:{parentId:t,list:((null==o?void 0:o.regions)||[]).map((function(e,t){var n=e.regionId,r=e.regionName;return p(p({},e),{},{value:(0,c.dI)(n),label:r,index:t})}))}},h=function(e){var t=e||{},n=t.isApiError,r=t.result;if(n)return{regions:[]};var o=((null==r?void 0:r.regions)||[]).map((function(e,t){var n=e.regionId,r=e.regionName;return p(p({},e),{},{value:(0,c.dI)(n),label:r,index:t})})),a=((null==r?void 0:r.disableRegion)||[]).map((function(e,t){var n=e.regionId,r=e.regionName;return p(p({},e),{},{value:(0,c.dI)(n),label:r,index:t})})),i=((null==r?void 0:r.commonLocations)||[]).map((function(e){var t=o.findIndex((function(t){return t.regionId===e.regionId}));return p(p({},e),{},{index:t})}));return{regions:o,disableRegions:a,disableRegionMessage:null==r?void 0:r.disableRegionMsg,commonLocations:i}},E=function(e){return(null==e?void 0:e.result)||{isNeedMobile:!0,isNeedName:!0}},_=function(){return{addressLine1:"",addressLine2:"",regionId1:"",regionId2:"",regionId3:"",regionName1:"",regionName2:"",regionFullName2:"",regionName3:"",postCode:"",streetName:"",houseNumber:""}},y=function(){return p(p({fullName:"",firstName:"",middleName:"",lastName:"",isDefault:0},{mobile:"",phoneCode:"",phoneRegionId:"",phoneShortName:"",additionalMobile:"",additionalPhoneCode:"",additionalPhoneRegionId:"",additionalPhoneShortName:""}),{},{addressInfo:_(),addressId:"",addressSnapshotId:"",addressSnapshotSn:"",hasMultipleAddress:!1})},A=function(e){var t=e.item,n=e.isEdit,r=void 0===n||n,o=e.editAddressScene;if(!t)return{};var a=t.addressId,i=t.addressSnapshotId,l=t.addressSnapshotSn,u=t.addressLine1,d=t.streetName,m=t.streetType,f=t.houseNumber,g=t.addressLine2,v=t.addressLine3,b=t.isDefault,h=t.mobile,E=t.additionalMobile,_=t.name,y=t.firstName,A=t.lastName,S=t.middleName,C=t.additionalName,I=t.additionalFirstName,O=t.additionalLastName,N=t.phoneCode,w=t.phoneRegionId,x=t.phoneShortName,k=t.additionalPhoneCode,P=t.additionalPhoneRegionId,T=t.additionalPhoneShortName,D=t.postCode,R=t.regionId1,L=t.regionId2,j=t.regionId3,M=t.regionId4,B=t.regionName1,F=t.multilingualRegionName1,W=t.regionName2,U=t.regionFullName2,V=t.regionName3,H=t.regionName4,G=t.taxcode,K=t.additionalTaxcode,z=t.taxcodeDate,q=t.birthDate,Y=t.lat,J=t.lng,Z=t.locationId,Q=t.region4IsInformal,X=t.frontDisplayUrl,$=t.backDisplayUrl,ee=t.pickUpPointId,te=t.pickUpPointTitle,ne=t.pickUpPointMobile,re=t.pickUpAddressExtraInfo,oe={addressInfo:{addressLine1:(0,c.dI)(u),streetName:(0,c.dI)(d),streetType:(0,c.dI)(m),houseNumber:(0,c.dI)(f),addressLine2:(0,c.dI)(g),addressLine3:(0,c.dI)(v),postCode:(0,c.dI)(D),regionName1:(0,c.dI)(B),multilingualRegionName1:(0,c.dI)(F),regionName2:(0,c.dI)(W),regionFullName2:(0,c.dI)(U),regionName3:(0,c.dI)(V),regionName4:(0,c.dI)(H),regionId1:(0,c.dI)(R),regionId2:(0,c.dI)(L),regionId3:(0,c.dI)(j),regionId4:(0,c.dI)(M),region4IsInformal:Q},isDefault:b,mobile:(0,c.dI)(h),additionalMobile:(0,c.dI)(E),fullName:(0,c.dI)(_),firstName:(0,c.dI)(y),lastName:(0,c.dI)(A),middleName:(0,c.dI)(S),phoneCode:(0,c.dI)(N),phoneRegionId:(0,c.dI)(w),phoneShortName:(0,c.dI)(x),additionalPhoneCode:(0,c.dI)(k),additionalPhoneRegionId:(0,c.dI)(P),additionalPhoneShortName:(0,c.dI)(T),additionalName:(0,c.dI)(C),additionalFirstName:(0,c.dI)(I),additionalLastName:(0,c.dI)(O),taxcode:(0,c.dI)(G),additionalTaxcode:(0,c.dI)(K),taxcodeDate:(0,c.dI)(z),birthDate:(0,c.dI)(q),lat:(0,c.dI)(Y),lng:(0,c.dI)(J),locationId:(0,c.dI)(Z),frontDisplayUrl:(0,c.dI)(X),backDisplayUrl:(0,c.dI)($),pickUp:{pickUpPointId:(0,c.dI)(ee),pickUpPointTitle:(0,c.dI)(te),pickUpPointMobile:(0,c.dI)(ne),pickUpAddressExtraInfo:re}};return r||o&&[s.FC.AddAddressWithPrefill,s.FC.AddAddressWithPartlyPrefill].includes(o)?p(p({},oe),{},{addressId:a||"",addressSnapshotId:i||"",addressSnapshotSn:l||""}):oe},S=function(e,t){var n,r,o,a=e.taxcodeDate,i=e.birthDate,s=l()(a,"YYYY/MM/DD");s.isValid()||(s=l()(a,null==t||null===(n=t.taxcode_date)||void 0===n||null===(r=n.extraInfo)||void 0===r||null===(o=r.dateFormatter)||void 0===o?void 0:o.toUpperCase()));var c,u,d,m=l()(i,"YYYY/MM/DD");m.isValid()||(m=l()(i,null==t||null===(c=t.birth_date)||void 0===c||null===(u=c.extraInfo)||void 0===u||null===(d=u.dateFormatter)||void 0===d?void 0:d.toUpperCase()));return p(p({},a?{taxcodeDate:s.format("YYYY/MM/DD")}:{}),i?{birthDate:m.format("YYYY/MM/DD")}:{})},C=function(e){var t,n=e.addressLine1,o=e.addressLine2,a=e.name;return{notDeliveredInfo:(t={},(0,r.A)(t,u.W1.NAME,a),(0,r.A)(t,u.W1.ADDRESS_LINE1,n),(0,r.A)(t,u.W1.ADDRESS_LINE2,o),t),notDeliveredKeys:Object.keys(e).filter((function(t){return e[t]}))}},I=function(e,t){return e.reduce((function(e,n){var o=t[n];if(!o)return e;var a=o.field,i=o.invalidText,l=e[a];return p(p({},e),{},l?(0,r.A)({},a,l.concat(i)):(0,r.A)({},a,[i]))}),{})},O=function(e){var t,n,o;return null==e||null===(t=e.map((function(e,t){return p(p({},e),{},{tabIndex:t+1})})))||void 0===t||null===(n=t.reverse())||void 0===n||null===(o=n.map((function(e,t){return p(p({},e),{},{order:-10*t})})))||void 0===o?void 0:o.reduce((function(e,t){return p(p({},e),{},(0,r.A)({},t.fieldKey,t))}),{})},N=function(e){var t={};if(null==e||!e.length)return t;var n=0;return function e(r){r.forEach((function(r){var o,i,l,s=null===(o=r.componentAttributes)||void 0===o||null===(i=o.componentSelectButton)||void 0===i?void 0:i.selectedComponentKey;null!==(l=r.subComponent)&&void 0!==l&&l.length?"edit_page"===r.componentKey?e(r.subComponent):s?e(r.subComponent.filter((function(e){return e.componentKey===s}))):r.subComponent.forEach((function(r){var o;r.fieldKey&&(n+=1,t[r.fieldKey]=p(p(p({},r.componentData),a()(r,["componentKey","componentLayout"])),{},{order:n})),null!==(o=r.subComponent)&&void 0!==o&&o.length&&e(r.subComponent)})):(n+=1,t[r.fieldKey]=p(p(p({},r.componentData),a()(r,["componentKey","componentLayout"])),{},{order:n}))}))}(e),t};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};for(var n in e){t[n.replace(/(\w+)(\d+)/,"$1-$2")]=e[n]}return t}function x(e,t){if(null==t||!t.length)return e;var n=e?e.split(","):[];return t.forEach((function(e){var t=e.split("-")[0],r=n.findIndex((function(e){return e.includes(t)}));r>=0?n[r]=e:n.push(e)})),n.join(",")}},25804:function(e,t,n){"use strict";n.d(t,{N:function(){return u},u:function(){return c}});var r=n(74533),o=n(11286),a=n.n(o),i=n(24402),l=n(87642),s=n(54639),c="errorTag",u=function(){var e=(0,r.A)(a().mark((function e(t){var n,r,o,u,d,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.y)(0);case 2:if(r=null===(n=document.querySelector(".".concat(c)))||void 0===n?void 0:n.parentElement){e.next=5;break}return e.abrupt("return");case 5:if(!t){e.next=15;break}if(o=document.querySelector("#".concat(s.RA))){e.next=9;break}return e.abrupt("return");case 9:u=r.getBoundingClientRect().top-o.getBoundingClientRect().top+o.scrollTop-40-2,(0,l.B)(u,o),e.next=18;break;case 15:d=r.getBoundingClientRect(),p=d.top+((document.documentElement||{}).scrollTop||0),(0,l.B)(p-120);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},90265:function(e,t,n){"use strict";n.r(t),n.d(t,{API:function(){return m},getAdditionalPhoneCodes:function(){return v},getAddressListByCity:function(){return y},getAddressListByZipCode:function(){return _},getBillingCountryRegionList:function(){return P},getCorrection:function(){return M},getCountryRegionList:function(){return k},getDefaultInfo:function(){return f},getPhoneCodes:function(){return g},getPoiInfo:function(){return E},getPostCodeListByRegionId:function(){return N},getRegionConfig:function(){return R},getRegionList:function(){return A},getRegionListByRegion1:function(){return C},getRegionListWithPostCode:function(){return S},getRegionReverseList:function(){return w},getRegionReverseSuggest:function(){return x},getRegionSuggest:function(){return I},getRegionSuggestListByRegion1:function(){return O},getSearchLocationList:function(){return b},getSearchLocationList2:function(){return h},getStyleConfig:function(){return D},interceptReport:function(){return F},pasteParsing:function(){return U},preRecg:function(){return z},queryABTest:function(){return W},queryCrypt:function(){return G},queryRecommendBlock:function(){return H},queryTicket:function(){return K},reportSearchListSelect:function(){return T},saveAddress:function(){return j},setDefaultAddress:function(){return L},sigerusABTest:function(){return B},translate:function(){return V}});n(79432),n(52675),n(2008),n(26099),n(83851),n(44114),n(23500),n(81278),n(67945),n(84185);var r=n(56687),o=n(61877),a=n(72635),i=n(94971),l=n(23058),s=n(60043),c=n(75813),u=n(18046),d=["isGuestMode"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var m={PHONE_CODES:"/api/bg/huygens/region/phoneCodes/address",ADDITIONAL_PHONE_CODES:"/api/bg/huygens/region/additional/phoneCodes",SEARCH_LIST:"/api/bg-origenes/poi/search/poi_list",VISITOR_SEARCH_LIST:"/api/bg-origenes/visitor/poi/search/poi_list",POI_GROUP_QUERY:"/api/bg-origenes/poi_group/info/query",VISITOR_POI_GROUP_QUERY:"/api/bg-origenes/visitor/poi_group/info/query",POI_INFO:"/api/bg-origenes/poi/info/query",SEARCH_LIST_SELECT_REPORT:"/api/bg-origenes/poi/rec/report",EDIT_ADDRESS:"/api/bg-origenes/address/edit",BILLING_EDIT_ADDRESS:"/api/bg-origenes/business/address/edit",ADD_ADDRESS:"/api/bg-origenes/address/add",BILLING_ADD_ADDRESS:"/api/bg-origenes/business/address/add",VISITOR_ADD_ADDRESS:"/api/bg-origenes/visitor/address/snapshot/create",BILLING_VISITOR_ADD_ADDRESS:"/api/bg-origenes/business/visitor/address/add",SNAPSHOT_EDIT_ADDRESS:"/api/bg-origenes/address/edit/by/address_snapshot_id",SET_DEFAULT:"/api/bg-origenes/address/default/set",DEFAULT_INFO:"/api/bg/huygens/setting/query",ADDRESS_LIST_BY_ZIPCODE:"/api/bg-origenes/poi/postcode/recommend/region",ADDRESS_LIST_BY_CITY:"/api/bg-origenes/poi/city/recommend/region",REGION_LIST:"/api/bg/huygens/region/children",REGION_POSTCODE_LIST:"/api/bg-origenes/address/region/postcode/parent_id/page/list",REGION_LIST_BY_REGION1:"/api/bg-origenes/address/region/page/list",REGION_POSTCODE_LIST_BY_REGION1:"/api/bg-origenes/address/region_postcode/page/list",STYLE_CONFIG:"/api/bg-origenes/address/style/config",COUNTRY_REGION_LIST:"/api/bg/huygens/address/region/list",BILLING_COUNTRY_REGION_LIST:"/api/bg/huygens/billing/region/list",REGION_SUGGEST:"/api/bg-origenes/address/region/suggest",REGION_SUGGEST_PAGE:"/api/bg-origenes/address/region/page/suggest",REGION_POSTCODE_SUGGEST_PAGE:"/api/bg-origenes/address/region_postcode/page/suggest",POSTCODE_PAGE_LIST:"/api/bg-origenes/address/postcode/page/list",SIGERUS_ABTEST:"/api/bg/sigerus/abtest/trigger",GET_CORRECTION:"api/bg-origenes/address/snapshot/correction/info/query",GET_CORRECTION_FOR_VISITOR:"api/bg-origenes/visitor/address/snapshot/correction/info/query",REGION_CONFIG:"/api/bg-origenes/address/edit/page/config",GUEST_REGION_CONFIG:"/api/bg-origenes/visitor/address/edit/page/config",GUEST_NO_TOKEN_REGION_CONFIG:"/api/bg-origenes/no_visitor_token/address/edit/page/config",GRAY_CONFIG:"api/firefly/exp-config",INTERCEPT_REPORT:"/api/bg-origenes/address/save/intercept/report",PASTE_PARSING:"/api/bg-origenes/address/paste/standard/parsing",VISITOR_PASTE_PARSING:"/api/bg-origenes/visitor/address/paste/standard/parsing",COMMON_EDIT_ADDRESS:"/api/bg-origenes/shipping_or_pick_up/address/edit",REGION_REVERSE_LIST:"/api/bg-origenes/address/region/reverse/page/list",REGION_REVERSE_SUGGEST:"/api/bg-origenes/address/region/reverse/page/suggest",SAVE_DRAFT:"/api/bg-origenes/address/draft/save",TRANSLATE:"/api/bg-origenes/address/info/translate"};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.SA)({url:m.DEFAULT_INFO,params:e,format:u.Bz,errorHandler:function(e){return(0,u.Bz)(e)}})}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.address_top_region_id;return(0,c.SA)({url:m.PHONE_CODES,params:e,format:function(e){return(0,u.En)(e,t)},errorHandler:function(e){return(0,u.En)(e,t)}})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.address_top_region_id;return(0,c.SA)({url:m.ADDITIONAL_PHONE_CODES,params:e,format:function(e){return(0,u.En)(e,t)},errorHandler:function(e){return(0,u.En)(e,t)}})}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{idx:1},n=t.isGuestMode?m.VISITOR_SEARCH_LIST:m.SEARCH_LIST,r=t.idx;return(0,c.SA)({url:n,params:e,format:function(e){return(0,u.Wt)(e,r)},errorHandler:function(e){return(0,u.Wt)(e,r)}})}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{idx:1},n=t.isGuestMode?m.VISITOR_POI_GROUP_QUERY:m.POI_GROUP_QUERY,r=t.idx;return(0,c.SA)({url:n,params:e,format:function(e){return(0,u.Wt)(e,r)},errorHandler:function(e){return(0,u.Wt)(e,r)}})}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.SA)({url:m.POI_INFO,params:e,format:function(e){return(null==e?void 0:e.result)||{}},errorHandler:function(e){return e}})}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{idx:1}).idx;return(0,c.SA)({url:m.ADDRESS_LIST_BY_ZIPCODE,params:e,format:function(e){return(0,u.Iy)(e,t)},errorHandler:function(e){return(0,u.Iy)(e,t)}})}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{idx:1}).idx;return(0,c.SA)({url:m.ADDRESS_LIST_BY_CITY,params:e,format:function(e){return(0,u.Iy)(e,t)},errorHandler:function(e){return(0,u.Iy)(e,t)}})}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parent_id;return(0,c.SA)({url:m.REGION_LIST,params:e,format:function(e){return(0,u.A2)(e,t)},errorHandler:function(e){return(0,u.A2)(e,t)}})}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parent_region_id;return(0,c.SA)({url:m.REGION_POSTCODE_LIST,params:e,format:function(e){return(0,u.A2)(e,t)},errorHandler:function(e){return(0,u.A2)(e,t)}})}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.region_id1,r=0===t?m.REGION_LIST_BY_REGION1:m.REGION_POSTCODE_LIST_BY_REGION1;return(0,c.SA)({url:r,params:e,format:function(e){return(0,u.A2)(e,n)},errorHandler:function(e){return(0,u.A2)(e,n)}})}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.region_id1,n=e.region_id2,r=e.region_id3,o=t||n||r;return(0,c.SA)({url:m.REGION_SUGGEST,params:e,format:function(e){return(0,u.A2)(e,o)},errorHandler:function(e){return(0,u.A2)(e,o)}})}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.region_id1,r=0===t?m.REGION_SUGGEST_PAGE:m.REGION_POSTCODE_SUGGEST_PAGE;return(0,c.SA)({url:r,params:e,format:function(e){return(0,u.A2)(e,n)},errorHandler:function(e){return(0,u.A2)(e,n)}})}function N(e){var t=(e||{}).region_id;return(0,c.SA)({url:m.POSTCODE_PAGE_LIST,params:e,format:function(e){return(0,u.A2)(e,t)},errorHandler:function(e){return(0,u.A2)(e,t)}})}function w(e){var t=e.region_id1;return(0,c.SA)({url:m.REGION_REVERSE_LIST,params:e,format:function(e){return(0,u.A2)(e,t)},errorHandler:function(e){return(0,u.A2)(e,t)}})}function x(e){var t=e.region_id1;return(0,c.SA)({url:m.REGION_REVERSE_SUGGEST,params:e,format:function(e){return(0,u.A2)(e,t)},errorHandler:function(e){return(0,u.A2)(e,t)}})}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.SA)({url:m.COUNTRY_REGION_LIST,params:e,format:u.EL,errorHandler:function(e){return(0,u.EL)(e)}})}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.SA)({url:m.BILLING_COUNTRY_REGION_LIST,params:e,format:u.EL,errorHandler:function(e){return(0,u.EL)(e)}})}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.SA)({url:m.SEARCH_LIST_SELECT_REPORT,params:e,errorHandler:function(e){return e}})}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.SA)({url:m.STYLE_CONFIG,params:e,format:u.BM,errorHandler:function(e){return(0,u.BM)(e)}})}function R(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=t.isGuestMode?(0,i.Ri)("visitor_login_ts")?m.GUEST_REGION_CONFIG:m.GUEST_NO_TOKEN_REGION_CONFIG:m.REGION_CONFIG,(0,c.SA)({url:e,params:t,errorHandler:function(e){return e}})}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.SA)({url:m.SET_DEFAULT,params:e,errorHandler:function(e){return e}})}function j(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isEdit,a=n.isGuestMode,i=n.isSnapShotEditAddress,l=n.useCardUrl,u=n.addressDisplayType,d=n.isEditTaxCodeScene,f=n.isSaveDraft,g=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t||{});return f?e=m.SAVE_DRAFT:(e=l?m.BILLING_EDIT_ADDRESS:d?m.COMMON_EDIT_ADDRESS:m.EDIT_ADDRESS,i&&(e=l?m.BILLING_EDIT_ADDRESS:d?m.COMMON_EDIT_ADDRESS:m.SNAPSHOT_EDIT_ADDRESS),r||(e=a?l?m.BILLING_VISITOR_ADD_ADDRESS:m.VISITOR_ADD_ADDRESS:l?m.BILLING_ADD_ADDRESS:m.ADD_ADDRESS)),g.address_display_type=u&&u>0?u:l?2:1,l&&(g.scene_id=s.In),(0,c.SA)({url:e,params:g,errorHandler:function(e){return e}})}function M(e){var t=e.isVisitor,n=e.addressSnapshotId,r=e.addressSnapshotSn;return(0,c.SA)({url:t?m.GET_CORRECTION_FOR_VISITOR:m.GET_CORRECTION,params:{addr_scene:s.mp.OrderPaypalEditAddress,scene_id:"paypal_alert",address_snapshot_sn:r,address_snapshot_id:n}})}function B(e){return(0,c.SA)({url:m.SIGERUS_ABTEST,params:e,errorHandler:function(e){return e}})}function F(e){return(0,c.SA)({url:m.INTERCEPT_REPORT,params:e,errorHandler:function(e){return e}})}function W(e){return(0,c.SA)({url:m.GRAY_CONFIG,params:e,errorHandler:function(e){return e}})}function U(e){var t=e.isGuestMode,n=(0,r.A)(e,d),o=t?m.VISITOR_PASTE_PARSING:m.PASTE_PARSING;return(0,c.SA)({url:o,params:n,errorHandler:function(e){return e}}).then((function(e){return(null==e?void 0:e.result)||{}}))}function V(e,t){return(0,c.SA)({url:m.TRANSLATE,params:e,config:t,errorHandler:function(e){return e}}).then((function(e){return(null==e?void 0:e.result)||{}}))}function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.SA)({url:"/api/bg-origenes/poi/recommend_block/query",params:e,format:function(e){return(null==e?void 0:e.result)||{}},errorHandler:function(e){return e}})}function G(e){return(0,c.SA)({url:"/api/bg/freud/user/crypt/query",params:e,errorHandler:function(e){return e}}).then((function(e){return(null==e?void 0:e.result)||{}}))}function K(e){return(0,c.SA)({url:"/api/bg/freud/user/cert/submit/v2",params:e,errorHandler:function(e){return e}}).then((function(e){if(e.success)return(null==e?void 0:e.result)||{};var t=40016===e.errorCode?a.Ay.t("bec-fe.web-address:imageForbidden"):"";return l.A.error(t),{}}))}function z(e){return(0,c.SA)({url:"/api/bg-origenes/business/cert/address/auth/pre_recg",params:e,errorHandler:function(e){return e}})}},12758:function(e,t,n){"use strict";n.d(t,{_:function(){return a},h:function(){return o}});var r=n(33514),o=(0,r.createContext)({});function a(){return r.useContext(o)}},46800:function(e,t,n){"use strict";n(79432),n(52675),n(2008),n(83851),n(44114),n(23500),n(81278),n(67945),n(84185);var r=n(61877),o=(n(28706),n(50113),n(26099),n(74423),n(21699),n(27495),n(25440),n(62062),n(33514)),a=n(54639),i=n(87291),l=n(12758);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t,n=e.children,s=e.trigger,u=e.vKey,d=e.actionName,p=e.validateValueChange,m=e.regionConfig,f=e.pageElSn,g=(0,i.s4)(),v=g.validateValue,b=g.validateValueRequired,h=g.warningValueFront,E=g.validateInfo,_=g.hitNewValidate,y=(0,i.XQ)(),A=y.notDeliveredInfo,S=y.fixNotDeliveredItem,C=(0,i.Cr)().formData,I=null==A?void 0:A[u],O=!(null==m||!m.isRequired),N=(0,l._)().splitHouseNumberRef,w=(0,o.useRef)(),x=(0,o.useRef)();w.current=C,x.current=m;var k=(0,o.useCallback)((function(e){var t=(null==N?void 0:N.current)||{},n=t.displayPrefix,o=t.midConnectionSeparator,a=t.houseNumber1,i=t.houseNumber2,l=null!=N&&N.current?"".concat(n).concat(a).concat(o).concat(i):e;v({val:l,name:u,needShowValidate:!0,needRequired:O,pageElSn:f,regionConfig:x.current,formData:c(c({},w.current),{},(0,r.A)({},u,e)),trigger:"change"}),h({val:l,name:u,regionConfig:x.current,formData:c(c({},w.current),{},(0,r.A)({},u,e)),trigger:"change"})}),[u,O,v,h,f]),P=(0,o.useCallback)((function(e){if(e){var t,n;if(!_)return;var o=!(null===(t=x.current)||void 0===t||null===(n=t.enterRegexConfig)||void 0===n||!n.find((function(e){return"blur"===e.trigger})));!(E[u]||{}).showValidate&&o&&(v({val:e,name:u,needShowValidate:!0,needRequired:O,pageElSn:f,regionConfig:x.current,formData:c(c({},w.current),{},(0,r.A)({},u,e)),trigger:"blur"}),h({val:e,name:u,regionConfig:x.current,formData:c(c({},w.current),{},(0,r.A)({},u,e)),trigger:"blur"}))}else b({val:e,name:u,needShowValidate:!0,needRequired:O,pageElSn:f})}),[u,O,v,h,b,f,E,_]);if(!n)return null;if(!s)return n;var T=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?o.cloneElement(e,c({onChange:function(){for(var t,n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];null==e||null===(t=e.props)||void 0===t||null===(n=t.onChange)||void 0===n||n.call.apply(n,[t].concat(o)),null!=s&&s.includes("onChange")&&(k(o[0]),I&&S({name:u}))},onBlur:function(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];null==e||null===(t=e.props)||void 0===t||null===(n=t.onBlur)||void 0===n||n.call.apply(n,[t].concat(o)),null!=s&&s.includes("onBlur")&&setTimeout((function(){var e,t,n=null===(e=o[0])||void 0===e?void 0:e.target,r=[a.W1.MOBILE,a.W1.ADDITIONAL_MOBILE].includes(u)?null==n||null===(t=n.value)||void 0===t?void 0:t.replace(/\s/g,""):null==n?void 0:n.value;P(r)}),0)}},d?(0,r.A)({},d,(function(){for(var t,n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];null==e||null===(t=e.props)||void 0===t||null===(n=t[d])||void 0===n||n.call.apply(n,[t].concat(o)),null!=s&&s.includes(d)&&(p?p(o[0]):k(o[0]),I&&S({name:u}))})):{})):e};return null!==(t=n.props.children)&&void 0!==t&&t.length?n.props.children.map((function(e){return T(e,!!e.ref)})):T(n,!0)};t.A=(0,o.memo)(u)},56508:function(e,t,n){"use strict";n(79432),n(52675),n(2008),n(26099),n(83851),n(44114),n(23500),n(81278),n(67945),n(84185);var r=n(6356),o=n(61877),a=(n(62062),n(28706),n(33514)),i=n(32485),l=n.n(i),s=n(99117),c=n(50453),u=n(46694),d=n(47571),p=n(72620),m=n(73035),f=n(34678),g=n(87837),v=n(92943),b=n(25562),h=n.n(b);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t,n,o=e.isBubble,i=void 0!==o&&o,b=e.isDialog,E=void 0!==b&&b,y=e.extraInfo,A=e.className,S=e.others,C=(0,u.Sz)().isRTL,I=(0,a.useRef)(null),O=(0,a.useState)(48),N=(0,r.A)(O,2),w=N[0],x=N[1];return(0,a.useLayoutEffect)((function(){if(I.current){var e,t,n=null===(e=I.current)||void 0===e||null===(t=e.getBoundingClientRect)||void 0===t?void 0:t.call(e);null!=n&&n.width&&x(n.width)}}),[i,null==y||null===(t=y.useInstructionTips)||void 0===t?void 0:t.length]),null!=y&&y.isUseInstructionIcon?E||2===(null==y?void 0:y.useInstructionType)?a.createElement(g.Rp,{page_el_sn:230473,others:S},a.createElement("div",{className:l()(h().tip,A),onClick:function(){return function(e,t){var n=e||{},r=n.mainTitle,o=n.windowContent,i=n.windowContentList,l=n.securityLabel,u=n.confirmButton,p=n.confirmButtonAttachedUrl,g=null!=i&&i.length?i.map((function(e,t){return a.createElement("div",{key:t,className:h().windowContentItem},e)})):o;(0,s.WW)(_({page_el_sn:230474},t)),(0,s.WW)(_({page_el_sn:230481},t)),(0,m.P)({popupNode:a.createElement(f.A,{onClose:m.L,title:r,subTitle:g,confirmButtonLabel:u,onConfirm:function(){(0,s.E0)(_({page_el_sn:230481},t)),p?c.Ay.uniformForward(p,{openTarget:"_blank"}):(0,m.L)(!0)},scrollContainerProps:{className:h().contentWrap},baseDialogProps:{dialogProps:{className:h().dialogContainer}}},!!l&&a.createElement("div",{className:h().content},a.createElement(d.A,{className:h().securityIcon,"aria-hidden":!0}),l))})}(null==y?void 0:y.useInstructionFieldFloatWindow,S)},role:"button",tabIndex:0},a.createElement("div",{className:h().popTip},null==y?void 0:y.useInstructionTitle,a.createElement(p.A,{className:l()("cursorPointer",h().questionIcon),"aria-hidden":!0})))):i||(null==y||null===(n=y.useInstructionTips)||void 0===n?void 0:n.length)>60?a.createElement(g.Rp,{page_el_sn:230473,others:S,useClick:!1},a.createElement("div",{className:l()(h().tip,A),ref:I},a.createElement("style",null,"\n                        .".concat(h().popoverWrap," {\n                            ").concat(C?"margin-left":"margin-right",": -").concat(w/2-7,"px;\n                        }\n                    ")),a.createElement(v.A,{overlay:null==y?void 0:y.useInstructionTips,trigger:["hover"],placement:"top",className:h().popoverWrap,appendToBody:!0},a.createElement("div",{className:h().popTip},null==y?void 0:y.useInstructionTitle,a.createElement(p.A,{className:l()("cursorPointer",h().questionIcon)}))))):a.createElement("div",{className:l()(h().tip,A)},null==y?void 0:y.useInstructionTips):null};t.A=(0,a.memo)(y)},67294:function(e,t,n){"use strict";var r=n(61877),o=(n(42762),n(33514)),a=n(32485),i=n.n(a),l=n(97582),s=n(73035),c=n(34678),u=n(84889),d=n(60043),p=n(87291),m=n(56508),f=n(4582),g=n.n(f),v=function(e){var t,n=e.className,a=e.regionConfig,f=e.showFieldTopTips,v=void 0===f||f,b=e.showFieldTip,h=void 0===b||b,E=e.isFloatLabel,_=void 0!==E&&E,y=e.forceNormalLabel,A=void 0!==y&&y,S=e.labelName,C=e.rightSlot,I=(0,l.B)("bec-fe.web-address").t,O=(0,p.Cr)(),N=O.isInEditPop,w=O.overallExtAttributes,x=O.componentList,k=a||{},P=k.isRequired,T=k.fieldTitle,D=k.fieldTitleSupplement,R=k.fieldTopTips,L=k.extraInfo,j=k.fieldKey,M=k.enterType,B=(w||{}).addressEditPageOptimizationAbtest,F=S||T,W=(0,o.useCallback)((function(){var e=(null==L?void 0:L.fieldFloatWindow)||{},t=e.mainTitle,n=e.windowContent,r=e.confirmButton;(0,s.P)({popupNode:o.createElement(c.A,{onClose:s.L,title:t,subTitle:n,confirmButtonLabel:r,onConfirm:s.L})})}),[null==L?void 0:L.fieldFloatWindow]);return!F||null!=L&&L.hideFieldTitle?o.createElement("div",{style:{marginTop:"12px"}}):M===d.UE.REGION1?null:o.createElement(o.Fragment,null,o.createElement("div",{className:i()(g().label,(t={},(0,r.A)(t,g().label2,B&&!A),(0,r.A)(t,g().isFloatLabel,B&&_),(0,r.A)(t,g().isBeforeFieldTopTips,B&&!!R&&!!v),t),n)},o.createElement("span",{className:i()((0,r.A)({},g().isRequiredOrange,P&&F))},F),!(null==D||!D.trim())&&o.createElement("span",{className:g().optional},D),!P&&o.createElement("span",{className:g().extraText},I("optionalText")),!(null!=x&&x.length)&&!!h&&!B&&o.createElement(m.A,{isBubble:N,extraInfo:L,className:g().tip,others:{field_key:j}}),null==C?void 0:C()),!!R&&!!v&&o.createElement(u.A,{text:R,linkText:null==L?void 0:L.fieldFloatWindowTips,onClick:W,theme:u.S.Orange,className:i()(g().headerTips,(0,r.A)({},g().headerTips2,B))}))};t.A=(0,o.memo)(v)},35262:function(e,t,n){"use strict";n(27495),n(25440);var r=n(33514),o=n(56733),a=n(14511),i=n(97582),l=n(90930),s=n(86063),c=n(87291),u=n(54306),d=n.n(u);t.A=(0,l.A)((0,a.W4)({name:"address_pagePrivacyPolicyTips"}))((function(e){var t=e.data,n=e.buttonText,a=(0,i.B)("bec-fe.web-address").t,l=(0,c.CM)().btnText,u=(0,c.Cr)().regionId1,p=((0,c.Cr)().pageAttributes||{}).pageConfirmButtonText,m=l||p;+u===o.gq.mu&&(m=p||l);var f=(0,r.useMemo)((function(){return null==t?void 0:t.replace(/{}/g,n||m||a("save"))}),[m,n,t,a]);return t&&f?r.createElement("div",{className:d().tipsContainer},(0,s.A)(f)):null}))},29851:function(e,t,n){"use strict";n(52675),n(2008),n(83851),n(44114),n(23500),n(81278),n(67945),n(84185);var r=n(36002),o=n(74533),a=n(6356),i=n(14242),l=n(61877),s=n(56687),c=n(11286),u=n.n(c),d=(n(74423),n(21699),n(27495),n(25440),n(84864),n(57465),n(87745),n(38781),n(71761),n(26099),n(79432),n(28706),n(33514)),p=n(90010),m=n(16835),f=n(32485),g=n.n(f),v=n(38221),b=n.n(v),h=n(44383),E=n.n(h),_=n(8515),y=n(44798),A=n(97582),S=n(99117),C=n(11554),I=n(8565),O=n(24402),N=n(61431),w=n(54461),x=n(60043),k=n(84172),P=n(74938),T=n(57402),D=n(38532),R=n(54639),L=n(87291),j=n(94179),M=n(25804),B=n(90265),F=n(95941),W=n.n(F),U=["children"],V=["selectProps"];function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=(0,y.A)(),z=p.c.Option,q={SET_VALUE:"set-value",INPUT_CHANGE:"input-change",INPUT_BLUR:"input-blur",MENU_CLOSE:"menu-close"},Y=(0,d.memo)((function(e){var t=e.optionProps,n=e.Item,r=e.pageElSn,o=t.selectProps,a=t.isDisabled,i=t.data;return a?null:d.createElement(I.A,{page_el_sn:r},d.createElement(z,t,d.createElement(n,{data:i,inputValue:o.inputValue})))})),J=function(e){var t=e.children,n=(0,s.A)(e,U),r=n.selectProps,o=r.showSearchIcon,a=r.prefix,c=r.addrEditOptimizeAbtest;return d.createElement(p.c.Control,(0,i.A)({},n,{className:g()((0,l.A)({},W().isRoundSearchBar,c&&o))}),!!o&&d.createElement(C.A,{className:W().searchIcon,"aria-hidden":!0}),!!a&&d.createElement("span",{className:W().prefix},a),t)},Z=function(e,t){var n,c,f,v=e.regionConfig,h=e.vKey,y=e.onSearch,C=e.onSelect,F=e.inputValue,U=e.onInput,H=e.onBlur,z=e.onPaste,Z=e.onFocus,Q=e.options,X=e.onResetOptions,$=e.Item,ee=e.placeholder,te=e.className,ne=e.maxMenuHeight,re=e.pageElSn,oe=e.optionPageElSn,ae=e.formatter,ie=e.dividerRegex,le=e.maxLength,se=e.blurInputOnSelect,ce=e.enableEnterManuallyTip,ue=e.enterManuallyTip,de=e.showIndicators,pe=e.tabIndex,me=e.shouldBlur,fe=void 0===me||me,ge=e.showSearchIcon,ve=void 0!==ge&&ge,be=e.forceShowPlaceholder,he=e.hasError,Ee=e.noOptionsMessage,_e=e.loadingMessage,ye=e.isLoading,Ae=(0,A.B)("bec-fe.web-address").t,Se=(0,L.CM)(),Ce=Se.isPop,Ie=Se.isInPop,Oe=(0,L.Cr)(),Ne=Oe.overallExtAttributes,we=Oe.regionId1,xe=Oe.regionConfig,ke=Oe.formData,Pe=Oe.setFormData,Te=Oe.setAddressPoiInfo,De=Oe.manualCheckValid,Re=(0,L.Gb)(),Le=Re.hasShowRecommendBlockSub,je=Re.setQueryRecommendBlockResult,Me=Re.setShowRecommendBlock,Be=Re.setShowRecommendBlockSub,Fe=Ne||{},We=Fe.addressEditPageOptimizationAbtest,Ue=Fe.addrEditOptimizeAbtest,Ve=Ce||Ie,He=(0,d.useState)(!1),Ge=(0,a.A)(He,2),Ke=Ge[0],ze=Ge[1],qe=(0,d.useState)(!1),Ye=(0,a.A)(qe,2),Je=Ye[0],Ze=Ye[1],Qe=(0,d.useState)(!1),Xe=(0,a.A)(Qe,2),$e=Xe[0],et=Xe[1],tt=(0,d.useRef)(!1),nt=(0,d.useRef)(!1),rt=(0,d.useRef)(""),ot=(0,L.s4)().warningInfo,at=(null==ot?void 0:ot[h])||{},it=at.showWarning,lt=at.warningText,st=at.warningBoard,ct=it&&lt&&st,ut=(0,d.useRef)({isSelect:!1}),dt=(0,L.XQ)().notDeliveredInfo,pt=!(null==dt||!dt[h]),mt=(0,d.useRef)(he),ft=(0,d.useRef)(y),gt=(0,d.useRef)(b()((function(e){var t;null===(t=ft.current)||void 0===t||t.call(ft,e)}),x.uT)).current;(0,d.useEffect)((function(){ft.current=y}),[y]),(0,d.useEffect)((function(){mt.current=he}),[he]);var vt=(0,d.useCallback)(function(){var e=(0,o.A)(u().mark((function e(n,r){var o,a,i,l,s,c,d,p,m,f,g,b,E,y,A,S,C,I,O,N,w,k,T,L,j;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=r.action,m=r.prevInputValue,![q.INPUT_BLUR,q.MENU_CLOSE,q.SET_VALUE].includes(p)){e.next=3;break}return e.abrupt("return");case 3:if(null!=n&&n.length||et(!1),g=(f=v||{}).enterType,b=f.extraInfo,y=(E=b||{}).postCodeDisplayRule,A=E.disableCharactersToast,null!=y&&y.enterWhiteListRegex&&(S=y.enterWhiteListRegex.replace(/^\[|\]$/g,""),C=new RegExp("[^".concat(S,"]"),"g"),n.match(C)&&A&&(0,_.A)(A)),I=(null===(o=m[(null==m?void 0:m.length)-1])||void 0===o?void 0:o.match(ie))&&(null==t||null===(a=t.current)||void 0===a||null===(i=a.inputRef)||void 0===i?void 0:i.selectionStart)>=(null==m?void 0:m.length)-1&&n.length<(null==m?void 0:m.length),O=ae&&!I?ae(n):n,g!==x.UE.NUMBER||y||(N=/[^\d]/g,O.match(N)&&A&&(0,_.A)(Ae(A)),O=O.replace(N,"")),U(O),w=(null===(l=O)||void 0===l?void 0:l.length)-(m||"").length>4&&!tt.current,nt.current=!1,tt.current&&([R.W1.ADDRESS_LINE1,R.W1.STREET_NAME].includes(h)&&(null===(k=O)||void 0===k?void 0:k.length)-(m||"").length>=15&&(nt.current=!0),null==z||z(O)),(0,D.F$)({vKey:h,data:null===(s=O)||void 0===s?void 0:s.length}),w||gt(O),tt.current=!1,setTimeout((function(){null!=n&&n.length&&et(!0)}),x.uT),null!=b&&b.postCodeDisplayRule||null!=b&&b.displayRule){e.next=20;break}return e.abrupt("return");case 20:T=rt.current.length<O.length,rt.current=O,L=((null==t||null===(c=t.current)||void 0===c||null===(d=c.inputRef)||void 0===d?void 0:d.selectionStart)||0)+(T&&n!==O?1:0),j=L,setTimeout((function(){if(L<O.length){if(0===L)j=L;else if(T){var e;j=null!==(e=O[L].match(ie))&&void 0!==e&&e[0]?L+1:L}else{var n;j=null!==(n=O[L-1].match(ie))&&void 0!==n&&n[0]?L-1:L}(0,P.A)((function(){var e,n;null==t||null===(e=t.current)||void 0===e||null===(n=e.inputRef)||void 0===n||n.setSelectionRange(j,j)}))}}),0);case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[U,ae,h,v]),bt=(0,d.useCallback)((function(){U(""),X()}),[U,X]),ht=(0,d.useCallback)((function(e){var t,n;null==Z||Z(),Ze(!0),ut.current.isSelect=!1,(0,D.mE)({event:"addressEditInputFocus",data:(0,T.Jm)((0,l.A)({},h,null==e||null===(t=e.target)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.length))})}),[h]),Et=(0,d.useCallback)((0,o.A)(u().mark((function e(){var t,n,o,a,i,l,s,c,d,p,m,f,g,b,_,y,A,S,C,I,O,N,w,x;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(null==v?void 0:v.extraInfo)||{},null!=(n=t.recommendBlockTriggerField)&&n.length){e.next=3;break}return e.abrupt("return");case 3:if((o=h)===R.W1.ZIP_CODE&&(o="postCode"),n.includes((0,k.Su)(o))){e.next=7;break}return e.abrupt("return");case 7:if(n.every((function(e){var t;return!(null==ke||null===(t=ke.addressInfo)||void 0===t||!t[(0,k.yp)(e)])}))){e.next=10;break}return e.abrupt("return");case 10:return a=E()(null==ke?void 0:ke.addressInfo,["regionId2","regionId3","regionId4","regionName2","regionName3","regionName4","postCode","houseNumber"]),i=G({region_id1:we,field_key_list:Object.keys(xe)},(0,k.qi)(a)),h===R.W1.ZIP_CODE&&(i[R.rJ[R.W1.ZIP_CODE]]=F),h===R.W1.HOUSE_NUMBER&&(i[R.rJ[R.W1.HOUSE_NUMBER]]=F),e.next=16,(0,B.queryRecommendBlock)(i);case 16:l=e.sent,je(G(G({},l),{},{key:o})),Le||(Me(!!l.needDisplayBlock),Be(!l.needDisplayBlock)),l.addressPoiInfo&&(s=l.addressPoiInfo,c=s.addressLine1,d=s.addressLine2,p=s.streetName,m=s.houseNumber,f=s.postCode,g=s.regionName2,b=s.regionFullName2,_=s.regionName3,y=s.regionName4,A=s.regionId2,S=s.regionId3,C=s.regionId4,I=s.source,O=s.poiId,N=s.traceId,w=s.method,x={addressLine1:c,addressLine2:d,streetName:p,houseNumber:m,postCode:f,regionName2:g,regionFullName2:b,regionName3:_,regionName4:y,regionId2:A,regionId3:S,regionId4:C},Pe((function(e){return G(G({},e),{},{addressInfo:G(G({},e.addressInfo),x)})})),Te({address_line1:c,address_line2:d,street_name:p,house_number:m,region_id1:we,region_id2:A,region_id3:S,region_id4:C,post_code:f,poi_id:O,source:I}),setTimeout((function(){De([R.W1.STATE,R.W1.CITY].concat((0,r.A)(c?[R.W1.ADDRESS_LINE1]:[]),(0,r.A)(p?[R.W1.STREET_NAME]:[]),(0,r.A)(m?[R.W1.HOUSE_NUMBER]:[]),(0,r.A)(f?[R.W1.ZIP_CODE]:[])),x)}),0),(0,B.reportSearchListSelect)({trace_id:N,selected_poi_id:O,selected_poi_position:1,source:I,method:w}));case 20:case"end":return e.stop()}}),e)}))),[null==ke?void 0:ke.addressInfo,F,null==v?void 0:v.extraInfo,xe,we,h,je,Me,Be,Te,Pe,De,Le]),_t=(0,d.useCallback)(function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(et(!1),Ze(!1),!ut.current.isSelect&&nt.current&&(0,S.OS)({page_el_sn:229129,op:"paste"}),fe){e.next=5;break}return e.abrupt("return");case 5:return null==H||H(t,ut.current.isSelect),X(),(0,D.pW)(h),e.next=10,(0,O.y)(10);case 10:!mt.current&&Et();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[H,X,h,Et]),yt=(0,d.useCallback)((function(){tt.current=!0}),[]),At=(0,d.useCallback)((function(e){ut.current.isSelect=!0,e&&(C(e),X(),(0,D.mE)({event:"addressEditSelectChange",data:h}))}),[C,h]),St=(0,d.useCallback)((function(){ze(!0)}),[]),Ct=(0,d.useCallback)((function(){ze(!1)}),[]),It=(0,d.useCallback)((function(e){return d.createElement(Y,{optionProps:e,Item:$,pageElSn:oe})}),[$,oe]),Ot={Input:(0,d.useCallback)((function(e){var t,n;return d.createElement(d.Fragment,null,d.createElement(p.c.Input,(0,i.A)({},e,{maxLength:le,onPaste:yt,style:{display:"none"},"aria-label":null===(t=e.selectProps)||void 0===t?void 0:t["aria-label"],"aria-hidden":!0})),d.createElement(I.A,{page_el_sn:re},d.createElement(p.c.Input,(0,i.A)({},e,{autoComplete:"nope",maxLength:le,onPaste:yt,"aria-label":null===(n=e.selectProps)||void 0===n?void 0:n["aria-label"],name:K}))))}),[re,le,yt]),Option:It,IndicatorsContainer:function(e){var t;return de?d.createElement(N.A,{isOpen:null==e||null===(t=e.selectProps)||void 0===t?void 0:t.menuIsOpen}):null},Control:J};ce&&(Ot.MenuList=function(e){var t,n=e.selectProps,r=(0,s.A)(e,V);return d.createElement("div",null,d.createElement(p.c.MenuList,(0,i.A)({},r,{selectProps:n})),!(null===(t=n.options)||void 0===t||!t.length)&&d.createElement(d.Fragment,null,ue?ue():d.createElement("div",{className:W().tip},Ae("enterAddressMannually"))))}),Ee&&F&&$e&&(Ot.NoOptionsMessage=Ee),_e&&(Ot.LoadingMessage=_e);var Nt=(0,j.A)(v),wt=Nt.menuPortalTarget,xt=Nt.menuPortalStyle;return d.createElement("div",{className:W().searchSelect,onMouseEnter:St,onMouseLeave:Ct},d.createElement(m.Ay,{"aria-label":F||ee||(null==v?void 0:v.accessibleBroadcast),options:Q,placeholder:We&&Je||!We||be?ee:"",inputValue:F,className:g()("searchContainer",te,(n={},(0,l.A)(n,W().colorRed,pt),(0,l.A)(n,W().colorActive,de),(0,l.A)(n,W().hasError,he),(0,l.A)(n,W().isSearchBar,h===R.W1.SEARCH_BAR),(0,l.A)(n,W().showWarningBoard,ct),(0,l.A)(n,M.u,h===R.W1.SEARCH_BAR&&he),n)),classNamePrefix:"search",noOptionsMessage:function(){return Ee&&F&&$e?void 0:null},maxMenuHeight:ne,components:Ot,isSearchable:!0,filterOption:function(){return!0},onInputChange:vt,onChange:At,onFocus:ht,onBlur:_t,controlShouldRenderValue:!1,blurInputOnSelect:se,closeMenuOnSelect:!1,styles:{menu:function(e){return G(G({},e),{},{zIndex:99})},menuPortal:function(e){return G(G({},e),xt)}},menuShouldScrollIntoView:!1,menuPortalTarget:wt,closeMenuOnScroll:Ve?function(e){var t,n;return e.target instanceof Element&&!(null!==(t=e.target)&&void 0!==t&&null!==(n=t.className)&&void 0!==n&&n.includes("search__menu-list"))}:void 0,menuIsOpen:fe?void 0:!!F,ref:t,tabIndex:pe,showSearchIcon:ve,openMenuOnFocus:!0,prefix:null==v||null===(c=v.extraInfo)||void 0===c||null===(f=c.postCodeDisplayRule)||void 0===f?void 0:f.prefix,isLoading:ye,addrEditOptimizeAbtest:Ue}),F&&Ke?d.createElement(w.sL,{className:W().inputCloseIcon,onClick:bt}):null)};t.A=(0,d.memo)((0,d.forwardRef)(Z))},76142:function(e,t,n){"use strict";var r=n(33514),o=n(97582),a=n(50453),i=n(27092),l=n(59717),s=n(87837),c=n(82370),u=n(10147),d=n(87291),p=n(38832),m=n.n(p);t.A=(0,r.memo)((function(e){var t=e.onClose,n=(0,o.B)("bec-fe.web-address").t,p=(0,d.CM)().isInPop;return r.createElement(l.A,{size:"l",containerProps:{className:!!p&&m().customContainer},dialogProps:{className:!!p&&m().customDialog},onClose:t},!!p&&r.createElement(l.A.BackButton,{onClick:t,className:m().backButton}),r.createElement(l.A.CloseButton,{onClick:t}),r.createElement("div",{className:m().title},n("tekrpcccguidancetitle")),r.createElement(l.A.ScrollContainer,null,r.createElement("div",{className:m().content},r.createElement("div",{className:m().mainTitle},n("tekrpcccguidancesubtitle")),r.createElement("div",{className:m().detail},n("tekrpcccguidanceexplanation")),r.createElement(s.Rp,{page_el_sn:224663},r.createElement("div",{className:m().link,role:"link",tabIndex:0,"data-aria-enter":"1",onClick:function(){return a.Ay.uniformForward("https://unipass.customs.go.kr/csp/openPersSrrmRect.do?page=1",{openTarget:"_blank"})}},n("tekrpcccguidanceexplanationjumped"),r.createElement(i.A,{className:m().arrow,"aria-hidden":!0}))),r.createElement("div",{className:m().sep}),r.createElement("div",{className:m().mainTitle},n("tekrpcccguidancesubtitle2")),r.createElement("div",{className:m().subTitle},n("tekrpcccguidanceobject")),r.createElement("div",{className:m().detail,style:{marginTop:8}},n("tekrpcccguidanceexplanation1")),r.createElement(c.Ay,{src:"https://aimg.kwcdn.com/upload_aimg_b/comments/9612281c-1801-416c-85e8-cfe950535fd3.png.slim.png",className:m().img,resizeWidth:560,"aria-hidden":!0,alt:""}),r.createElement(c.Ay,{src:"https://aimg.kwcdn.com/upload_aimg_b/comments/3090bfc1-d8eb-417b-9ac7-81b4281f3de6.png.slim.png",className:m().img,resizeWidth:560,"aria-hidden":!0,alt:""}),r.createElement("div",{className:m().detail,style:{marginTop:24}},n("tekrpcccguidanceexplanation1b")),r.createElement(c.Ay,{src:"https://aimg.kwcdn.com/upload_aimg_b/comments/eb9604c9-df50-4861-93c8-5cf78cc36288.png.slim.png",className:m().img,resizeWidth:560,"aria-hidden":!0,alt:""}),r.createElement("div",{className:m().subTitle,style:{marginTop:36}},n("tekrpcccguidanceobject1")),r.createElement("div",{className:m().detail,style:{marginTop:8}},n("tekrpcccguidanceexplanation2")),r.createElement(c.Ay,{src:"https://aimg.kwcdn.com/upload_aimg_b/comments/c91228cd-f2b1-4831-bfcf-e8f4994564b0.png.slim.png",className:m().img,resizeWidth:560,"aria-hidden":!0,alt:""}),r.createElement("div",{className:m().detail},n("tekrpcccguidanceexplanation2b")),r.createElement(c.Ay,{src:"https://aimg.kwcdn.com/upload_aimg_b/comments/ae811c3f-03ed-40d7-bd65-23281a8ffee4.png.slim.png",className:m().img,resizeWidth:560,"aria-hidden":!0,alt:""}))),r.createElement(l.A.StaticContainer,null,r.createElement(s.Rp,{page_el_sn:224664},r.createElement(u.A,{className:m().button,onClick:function(){return a.Ay.uniformForward("https://unipass.customs.go.kr/csp/persIndex.do",{openTarget:"_blank"})}},n("tekrpcccguidancepagejumped")))))}))},4937:function(e,t,n){"use strict";n.d(t,{A:function(){return N}});n(62062);var r=n(33514),o=n(61877),a=n(32485),i=n.n(a),l=n(56733),s=n(95789),c=n(46694),u=n(40304),d=n(47571),p=n(50452),m=n(73035),f=n(34678),g=n(82370),v=n(87837),b=n(21447),h=n(54461),E=n(86063),_=n(38532),y=n(76142),A=n(98811),S=n.n(A),C=function(e){var t,n,a,A,C=e.tipsBackgroudColor,I=e.tipsBorderColor,O=e.tipsClickEvent,N=e.tipsIconColor,w=e.tipsIconSize,x=e.tipsIconPattern,k=e.tipsRichText,P=e.tipsWithoutBorder;(0,r.useEffect)((function(){null!=O&&O.eventFloatWindowTips&&(0,_.mE)({event:"eventFloatWindowTips"})}),[]);var T=(0,c.Sz)().localInfo;if(!k)return null;var D={backgroundColor:C,borderColor:I,"--config-color":I},R={width:w||14,height:w||14,fill:N},L=+(null==T?void 0:T.region)===l.gq.kr?function(){var e=(0,s.A)(r.createElement(y.A,{onClose:function(){return null==e?void 0:e()}}),null)}:function(){if(null!=O&&O.eventFloatWindow){var e,t=O.eventFloatWindow,n=t.windowType,o=t.windowTitle,a=t.windowContent,i=t.windowButton,l=void 0===i?[]:i,s=t.windowButtonAboveTips;(0,m.P)({popupNode:r.createElement(f.A,{onClose:m.L,confirmButtonLabel:null===(e=l[0])||void 0===e?void 0:e.windowButtonText,onConfirm:m.L,scrollContainerProps:{className:s?S().floatWindowContainer:""}},r.createElement("div",{className:S().floatWindowWrap},1===n&&r.createElement("div",{className:S().securityImage},r.createElement(g.Ay,{src:"https://aimg.kwcdn.com/upload_aimg/br/bcfa0a9f-905f-4af0-b972-9bcbf083fd5f.png.slim.png",resizeWidth:106,alt:"","aria-hidden":!0})),!!o&&r.createElement("div",{className:S().windowTitle},o),!!a&&r.createElement("div",{className:S().windowContent},(0,E.A)(a)),!!s&&r.createElement("div",{className:S().windowButtonAboveTips},(0,E.A)(s))))})}if(null!=O&&O.windowContentImages){var c=O.windowContentImages,u=c.title,d=c.confirmButton,p=c.contentList;(0,m.P)({popupNode:r.createElement(f.A,{onClose:m.L,title:u,confirmButtonLabel:d,onConfirm:m.L},p.map((function(e){var t=e.content,n=e.images;return r.createElement("div",{className:S().section},r.createElement("div",{className:S().content},t),n.map((function(e){return r.createElement("div",{className:S().imageWrap},r.createElement("div",{className:S().image},r.createElement(g.Ay,{src:e.url,alt:""})),r.createElement("span",{className:S().desc},e.desc))})))})))})}};return r.createElement(r.Fragment,null,r.createElement("div",{className:i()(S().alert,(t={},(0,o.A)(t,S().noBorder,P),(0,o.A)(t,S().noEnhanceBorder,2===x),t)),style:D},0===x&&r.createElement(u.A,{className:S().icon,style:R,"aria-hidden":!0}),1===x&&r.createElement(u.A,{className:S().icon,style:R,"aria-hidden":!0}),2===x&&r.createElement(d.A,{className:S().icon,style:R,"aria-hidden":!0}),3===x&&r.createElement(h.hL,{className:S().icon,style:R,"aria-hidden":!0}),r.createElement(b.A,{data:k,className:S().richText}),!!O&&r.createElement(v.Rp,{page_el_sn:230438},r.createElement("div",{className:i()(S().linkText,(a={},(0,o.A)(a,S().onlyIcon,!O.eventFloatWindowTips),(0,o.A)(a,S().noMarginBottom,!(null===(n=O.eventFloatWindowRichTips)||void 0===n||!n.length)),a)),role:"button",tabIndex:0,onClick:L},null!==(A=O.eventFloatWindowRichTips)&&void 0!==A&&A.length?r.createElement(b.A,{data:O.eventFloatWindowRichTips}):O.eventFloatWindowTips,4===O.eventIconPattern?r.createElement(p.A,{className:S().eventIcon,style:{fill:"#cdcdcd",width:O.eventIconSize||14,marginLeft:"2px"}}):r.createElement(h.hu,{className:S().eventIcon})))))},I=(0,r.memo)(C),O=function(e){var t=e.data;return null!=t&&t.length?t.map((function(e){var t=e.tipsRichText,n=e.tipsBackgroudColor,o=e.tipsBorderColor,a=e.tipsClickEvent,i=e.tipsIconColor,l=e.tipsIconSize,s=e.tipsIconPattern,c=e.tipsWithoutBorder;return r.createElement(I,{tipsRichText:t,tipsBackgroudColor:n,tipsBorderColor:o,tipsIconColor:i,tipsIconSize:l,tipsIconPattern:s,tipsClickEvent:a,tipsWithoutBorder:c})})):null},N=(0,r.memo)(O)},35660:function(e,t,n){"use strict";n.d(t,{A:function(){return E}});n(79432),n(52675),n(2008),n(83851),n(44114),n(81278),n(67945),n(84185);var r=n(61877),o=n(74533),a=n(6356),i=(n(26099),n(23500),n(11286)),l=n.n(i),s=n(33514),c=n(8019),u=n(20515),d=n(54639),p=n(87291),m=n(90265),f=(n(62062),n(11392),n(84864),n(57465),n(27495),n(87745),n(38781),n(90906),n(25276),n(71761),n(25440),n(84172)),g=function(e){var t,n,r=e.val,o=e.name,a=e.regionConfig,i=e.canSubmit,l=e.formData,s=e.trigger,c=void 0===s?"change":s,u=e.ignoreTrigger,p=void 0!==u&&u,m=e.hitNewValidate,g=void 0!==m&&m,v={showWarning:!1,show2Line:!1,warningText:"",level:"",valid:!0,errorPopType:null,errorType:"",canSubmit:!0};if(!a||!o)return v;var b,h,E=(null==a||null===(t=a.extraInfo)||void 0===t||null===(n=t.postCodeDisplayRule)||void 0===n?void 0:n.prefix)||"",_=!1,y=[];g?y=(null==a||null===(b=a.enterRegexConfig)||void 0===b?void 0:b.filter((function(e){return i===e.canSubmit&&(!!p||c===e.trigger)})))||[]:y=(null==a||null===(h=a.enterRegexConfig)||void 0===h?void 0:h.filter((function(e){return i===e.canSubmit})))||[];for(var A=0;A<y.length;A++){var S=y[A],C=(S.joinKeyField||[]).map((function(e){return(0,f.yp)(e)})),I=C.length&&!i?C.map((function(e){var t,n;return null!==(t=null==l?void 0:l[e])&&void 0!==t?t:null==l||null===(n=l.addressInfo)||void 0===n?void 0:n[e]})).join(""):null!=r&&r.startsWith(E)?r:E+r,O=new RegExp(S.regex),N=O.test(I);if(_=S.isWhiteList?!N:N,!r&&i&&(_=!1),_){var w,x,k=(null===(w=S.msg)||void 0===w?void 0:w.indexOf("{}"))>=0,P=k?(r.match(new RegExp(O,"g"))||[]).join(""):"";v={showWarning:_,show2Line:o===d.W1.NAME,warningText:k?null===(x=S.msg)||void 0===x?void 0:x.replace("{}",P):S.msg,level:S.level,valid:!1,errorPopType:"lineConfirmPop"===S.regexKey?d.tQ.LINE_CONFIRM_POP:"",errorType:S.regexKey,canSubmit:S.canSubmit};break}}return v};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.children,n=(0,s.useState)({}),i=(0,a.A)(n,2),f=i[0],v=i[1],h=(0,s.useState)({}),E=(0,a.A)(h,2),_=E[0],y=E[1],A=(0,s.useRef)(!1);(0,s.useEffect)((function(){(0,o.A)(l().mark((function e(){var t,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.queryABTest)({sceneList:["cp36867"]});case 2:r=e.sent,A.current=!!(0,c.Si)(location.hostname)||(null==r||null===(t=r.result)||void 0===t||null===(n=t.cp36867)||void 0===n?void 0:n.hitNewValidate);case 4:case"end":return e.stop()}}),e)})))()}),[]);var S=(0,s.useCallback)((function(e){var t=e.val,n=e.name,o=e.validateText,a=e.regionConfig,i=e.pageElSn,l=e.hasClickSubmit,s=e.isActivateVerify,c=e.formData,d=e.trigger,p=g({val:t,name:n,regionConfig:a,canSubmit:!1,formData:c,trigger:d,ignoreTrigger:l||s,hitNewValidate:A.current});return v((function(e){return b(b({},e),{},(0,r.A)({},n,{showValidate:!(null==p||!p.showWarning),validateText:o||(null==p?void 0:p.warningText)||""}))})),l&&(0,u.Tn)({op:u.oO.Impr,page_el_sn:i,error_key:null==p?void 0:p.errorType}),p}),[]),C=(0,s.useCallback)((function(e){var t=e.val,n=e.name,o=e.validateText,a=e.needShowValidate,i=void 0===a||a,l=e.needRequired,s=void 0===l||l,c=e.pageElSn,d=e.hasClickSubmit;if(!t){var p=!s;return v((function(e){return b(b({},e),{},(0,r.A)({},n,p?{}:{showValidate:i,validateText:o}))})),d&&s&&(0,u.Tn)({op:u.oO.Impr,page_el_sn:c,error_key:"non_regex"}),p}return!0}),[]),I=(0,s.useCallback)((function(e){var t=e.val,n=e.name,r=e.validateText,o=e.needShowValidate,a=void 0===o||o,i=e.needRequired,l=e.regionConfig,s=e.pageElSn,c=e.hasClickSubmit,u=void 0!==c&&c,d=e.isActivateVerify,p=void 0!==d&&d,m=e.formData,f=e.trigger;return t?S({val:t,name:n,validateText:r,needShowValidate:a,regionConfig:l,pageElSn:s,hasClickSubmit:u,isActivateVerify:p,formData:m,trigger:f}):{valid:C({val:t,name:n,validateText:r,needShowValidate:a,needRequired:i,pageElSn:s,hasClickSubmit:u,formData:m}),warningText:r||(null==l?void 0:l.requiredMissTips)||"",errorType:"required",errorPopType:null,canSubmit:!1}}),[C,S]),O=(0,s.useCallback)((function(e){var t=e.val,n=e.name,o=e.regionConfig,a=e.formData,i=e.trigger,l=g({val:t,name:n,regionConfig:o,canSubmit:!0,formData:a,trigger:i,hitNewValidate:A.current});y((function(e){return b(b({},e),{},(0,r.A)({},n,l))}))}),[]),N=(0,s.useCallback)((function(e){var t=e.name,n=e.warning;y((function(e){return b(b({},e),{},(0,r.A)({},t,n))}))}),[]),w=(0,s.useCallback)((function(e){var t,n=e.val,r=e.name,o=e.validateText;return null===(t=I({val:n,name:r,validateText:o,needRequired:!0,hasClickSubmit:!0}))||void 0===t?void 0:t.valid}),[I]),x=(0,s.useCallback)((function(e){var t=e.val,n=e.needShowValidate,r=void 0===n||n,o=e.regionConfig,a=e.pageElSn,i=e.hasClickSubmit,l=e.formData,s=I({val:t,name:d.W1.ADDRESS_LINE1,needShowValidate:r,needRequired:!0,regionConfig:o,pageElSn:a,hasClickSubmit:i,formData:l}),c=s.valid,u=s.errorPopType,p=s.errorType,m=s.warningText,f=s.canSubmit;return c?{isValid:!0,errorPopType:null}:{isValid:!1,errorPopType:u,errorType:p,warningText:m,canSubmit:f}}),[I]),k=(0,s.useCallback)((function(e){null!=e&&e.length?e.forEach((function(e){v((function(t){return b(b({},t),{},(0,r.A)({},e,{}))}))})):v({})}),[]),P=(0,s.useCallback)((function(e){null!=e&&e.length?e.forEach((function(e){y((function(t){return b(b({},t),{},(0,r.A)({},e,{}))}))})):y({})}),[]),T=(0,s.useMemo)((function(){return{validateInfo:f,validateValueRequired:C,validateValue:I,validateValueBack:w,validateLine1Change:x,resetValidateInfo:k,warningInfo:_,warningValueFront:O,warningValueBack:N,resetWarningInfo:P,hitNewValidate:A.current}}),[f,C,I,w,x,k,_,O,N,P]);return s.createElement(p.Jk,{value:T},t)},E=(0,s.memo)(h)},84448:function(e,t,n){"use strict";n.d(t,{C:function(){return O}});var r=n(14242),o=n(61877),a=(n(62062),n(74423),n(21699),n(33514)),i=n(32485),l=n.n(i),s=n(47116),c=n(2526),u=n(50453),d=n(75946),p=n(87837),m=n(84889),f=n(54461),g=n(86063),v=n(38532),b=n(91520),h=n(54639),E=n(87291),_=n(25804),y=n(67294),A=n(4937),S=n(2286),C=n.n(S),I=(0,a.memo)((function(e){var t=e.text,n=e.className;return t?a.createElement("div",{className:l()(C().validateText,_.u,n)},a.createElement(f.ec,{className:C().warnIcon}),(0,g.A)(t)):null})),O=function(e){var t=e.vKey,n=e.needShowValidate,r=e.regionConfig,i=e.className,s=e.customNotFoundTip,c=(0,E.s4)(),u=c.validateInfo,d=c.warningInfo,p=(0,E.XQ)().notDeliveredInfo,m=(0,E.CM)().isEdit,f=(0,E.Gb)().queryRecommendBlockResult,g=(0,a.useMemo)((function(){return t===(null==f?void 0:f.key)?null==f?void 0:f.recommendMsg:""}),[f]);"postCode"===t&&(t="zipCode"),"region3"===t&&(t="city");var v=u[t]||{},b=v.showValidate,h=v.validateText,_=d[t]||{},y=_.showWarning,A=_.warningText,S=_.show2Line,O=h||(null==r?void 0:r.requiredMissTips),N=(0,a.useMemo)((function(){return A||""}),[A]),w=(null==p?void 0:p[t])||[],x=(r||{}).replaceableBottomPrompt,k=(0,a.useRef)(!m&&!!x),P=null,T=n&&b&&O;return T?P=a.createElement(I,{text:O,className:i}):null!=w&&w.length?P=w.map((function(e,t){return a.createElement(I,{key:t,text:e})})):y&&N&&(P=a.createElement("div",{className:l()(C().validateText,C().warningText,(0,o.A)({},C().show2Line,S))},N)),P&&(k.current=!1),!P&&k.current&&(P=a.createElement("div",{className:C().replaceableBottomPrompt},x)),a.createElement(a.Fragment,null,P,null==s?void 0:s(!!T),!!g&&a.createElement("div",{className:C().customQueryRecommendBlockTip},g))},N=function(e){var t,n=e.needShowValidate,i=e.isSplit,s=e.isSlave,f=e.vKey,g=e.children,_=e.className,S=e.labelClassName,I=e.tipClassName,N=e.showLabelName,w=e.regionConfig,x=e.showFieldTopTips,k=e.showFieldTip,P=e.isFloatLabel,T=e.forceNormalLabel,D=e.customNotFoundTip,R=e.customLabelName,L=e.labelName,j=e.onValidateChange,M=e.onAutoFocus,B=(0,E.Cr)(),F=B.store,W=B.formData,U=B.activateField,V=(F||{}).showSearchBarField,H=(0,E.s4)(),G=H.validateInfo,K=H.validateValue,z=H.warningValueFront,q=H.validateValueBack,Y=H.warningValueBack,J=null!=w&&w.order?{order:null==w?void 0:w.order}:{},Z=w||{},Q=Z.fieldTips,X=Z.fieldTipsType,$=Z.fieldAboveTips,ee=Z.isRequired,te=Z.fieldKey,ne=(null==w?void 0:w.extraInfo)||{},re=ne.fieldRichTextTips,oe=ne.putOutErrorText,ae=ne.fieldAboveRichTips,ie=ne.activateRegex,le=ne.activateFocus,se=ne.activateVerify,ce=ne.fieldCheckFailedErrorTips,ue=ne.fieldCheckFailedWarnTips,de=ne.fieldTipModules,pe=[h.W1.MOBILE,h.W1.ADDITIONAL_MOBILE].includes(f)?{dir:"ltr"}:{},me=G[f]||{},fe=me.showValidate,ge=me.validateText,ve=!!(n&&fe&&(ge||null!=w&&w.requiredMissTips));return(0,a.useEffect)((function(){null==j||j(ve)}),[ve]),(0,a.useEffect)((function(){ce&&q({val:"",name:f,validateText:ce})}),[]),(0,a.useEffect)((function(){ue&&Y({name:f,warning:{showWarning:!0,show2Line:f===h.W1.NAME,warningText:ue,level:"warn",valid:!1,errorType:"back",canSubmit:!0,warningBoard:!0}})}),[]),(0,a.useEffect)((function(){var e=function(){var e,t=f;"name"===f&&(t="fullName");var n=(null==W?void 0:W[t])||(null==W||null===(e=W.addressInfo)||void 0===e?void 0:e[t]);K({val:n,name:f,needShowValidate:!0,needRequired:!!ee,regionConfig:w,formData:W,isActivateVerify:!0}),z({val:n,name:f,regionConfig:w,formData:W})};ie&&(0,v.mE)({event:"activateRegex",data:f}),le&&(0,v.mE)({event:"activateFocus",data:f}),se&&(0,v.mE)({event:"activateVerify",data:f}),ie||le&&se?(null==M||M(),e()):le||U===f?null==M||M():se&&e()}),[ie,le,se,U]),null!=w&&null!==(t=w.extraInfo)&&void 0!==t&&t.isSearchBarField&&!V?null:a.createElement("div",{style:J,className:l()((0,o.A)({},C().isSlave,s))},(!!ae||!!$)&&a.createElement(m.A,{richText:ae,text:$,className:l()(C().fieldAboveTips,I)}),a.createElement(A.A,{data:null==de?void 0:de[b.Q.AboveTitle]}),!!N&&a.createElement(y.A,{className:S,regionConfig:w,showFieldTopTips:x,showFieldTip:k,isFloatLabel:P,forceNormalLabel:T,labelName:L}),null==R?void 0:R(),a.createElement(A.A,{data:null==de?void 0:de[b.Q.UnderTitle]}),a.createElement(A.A,{data:null==de?void 0:de[b.Q.AboveInput]}),a.createElement("div",(0,r.A)({className:l()(_,C().visibleWhenIsSlave)},pe),g),!oe&&!i&&a.createElement(O,{vKey:f,needShowValidate:n,regionConfig:w,customNotFoundTip:D}),a.createElement(A.A,{data:null==de?void 0:de[b.Q.UnderInput]}),!!Q&&(1===X?a.createElement("div",{className:l()(C().fieldTips,C().fieldTipsType1)},a.createElement(d.A,{className:C().fieldIcon,"aria-hidden":!0}),Q):a.createElement("div",{className:C().fieldTips},Q)),!(null==re||!re.length)&&a.createElement("div",{className:C().fieldRichTextTips},re.map((function(e){var t=e.text,n=e.fontSize,r=e.fontColor,o=e.jumpUrl;return o?a.createElement(p.Rp,{page_el_sn:237627,others:{field_key:te}},a.createElement(c.N_,{href:o,url:o,style:{fontSize:n,color:r},className:C().jumpUrl,onClick:function(){return u.Ay.uniformForward(o,{openTarget:"_blank"})}},t)):a.createElement("span",{style:{fontSize:n,color:r,minWidth:"4px"}},t)}))))};N.defaultProps={showLabelName:!0,needShowValidate:!0},t.A=(0,s.PA)(N)},11747:function(e,t,n){"use strict";n.d(t,{A:function(){return N}});var r=n(33514),o=n(14511),a=n(97582),i=n(59661),l=n(90930),s=n(35660),c=n(74533),u=n(6356),d=n(11286),p=n.n(d),m=n(10147),f=n(6864),g=n(8297),v=n(38532),b=n(87291),h=n(46800),E=n(56508),_=n(84448),y=n(83951),A=n(88894),S=n(12328),C=n.n(S),I="postnumber",O=function(e){var t=e.addressSnapshotId,n=e.addressSnapshotSn,o=e.onClose,i=e.onSuccess,l=(0,a.B)("bec-fe.web-address").t,s=(0,b.s4)().validateValue,d=(0,g.A)(),S=d.isLock,O=d.lockSubmit,N=(0,r.useState)(""),w=(0,u.A)(N,2),x=w[0],k=w[1],P=(0,y.q)().postnumberConfig.postnumber;delete P.fieldTips;var T=(0,r.useCallback)((function(e){k(e)}),[]),D=function(){var e=(0,c.A)(p().mark((function e(){var r,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(null!=(r=s({val:x,name:"postnumber",needShowValidate:!0,needRequired:!(null==P||!P.isRequired),regionConfig:P}))&&r.valid&&!S){e.next=5;break}return e.abrupt("return");case 5:return O(!0),e.next=8,(0,A.dO)({address_snapshot_id:t,postnumber:x,address_snapshot_sn:n});case 8:a=e.sent,O(!1),null!=a&&a.addressSnapshotId?((0,v.mE)({event:"DHLBindPostNumberSuccess"}),null==i||i(a),null==o||o()):(0,v.mE)({event:"DHLBindPostNumberFail"});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.createElement("div",{className:C().formWrap},r.createElement(E.A,{isBubble:!0,extraInfo:null==P?void 0:P.extraInfo}),r.createElement(_.A,{vKey:I,labelClassName:C().label,regionConfig:P,showFieldTip:!1},r.createElement(h.A,{vKey:I,trigger:["onChange","onBlur"],regionConfig:P},r.createElement(f.A,{value:x,maxLength:null==P?void 0:P.maxSize,className:C().input,onChange:T}))),r.createElement("div",{className:C().footer},r.createElement(m.A,{className:C().confirmButton,onClick:D},l("save"))))},N=(0,l.A)((0,o.W4)())((0,r.memo)((function(e){var t=e.addressSnapshotId,n=e.addressSnapshotSn,o=e.onClose,l=e.onSuccess,c=(0,a.B)("bec-fe.web-address").t;return r.createElement(i.Ay,{onClick:o},r.createElement(s.A,null,r.createElement("div",{className:C().wrap},r.createElement("div",{className:C().title},c("add_dhl_postnumber_popup_title")),r.createElement("div",{className:C().tip},c("add_dhl_postnumber_explain")),r.createElement(O,{addressSnapshotId:t,addressSnapshotSn:n,onClose:o,onSuccess:l}))))})))},78484:function(e,t,n){"use strict";n.d(t,{A:function(){return en}});var r=n(61877),o=n(74533),a=n(6356),i=n(11286),l=n.n(i),s=(n(23792),n(26099),n(3362),n(47764),n(62953),n(33514)),c=n(32485),u=n.n(c),d=n(14511),p=n(46694),m=n(34243),f=n(59661),g=n(44458),v=n(95376),b=n(90930),h=n(36806),E=n(66808),_=n(38532),y=function(e){return e[e.Form=0]="Form",e[e.Search=1]="Search",e[e.Map=2]="Map",e}({}),A=function(e){return e.EVRi="EVRi",e.DHLe="DHLe",e.HERm="HERm",e.DHLp="DHLp",e.MONd="MONd",e}({}),S=n(18046),C=n(35660),I=(n(52675),n(2008),n(83851),n(44114),n(23500),n(81278),n(67945),n(84185),n(56687)),O=(n(72712),n(62062),n(74423),n(21699),n(69085),n(79432),n(33110),n(8515)),N=n(56733),w=n(97582),x=n(27092),k=n(20657),P=n(87837),T=n(10147),D=n(1528),R=n(8565),L=n(20162),j=n(94995),M=n(84889),B=n(33546),F=n(54461),W=n(84172),U=n(57402),V=n(8297),H=n(54639),G=n(87291),K=n(25804),z=(0,s.createContext)({});function q(){return s.useContext(z)}var Y=(0,s.createContext)({});function J(){return s.useContext(Y)}var Z=n(83951),Q=n(88894),X=n(38221),$=n.n(X),ee=n(44798),te=n(40304),ne=n(82370),re=n(59808),oe=n(21892),ae=(n(28706),n(50453)),ie=n(49843),le=n(14242),se=n(90010),ce=n(16835),ue=n(86428),de=n.n(ue),pe=["selectProps"];function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge={SET_VALUE:"set-value",INPUT_CHANGE:"input-change",INPUT_BLUR:"input-blur",MENU_CLOSE:"menu-close"},ve=(0,s.memo)((function(e){var t=e.optionProps,n=e.pageElSn,r=t.innerProps,o=t.data;return s.createElement(R.A,{page_el_sn:n},s.createElement("div",(0,le.A)({},r,{className:de().item}),s.createElement("span",{className:de().text},o.recommendText),s.createElement(F.hu,{className:de().arrowIcon})))})),be=function(){return null},he=function(e){var t=e.selectProps,n=(0,I.A)(e,pe);return s.createElement(R.A,{page_el_sn:221815},s.createElement("div",{className:de().menuList},s.createElement(se.c.MenuList,(0,le.A)({},n,{selectProps:t}))))},Ee=function(e){var t=e.onSearch,n=e.isPostCodeFilter,r=e.isAddressSearch,i=e.isPostCodeSearch,c=e.onSelect,d=e.inputValue,p=e.onInput,m=e.onBlur,f=e.options,g=e.onResetOptions,v=e.className,b=e.pageElSn,h=e.optionPageElSn,E=e.formatter,A=e.maxLength,S=e.blurInputOnSelect,C=e.wrapClassName,I=e.disabled,O=e.onClick,N=(0,w.B)("bec-fe.web-address").t,x=q(),k=x.panelStatus,P=x.config,T=J().setShowPickupPoints,D=(0,s.useState)(!1),L=(0,a.A)(D,2),j=L[0],M=L[1],B=(0,s.useRef)({isSelect:!1}),W=(0,s.useCallback)((function(e){((null==e?void 0:e.length)>=3||n||r)&&(null==t||t(e))}),[t,n,r]),U=(0,s.useCallback)(function(){var e=(0,o.A)(l().mark((function e(t,n){var r,o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.action,o=n.prevInputValue,![ge.INPUT_BLUR,ge.MENU_CLOSE,ge.SET_VALUE].includes(r)){e.next=3;break}return e.abrupt("return");case 3:a=E?E(t):t,p(a),(null==a?void 0:a.length)-(o||"").length>4&&!j||W(a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[p,E,j,W]),V=(0,s.useCallback)((function(){p(""),g(),n?null==t||t(""):null==T||T(!1)}),[n]),H=(0,s.useCallback)((function(e){B.current.isSelect=!1}),[]),G=(0,s.useCallback)((function(e){null==m||m(e,B.current.isSelect),g(),M(!1)}),[m,g,M]),K=(0,s.useCallback)((function(){M(!0)}),[]),z=(0,s.useCallback)((function(e){B.current.isSelect=!0,e&&(c(e),(0,_.mE)({event:"addressPickupSelectChange"}))}),[c]),Y=(0,s.useCallback)((function(e){return s.createElement(ve,{optionProps:e,pageElSn:h})}),[h]),Z=(0,s.useCallback)((function(e){return s.createElement(R.A,{page_el_sn:b},s.createElement(se.c.Input,(0,le.A)({},e,{autoComplete:"off",maxLength:A,onPaste:K})))}),[b,A,K]),Q=(0,s.useRef)(null);return(0,s.useEffect)((function(){var e=setTimeout((function(){var e;k===y.Search&&(null===(e=Q.current)||void 0===e||e.focus())}),300);return function(){clearTimeout(e)}}),[k]),s.createElement("div",{className:u()(de().searchSelect,C),onClick:O,role:"button",tabIndex:0},s.createElement(ce.Ay,{ref:Q,options:f,placeholder:(null==P?void 0:P.poiSearchBarPlaceholder)||N(i||n?"Pickup_location_search_shading_words":"searchByAddressCityOrPostcode"),inputValue:d,className:u()("searchContainer",v),classNamePrefix:"search",noOptionsMessage:function(){return null},maxMenuHeight:430,components:{Input:Z,Option:Y,IndicatorsContainer:be,MenuList:he},isSearchable:!0,filterOption:function(){return!0},onInputChange:U,onChange:z,onFocus:H,onBlur:G,controlShouldRenderValue:!1,blurInputOnSelect:S,styles:{menu:function(e){return fe(fe({},e),{},{zIndex:9999})}},menuShouldScrollIntoView:!1,isDisabled:I,menuPortalTarget:document.body}),d?s.createElement(R.A,{page_el_sn:221819},s.createElement(F.sL,{className:de().clean,onClick:V})):null)},_e=(0,s.memo)(Ee),ye=n(40782),Ae=n(21877),Se=n(40309),Ce=n(8076),Ie=n.n(Ce),Oe=function(e){var t=e.panelStatus,n=e.data,o=void 0===n?[]:n,a=e.className,i=e.onChange,l=(0,s.useCallback)((function(e){var t=o.map((function(t){return t.filterName===e.filterName&&(t.isActive=!t.isActive),t}));i(t),(0,_.mE)({event:"onPickupFilterChange"})}),[o,i]),c=(0,s.useCallback)((function(e){switch(e){case"OPEN_IN_SUNDAY":return t===y.Map?231353:231344;case"OPEN_AFTER_19":return t===y.Map?231352:231346;case"CHOOSE_LOCKER":return t===y.Map?231350:231347;default:return null}}),[]);return null!=o&&o.length?s.createElement("div",{className:u()(Ie().tabsWrap,a)},s.createElement(ye.pM,{needSplitWords:!1,type:Ae.N.capsule},o.map((function(e){return s.createElement(Se.Nn,{key:e.filterShownName},s.createElement(P.Rp,{page_el_sn:c(e.filterName)},s.createElement(T.A,{type:D.el.border,innerCls:u()(Ie().capsuleInner,(0,r.A)({},Ie().capsuleActive,e.isActive)),className:Ie().capsuleWrap,onClick:function(){return l(e)}},s.createElement("div",{className:Ie().singleCapsuleText},e.filterShownName))))})))):null},Ne=(0,s.memo)(Oe),we=n(63956),xe=n.n(we);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Te=(0,s.memo)((function(e){var t=e.disabled,n=e.wrapClassName,r=e.onClick,o=e.customSearch,i=q(),l=i.formData,c=i.config,u=i.isAddressSearch,d=i.input,p=i.setInput,m=i.extraParamsRef,f=i.regionId1,g=J(),v=g.setShowPickupPoints,b=g.setShowHeadSection,h=g.isPostCodeFilter,E=g.queryPickupPoints,_=g.resetPickupPoints,y=(0,s.useState)([]),A=(0,a.A)(y,2),S=A[0],C=A[1],I=(0,s.useRef)("");(0,s.useEffect)((function(){u&&(I.current=(0,ee.A)())}),[u]);var O=(0,s.useCallback)((function(e){t||(p({label:e,value:e}),h||(e.length<3&&C([]),v(!1)))}),[h]),N=(0,s.useCallback)((function(e){var t,n=e||{},r=n.recommendText,o=n.postCode,a=n.traceId,i=n.poiId,l=n.recommendIndex,s=n.idx,c=n.source,d=n.method;(p({label:u?r:o,value:o}),u)&&Q.fc({trace_id:a,selected_poi_id:i,selected_poi_position:(null!==(t=null!=l?l:s)&&void 0!==t?t:0)+1,source:c,method:d,scene_id:"2001069"});v(!0),b(!0),m.current=Pe(Pe({},i?{poi_id:i}:{}),c?{source:c}:{}),E({postCode:o,extraParams:Pe(Pe({},m.current),{},{session_token:I.current})}),u&&(I.current=(0,ee.A)())}),[u]),w=(0,s.useCallback)($()((function(e){l&&f&&(o?o():(u&&Q.e2({region_id1:+f,key_word:e,scene_id:"2001069",session_token:I.current}).then((function(e){C(e),e.length||(_(),v(!0),b(!1))})),101===c.poiSearchType&&Q.ri({region_id1:+f,post_code:e}).then((function(e){C(e),e.length||(_(),v(!0),b(!1))}))))}),300),[l,u,c]),x=(0,s.useCallback)((function(){C([])}),[]);return s.createElement(_e,{onInput:O,onSelect:N,inputValue:t?"":null==d?void 0:d.label,onSearch:w,options:S,onResetOptions:x,pageElSn:221818,blurInputOnSelect:!0,wrapClassName:n,disabled:t,onClick:r,isPostCodeFilter:h,isAddressSearch:u,isPostCodeSearch:101===c.poiSearchType})})),De=(0,s.forwardRef)((function(e,t){var n=(0,w.B)("bec-fe.web-address").t,i=q(),c=i.formData,d=i.pickupPoint,p=i.pickupPointApiResult,m=i.setPickupPoint,f=i.setPickupPointApiResult,g=i.setFormData,v=i.setEnablePostNumber,b=i.panelStatus,h=i.setPanelStatus,E=i.shippingAddressSnapshotSn,S=i.isSearchWithoutPostCodeRef,C=i.isAddressSearch,I=i.input,O=i.extraParamsRef,N=i.config,k=i.regionId1,L=J(),M=L.showPickupPoints,B=L.showHeadSection,W=(0,s.useState)(!1),U=(0,a.A)(W,2),H=U[0],G=U[1],K=(0,s.useState)([]),z=(0,a.A)(K,2),Y=z[0],Z=z[1],X=(0,s.useState)({}),$=(0,a.A)(X,2),ee=$[0],ie=$[1],le=(0,s.useRef)(null),se=(0,s.useRef)(null),ce=(0,V.A)().lockSubmit,ue=(0,s.useState)(!1),de=(0,a.A)(ue,2),pe=de[0],me=de[1],fe=(0,s.useRef)(!1),ge=(0,s.useCallback)(function(){var e=(0,o.A)(l().mark((function e(t){var n,r,o,a,i,s,u,p,m,g,v,b;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c&&k){e.next=2;break}return e.abrupt("return");case 2:if(o=(r=t||{}).postCode,a=r.extraParams,i=r.filterSupportList,s=void 0===i?[]:i,u=[],G(!0),ce(!0),1!==N.pickupRecommendApi){e.next=19;break}return p=(d||{}).pickUpPointId,e.next=10,Q.Ay(Pe(Pe(Pe(Pe({region_id1:+k,pick_up_filter_request:{filter_name_list:s.filter((function(e){return e.isActive})).map((function(e){return e.filterName}))}},E?{shipping_address_snapshot_sn:E}:{}),p?{pick_up_point_id:p}:{}),S.current?{}:{post_code:o||(null==I?void 0:I.value)}),a),{filterSupportList:s});case 10:m=e.sent,g=m.pickUpPointList,v=void 0===g?[]:g,b=m.filterSupportList,u=v,f({pickUpPointList:v,filterSupportList:void 0===b?[]:b}),e.next=22;break;case 19:return e.next=21,Q.YT({region_id1:+k,post_code:o||(null==I?void 0:I.value)});case 21:u=e.sent;case 22:ce(!1),G(!1),Z(u||[]),ie(null===(n=u)||void 0===n?void 0:n[0]);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,I,E,d,k,ce,f,S]),ve=(0,s.useCallback)((0,o.A)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Q.Ay(Pe({region_id1:+k,is_pre_check:!0},E?{shipping_address_snapshot_sn:E}:{}));case 4:t=e.sent,n=t.preCheckResult,me(!!n);case 7:case"end":return e.stop()}}),e)}))),[k,E]),be=(0,s.useCallback)((function(e){ge({filterSupportList:e,extraParams:O.current})}),[ge]);(0,s.useImperativeHandle)(t,(function(){return{queryPickupPoints:ge,resetPickupPoints:function(){return Z([])}}})),(0,s.useEffect)((function(){var e,t;if(b===y.Search){if(null===(e=le.current)||void 0===e||null===(t=e.scrollTo)||void 0===t||t.call(e,{top:0}),se.current){var n,r=se.current.clientHeight+154;null===(n=le.current)||void 0===n||n.setAttribute("style","height: calc(100% - ".concat(r,"px)"))}}else ie((null==Y?void 0:Y[0])||{})}),[b,Y]),(0,s.useEffect)((function(){N.needPreCheck&&b===y.Search&&!fe.current&&(ve(),fe.current=!0)}),[N,b,ve]);var he=(0,s.useCallback)((function(){return N.needMap&&E&&pe?s.createElement(P.Rp,{page_el_sn:231357},s.createElement("div",{className:xe().link,onClick:function(){h(y.Map),(0,_.mE)({event:"openPickupMap"}),S.current=!0},role:"button",tabIndex:0},s.createElement("span",null,n("viewInMap3"))," ",s.createElement(x.A,{className:xe().arrowIcon,"aria-hidden":!0}))):null}),[N,ge,pe]),Ee=(0,s.useMemo)((function(){return n(C?"enterAnotherAddressAndTryAgain":"search_no_pickup_location_guide1")}),[C,n]),_e=function(){var e;return null!=Y&&Y.length||H||null!=p&&null!==(e=p.filterSupportList)&&void 0!==e&&e.length?s.createElement("div",{className:xe().fixedSection,ref:se},s.createElement("div",{className:xe().tips},s.createElement(te.A,{className:xe().warnIcon,"aria-hidden":!0}),n("searchPickUpPointReminder")),!!N.needMap&&s.createElement(P.Rp,{page_el_sn:231336},s.createElement("div",{className:xe().viewInMap,onClick:function(){h(y.Map),(0,_.mE)({event:"openPickupMap"})},role:"button",tabIndex:0},s.createElement(F.pJ,{className:xe().locationIcon}),n("viewInMap"),s.createElement(x.A,{className:xe().arrowIcon,"aria-hidden":!0}))),s.createElement(Ne,{panelStatus:b,data:null==p?void 0:p.filterSupportList,onChange:be})):null};return null!=Y&&Y.length||H||!M?null!=Y&&Y.length&&M?s.createElement(s.Fragment,null,s.createElement(_e,null),s.createElement("div",{className:xe().list,ref:le},null==Y?void 0:Y.map((function(e,t){var o,a,i,l,c,d;return s.createElement(R.A,{page_el_sn:221816},s.createElement("div",{className:u()(xe().item,(o={},(0,r.A)(o,xe().lastItem,t===Y.length-1),(0,r.A)(o,xe().activeItem,ee.pickUpPointId===e.pickUpPointId),o)),key:e.pickUpPointId},s.createElement("div",{className:xe().left},s.createElement(re.A,{checked:ee.pickUpPointId===e.pickUpPointId,onClick:function(){return ie(e)}})),s.createElement("div",{className:xe().right},s.createElement("div",{className:xe().top},s.createElement("div",{className:xe().nameAndDistance},s.createElement("div",{className:xe().name},s.createElement("div",{className:xe().main},!!e.providerImageUrl&&s.createElement(s.Fragment,null,s.createElement(ne.Ay,{src:e.providerImageUrl,className:xe().logo,resizeWidth:70,"aria-hidden":!0,alt:""})," "),e.pickUpPointTitle),!(null===(a=e.pickUpAddressExtraInfo)||void 0===a||!a.pickUpTitle2)&&s.createElement("div",{className:xe().sub},e.pickUpAddressExtraInfo.pickUpTitle2)),s.createElement("div",{className:xe().distance},e.distance)),!N.needMap&&!(null===(i=e.pickUpLocation)||void 0===i||!i.lat)&&!(null===(l=e.pickUpLocation)||void 0===l||!l.lng)&&s.createElement(P.Rp,{page_el_sn:221817},s.createElement(T.A,{type:D.el.border,className:xe().button,onClick:function(){var t,n;return function(e){var t=e.lat,n=e.lng;if(t&&n){var r="https://www.google.com/maps?q=".concat(t,",").concat(n);ae.Ay.uniformForward(r,{openTarget:"_blank"})}}({lat:null===(t=e.pickUpLocation)||void 0===t?void 0:t.lat,lng:null===(n=e.pickUpLocation)||void 0===n?void 0:n.lng})}},n("pickup_open_in_maps_btn")))),s.createElement("div",{className:xe().middle},e.displayAddress),!(null===(c=e.openingHours)||void 0===c||!c.length)&&s.createElement("div",{className:xe().bottom},s.createElement("span",null,n("pick_location_opening_hours1"),": "),e.openingHours.length>1&&s.createElement("br",null),null===(d=e.openingHours)||void 0===d?void 0:d.map((function(e){return s.createElement("span",{className:xe().hour},e)}))))))})),s.createElement(j.A,{scrollRef:le,styleObj:{top:xe().topGradient}})),s.createElement("div",{className:xe().footer},s.createElement(T.A,{className:xe().confirmButton,onClick:function(){var e;m(ee),null!==(e=ee.pickUpAddressExtraInfo)&&void 0!==e&&e.dhlpickUpKeywordId?(v(ee.pickupPointServiceProvider===A.DHLe),g((function(e){return Pe(Pe({},e),{},{pickUpAddressExtraInfo:Pe(Pe({},e.pickUpAddressExtraInfo),ee.pickUpAddressExtraInfo)})}))):(v(!1),g((function(e){return Pe(Pe({},e),{},{pickUpAddressExtraInfo:ee.pickUpAddressExtraInfo})}))),h(y.Form)}},n("Pickup_location_confirm_btn")))):null:s.createElement(s.Fragment,null,!!B&&s.createElement(_e,null),s.createElement(oe.r,{title:n("search_no_pickup_location_reminder1"),desc:Ee,renderLink:he,wrapperClassName:xe().emptyWrapper}))})),Re=(0,s.forwardRef)((function(e,t){var n=(0,w.B)("bec-fe.web-address").t,r=q(),o=r.addressSnapshotId,i=r.addressSnapshotSn,l=r.pickupPoint,c=r.onClose,u=r.panelStatus,d=r.setPanelStatus,p=r.setInput,m=r.config,f=(0,s.useRef)(null),v=(0,ie.A)(u),b=(0,s.useMemo)((function(){return 102===m.poiSearchType}),[m]),h=(0,s.useState)(!!b),E=(0,a.A)(h,2),_=E[0],A=E[1],S=(0,s.useState)(!0),C=(0,a.A)(S,2),I=C[0],O=C[1],N=(0,s.useCallback)((function(e){var t;null===(t=f.current)||void 0===t||t.queryPickupPoints(e)}),[]),x=(0,s.useCallback)((function(){var e;null===(e=f.current)||void 0===e||e.resetPickupPoints([])}),[]);(0,s.useImperativeHandle)(t,(function(){return{queryPickupPoints:N}})),(0,s.useEffect)((function(){l.postCode&&u===y.Search&&v!==y.Map&&(b||p({label:0===m.poiSearchBarDefaultText?"":l.postCode,value:l.postCode}),A(!0),N({postCode:b?void 0:l.postCode}))}),[u,l,b,N,v,m]);var k=(0,s.useMemo)((function(){return{showPickupPoints:_,showHeadSection:I,setShowPickupPoints:A,setShowHeadSection:O,isPostCodeFilter:b,queryPickupPoints:N,resetPickupPoints:x}}),[_,I,A,b,N,x]);return s.createElement("div",{className:xe().panel},s.createElement(g.A,{backText:n("back"),onBack:function(){return d(y.Form)},onClose:c,styleObj:{head:xe().head,back:xe().back}}),s.createElement("div",{className:xe().title},n(o||i?"changePickupLocation":"addPickupLocation")),s.createElement(B.A,{securityTxt:n("securityText")}),s.createElement(Y.Provider,{value:k},s.createElement("div",{className:xe().content},s.createElement(Te,{wrapClassName:xe().searchInput,customSearch:b?N:null}),s.createElement(De,{ref:f}))))})),Le=(0,s.memo)(Re),je=(n(50113),n(42762),n(44383)),Me=n.n(je),Be=n(47571),Fe=n(21884),We=n(31092),Ue=n(13880),Ve=n(91520),He=n(56508),Ge=n(4937),Ke=n(84448),ze=n(61431),qe=n(1358),Ye=n(46800),Je=n(21786),Ze=n.n(Je);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e=function(e){var t;return s.createElement(s.Fragment,null,null!=e&&e.isDisabled?null:s.createElement(ze.A,{isOpen:null==e||null===(t=e.selectProps)||void 0===t?void 0:t.menuIsOpen}),s.createElement("div",{className:u()("splitBorder",null!=e&&e.isDisabled?"disabledSplitBorder":"")}))},et=function(e){var t,n=e.regionConfig,o=q(),a=o.formData,i=o.setFormData,l=a||{},c=l.mobile,u=l.phoneCode,d=l.phoneRegionId,p=l.phoneShortName,m=u&&p?"".concat(p," +").concat(u):"",f="".concat(d||"","_").concat(u||""),g=(0,s.useCallback)((function(e){(0,_.F$)({vKey:H.W1.MOBILE,data:null==e?void 0:e.length}),i((function(t){return Xe(Xe({},t),{},(0,r.A)({},H.W1.MOBILE,e))}))}),[]),v=(0,s.useCallback)((function(){(0,_.pW)(H.W1.MOBILE)}),[]),b=(0,s.useCallback)((function(e){var t,r,o=(null==n||null===(t=n.extraInfo)||void 0===t||null===(r=t.mobileDisplayRule)||void 0===r?void 0:r[d])||[];return(0,W.Oo)(e,o)}),[d]);if(!n)return null;var h=null!=n&&n.order?{order:null==n?void 0:n.order}:{};return s.createElement("div",{className:Ze().phoneWrap,style:h},s.createElement(He.A,{isBubble:!0,extraInfo:null==n?void 0:n.extraInfo}),s.createElement(Ke.A,{vKey:H.W1.MOBILE,regionConfig:n,className:"phone",showFieldTip:!1},s.createElement(Ye.A,{vKey:H.W1.MOBILE,trigger:["onChange"],regionConfig:Xe(Xe({},n),{},{isRequired:!1})},s.createElement(ce.Ay,{placeholder:m,value:f,className:"phoneContainer",classNamePrefix:"phone",components:{IndicatorsContainer:$e},isSearchable:!1,filterOption:function(){return!0},menuPlacement:"top",maxMenuHeight:289,isDisabled:!(null!=n&&null!==(t=n.extraInfo)&&void 0!==t&&t.isSupportPhoneCodeSelect)})),s.createElement(Ye.A,{vKey:H.W1.MOBILE,trigger:["onChange","onBlur"],regionConfig:n},s.createElement(qe.A,{type:"tel",value:c,wrapClassName:Ze().inputWrap,className:Ze().input,maxLength:null==n?void 0:n.maxSize,onChange:g,onBlur:v,formatter:b,parser:U.sP,pageElSn:221808,placeholder:null==n?void 0:n.placeholder}))))},tt=(0,s.memo)(et),nt=n(6864),rt=n(98505),ot=n.n(rt);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=function(e){var t=e.vKey,n=e.regionConfig,o=q(),a=o.formData,i=o.setFormData,l=(0,s.useCallback)((function(e){(0,_.F$)({vKey:t,data:null==e?void 0:e.length}),i((function(n){return it(it({},n),{},(0,r.A)({},(0,W.yp)(t),e))}))}),[t,i]),c=(0,s.useCallback)((function(){(0,_.pW)(t)}),[t]),u=null!=n&&n.order?{order:null==n?void 0:n.order}:{};return s.createElement("div",{style:u},s.createElement(Ke.A,{vKey:t,labelClassName:ot().label,tipClassName:ot().tip,regionConfig:n},s.createElement(Ye.A,{vKey:t,trigger:["onChange","onBlur"],regionConfig:n},s.createElement(nt.A,{value:a[(0,W.yp)(t)],maxLength:null==n?void 0:n.maxSize,className:ot().input,onChange:l,onBlur:c,placeholder:null==n?void 0:n.placeholder,enterType:null==n?void 0:n.enterType,pageElSn:221807}))))},st=(0,s.memo)(lt),ct=n(66053),ut=n.n(ct);function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mt="postnumber",ft=function(e){var t=e.regionConfig,n=q(),r=n.formData,o=n.setFormData,a=(0,s.useCallback)((function(e){o((function(t){return pt(pt({},t),{},{postnumber:e,pickUpAddressExtraInfo:pt(pt({},t.pickUpAddressExtraInfo),{},{postnumber:e})})}))}),[o]);return s.createElement("div",{className:ut().postNumberWrap,style:{order:null==t?void 0:t.order}},s.createElement(Ke.A,{vKey:mt,labelClassName:ut().label,regionConfig:t,showFieldTip:!1},s.createElement(Ye.A,{vKey:mt,trigger:["onChange","onBlur"],regionConfig:t},s.createElement(nt.A,{className:ut().input,value:null==r?void 0:r.postnumber,maxLength:null==t?void 0:t.maxSize,placeholder:null==t?void 0:t.placeholder,onChange:a}))))},gt=(0,s.memo)(ft),vt=n(36234),bt=n.n(vt);function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _t=0,yt=(0,s.memo)((function(e){var t=e.components;return null==t?void 0:t.map((function(e,t){return s.createElement(Ke.C,{needShowValidate:!0,vKey:(0,W.yp)(e.fieldKey),regionConfig:e.componentData,className:u()((0,r.A)({},bt().isolateError,t>0))})}))})),At=(0,s.memo)((function(e){var t,n,o,a,i,l,c=e.component,d=e.index,m=(0,w.B)("bec-fe.web-address").t,f=c.fieldKey,g=c.componentKey,v=c.componentLayout,b=c.componentData,h=c.componentAttributes,E=c.componentType,y=c.subComponent;0===d&&(_t=0),_t+=v;var A=q(),S=A.formData,C=A.setFormData,I=A.componentList,O=A.setComponentList,N=(0,G.s4)(),x=N.resetValidateInfo,k=N.resetWarningInfo,P=(0,p.Sz)().isRTL,T=h||{},D=T.componentAboveTips,R=T.componentBottomTips,L=T.componentTitle,j=T.componentIsRequired,B=T.componentSelectButton,F=T.componentTopTips,V=T.componentTopTipsColor,K=(T.componentRichTips,T.componentRichTopTips),z=T.componentSecureTips,Y=(T.componentFloatWindow,T.componentFloatWindowTips,T.componentHasSplitBar),J=T.componentTipModules,Z=Y||(null==b||null===(t=b.extraInfo)||void 0===t?void 0:t.hasSplitBar),Q=E===Ve.I.WithSplitInput,X=["front_photo","back_photo"].includes(g)?{display:"inline-block",verticalAlign:"top",width:"170px",marginRight:"16px"}:100!==v?Et({display:"inline-block",verticalAlign:"top",width:"calc(".concat(v,"% - ").concat(H.wT,"px)")},P?{marginLeft:_t<100?"".concat(H.wT,"px"):0,marginRight:100===_t&&v<100?"".concat(H.wT,"px"):0}:{marginRight:_t<100?"".concat(H.wT,"px"):0,marginLeft:100===_t&&v<100?"".concat(H.wT,"px"):0}):Et({width:"100%",position:"relative"},Z?{marginTop:"20px"}:{}),$=Et(Et({},b||{}),Me()(c,["componentKey","componentLayout"])),ee=(0,s.useCallback)((function(e){var t=[],n=[],r=[],o=function e(t){null!=t&&t.length&&t.forEach((function(t){var n;t.fieldKey&&r.push(t.fieldKey),null!==(n=t.subComponent)&&void 0!==n&&n.length&&e(t.subComponent)}))};return function r(a){t=a.map((function(t){var a,i,l,s,c,u,d,p;e&&t.componentKey===g&&null!==(a=t.componentAttributes)&&void 0!==a&&a.componentSelectButton&&(t.componentAttributes.componentSelectButton.selectButton.map((function(e){return e.mappingSubComponent})).includes(e)&&(t.componentAttributes.componentSelectButton.selectedComponentKey=e));var m=null===(i=t.componentAttributes)||void 0===i||null===(l=i.componentSelectButton)||void 0===l?void 0:l.selectedComponentKey,f=null===(s=t.componentAttributes)||void 0===s||null===(c=s.componentSelectButton)||void 0===c||null===(u=c.selectButton)||void 0===u||null===(d=u.find((function(t){return t.mappingSubComponent!==e})))||void 0===d?void 0:d.mappingSubComponent;if(m){var v;n.push(m);var b=null===(v=t.subComponent)||void 0===v?void 0:v.find((function(e){return e.componentKey===f}));null!=b&&b.subComponent&&e===m&&o(b.subComponent)}return null!==(p=t.subComponent)&&void 0!==p&&p.length&&r(t.subComponent.filter((function(e){return!m||e.componentKey===m}))),t}))}(I),{newComponentList:t,selectedField:n.join(","),toBeClearArr:r.filter((function(e){return!!e})).map((function(e){return(0,W.yp)(e)}))}}),[g,I]),te=(0,s.useCallback)((function(e){var t=ee(e),n=t.newComponentList,r=t.selectedField,o=t.toBeClearArr;(0,_.mE)({event:"pickup.onRadioChange",data:(0,U.Jm)(r)}),O(n);var a={};o.forEach((function(e){switch(e){case"taxcode":case"additionalTaxcode":case"mobile":case"firstName":case"lastName":case"additionalName":a[e]=""}})),C((function(e){return Et(Et({},e),{},{selectedField:r},a)}));var i=[H.W1.TAXCODE,H.W1.FIRST_NAME,H.W1.LAST_NAME,H.W1.MOBILE];x(i),k(i)}),[g,ee]);(0,s.useEffect)((function(){var e=(S||{}).selectedField;if(e)"string"==typeof e&&(e=e.split(",")),e.forEach((function(e){var t=ee(e).newComponentList;O(t)}));else{var t=ee();t.selectedField&&C((function(e){return Et(Et({},e),{},{selectedField:t.selectedField})}))}}),[S]);var ne=null==y?void 0:y.some((function(e){var t,n;return null===(t=e.componentData)||void 0===t||null===(n=t.extraInfo)||void 0===n?void 0:n.putOutErrorText}));return s.createElement("div",{id:g,style:X},!!D&&s.createElement(M.A,{text:D.tipsContent,color:D.tipsColor,style:D.tipsStyle,className:bt().headerTips}),s.createElement(Ge.A,{data:null==J?void 0:J[Ve.Q.AboveTitle]}),!!L&&s.createElement("div",{className:u()(bt().componentTitle,(0,r.A)({},bt().isRequired,j))},L,!j&&s.createElement("span",{className:bt().extraText},m("optionalText"))),s.createElement(Ge.A,{data:null==J?void 0:J[Ve.Q.UnderTitle]}),s.createElement(He.A,{isDialog:!(null===(n=$.extraInfo)||void 0===n||!n.useInstructionFieldFloatWindow)||!(null==h||!h.useInstructionFieldFloatWindow),isBubble:!0,extraInfo:$.extraInfo||h,className:bt().fieldTip,others:{field_key:f}}),1===(null==B?void 0:B.buttonType)&&!(null==B||null===(o=B.selectButton)||void 0===o||!o.length)&&s.createElement("div",{className:bt().componentSelectButton},!(null==B||null===(a=B.selectTips)||void 0===a||!a.trim())&&s.createElement("div",{className:bt().text},B.selectTips),s.createElement(We.A,{onChange:function(e){return te(e)},value:B.selectedComponentKey},B.selectButton.map((function(e){return s.createElement(Ue.A,{index:d,key:e.mappingSubComponent,value:e.mappingSubComponent},e.selectText)})))),!!F&&s.createElement(M.A,{theme:M.S.Orange,color:V,text:F,className:bt().componentTopTips}),!!z&&s.createElement("div",{className:bt().componentSecureTips},s.createElement(Be.A,{className:bt().componentSecureTipsIcon}),z),!!K&&s.createElement(M.A,{color:V,richText:K,className:bt().componentTopTips}),2===(null==B?void 0:B.buttonType)&&!(null==B||null===(i=B.selectButton)||void 0===i||!i.length)&&s.createElement(Fe.tU,{classConfig:{wrapCls:bt().tabsWrapCls,activeCls:bt().activeCls},data:null==B||null===(l=B.selectButton)||void 0===l?void 0:l.map((function(e){return{label:s.createElement("div",{className:bt().tabItem},e.selectText),key:e.mappingSubComponent}})),activeKey:B.selectedComponentKey,onChange:function(e){return te(e.key)}}),s.createElement(Ge.A,{data:null==J?void 0:J[Ve.Q.AboveInput]}),null!=y&&y.length?y.filter((function(e){return null!=B&&B.selectedComponentKey?B.selectedComponentKey===e.componentKey:e})).map((function(e,t){return s.createElement(At,{component:e,index:t})})):s.createElement(s.Fragment,null,"postnumber"===f&&s.createElement(gt,{regionConfig:$}),"taxcode"===f&&s.createElement(st,{vKey:"taxcode",regionConfig:$}),"additional_taxcode"===f&&s.createElement(st,{vKey:"additionalTaxcode",regionConfig:$}),"additional_name"===f&&s.createElement(st,{vKey:"additionalName",regionConfig:$}),"first_name"===f&&s.createElement(st,{vKey:"firstName",regionConfig:$}),"middle_name"===f&&s.createElement(st,{vKey:"middleName",regionConfig:$}),"last_name"===f&&s.createElement(st,{vKey:"lastName",regionConfig:$}),"mobile"===f&&s.createElement(tt,{regionConfig:$})),!!ne&&s.createElement(yt,{components:y}),!!Q&&s.createElement(yt,{components:[c]}),!!R&&s.createElement(M.A,{text:R.tipsContent,color:R.tipsColor,style:R.tipsStyle,className:bt().headerTips}),s.createElement(Ge.A,{data:null==J?void 0:J[Ve.Q.UnderInput]}))})),St=(0,b.A)((0,d.W4)())((function(){var e=q().componentList;return s.createElement(s.Fragment,null,e.map((function(e,t){return s.createElement(At,{component:e,index:t})})))})),Ct=(0,s.memo)(St),It=n(130),Ot=n.n(It),Nt=["firstName","lastName","name","mobile","phoneCode","phoneRegionId","phoneShortName","taxcode","additionalTaxcode","additionalName","selectedField","taxcodeDate","birthDate","middleName","pickUpAddressExtraInfo","pickupPointServiceProvider"],wt=["postnumber"];function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt=function(){var e,t=(0,w.B)("bec-fe.web-address").t,n=q(),o=n.config,i=n.formData,l=n.pickupPoint,c=n.setPanelStatus,d=n.pickUpAddressNeedNameSplit,p=(0,s.useState)(!1),m=(0,a.A)(p,2),f=m[0],g=m[1],v=l.openingHours||(null===(e=i.pickUpAddressExtraInfo)||void 0===e?void 0:e.openingHours)||[],b=v.reduce((function(e,t){return e+t.length}),0),h=function(){o.openMapDirectly?c(y.Map):c(y.Search)};return d?null:s.createElement(s.Fragment,null,s.createElement("div",{className:Ot().location},s.createElement("div",{className:Ot().locationLeft},s.createElement(F.aZ,{className:Ot().icon}),s.createElement("div",null,t("Pickup_location"))),!!l.pickUpPointTitle&&s.createElement(P.Rp,{page_el_sn:221811},s.createElement(T.A,{type:D.el.border,className:Ot().locationRight,onClick:h},t("change"),s.createElement(x.A,{className:Ot().locationRightIcon,"aria-hidden":!0})))),l.pickUpPointTitle?s.createElement(P.Rp,{page_el_sn:221810},s.createElement("div",{className:Ot().pickupPoint},s.createElement("div",{className:Ot().name},l.pickUpPointTitle),s.createElement("div",{className:Ot().address},l.displayAddress),!!v.length&&s.createElement("div",{className:Ot().hours},s.createElement("span",{className:Ot().lead},t("pick_location_opening_hours1"),":"),s.createElement("div",{className:u()(Ot().hourWrap,(0,r.A)({},Ot().isOpen,f))},v.map((function(e,t){return s.createElement("span",{key:e,className:u()(Ot().hour,(0,r.A)({},Ot().isLastOne,t===v.length-1))},e)})),b>62&&!f&&s.createElement("span",{className:Ot().more,role:"button",tabIndex:0,onClick:function(){return g(!0)}},t("viewMore")," ",s.createElement(k.A,{"aria-hidden":!0})))))):s.createElement(R.A,{page_el_sn:221806},s.createElement(Te,{disabled:!0,onClick:h})))},Tt=function(){var e=(0,w.B)("bec-fe.web-address").t,t=q(),n=t.pickUpAddressNeedNameSplit,o=t.enableBackend,a=t.regionId1,i=!!a&&![N.gq.kz,N.gq.ge,N.gq.uz,N.gq.az,N.gq.ua].includes(+a)&&!o;return s.createElement("div",{className:Ot().main},!n&&s.createElement("div",{className:Ot().title},e("pickup_add_recipient_detail_entrance_reminder_title")),!!i&&s.createElement(M.A,{text:e("Pickup_user_info_input_reminder"),className:u()((0,r.A)({},Ot().tips,n))}),s.createElement("form",{autoComplete:"off",className:Ot().form},s.createElement(Ct,null)))},Dt=function(){var e=(0,w.B)("bec-fe.web-address").t,t=q(),n=t.addressSnapshotId,r=t.addressSnapshotSn,a=t.pickUpAddressNeedNameSplit,i=t.pickupPoint,c=t.formData,u=t.enablePostNumber,d=t.setEnablePostNumber,p=t.setFormData,m=t.setPickupPoint,f=t.onClose,v=t.onSuccess,b=t.regionConfig,h=t.data,E=t.regionId1,y=(0,V.A)(),S=y.isLock,C=y.lockSubmit,x=(0,G.s4)(),k=x.validateValue,P=x.validateValueBack,D=x.warningValueFront,M=(0,s.useRef)(null),F=(0,s.useCallback)((0,o.A)(l().mark((function e(){var t,n,r,o,a,i,s,c,u,f,g,v,b,E,_,y,S,C,O,N,w,x;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,Z.Z)(),r=(n=h||{}).firstName,o=n.lastName,a=n.name,i=n.mobile,s=n.phoneCode,c=n.phoneRegionId,u=n.phoneShortName,f=n.taxcode,g=n.additionalTaxcode,v=n.additionalName,b=n.selectedField,E=n.taxcodeDate,_=n.birthDate,y=n.middleName,S=n.pickUpAddressExtraInfo,C=void 0===S?{}:S,O=n.pickupPointServiceProvider,N=(0,I.A)(n,Nt),w=O===A.DHLe,x=!(!r&&!o),m(N||{}),Object.assign(t,kt(kt(kt(kt(kt(kt(kt(kt(kt({mobile:i,phoneCode:s,phoneRegionId:c,phoneShortName:u,pickUpAddressExtraInfo:C},w?{postnumber:C.postnumber}:{}),x?{firstName:r,lastName:o}:{name:a}),f?{taxcode:f}:{}),b?{selectedField:Array.isArray(b)?b.join(","):b}:{}),E?{taxcodeDate:E}:{}),_?{birthDate:_}:{}),y?{middleName:y}:{}),g?{additionalTaxcode:g}:{}),v?{additionalName:v}:{})),d(w),p(t);case 8:case"end":return e.stop()}}),e)}))),[]);(0,s.useEffect)((function(){null!=h&&h.isApiError||F()}),[h]);var z=function(){var t=c.firstName,n=c.lastName,r=c.mobile,o=c.postnumber,l=c.taxcode,s=c.additionalTaxcode,d=c.additionalName,p=kt(kt(kt(kt({firstName:t,lastName:n,mobile:r},u?{postnumber:o}:{}),b.taxcode?{taxcode:l}:{}),b.additional_taxcode?{additionalTaxcode:s}:{}),b.additional_name?{additionalName:d}:{}),m=Object.keys(p).reduce((function(e,t){var n,r=b[(0,W.Su)(t)],o=(0,U.bz)(p[t]),a=k({val:o,name:t,needShowValidate:!0,needRequired:!(null==r||!r.isRequired),regionConfig:r,hasClickSubmit:!0,formData:c});return n=null==a?void 0:a.valid,D({val:o,name:t,regionConfig:r,formData:c}),n&&e}),!0);return E&&[N.gq.fr,N.gq.es].includes(+E)&&((null==t?void 0:t.length)||0)+((null==n?void 0:n.length)||0)>31?((0,O.A)(e("frsp_pickup_name")),!1):a||i.pickUpPointId?(m||((0,K.N)(!0),(0,_.mE)({event:"addressPickupFrontValidateError"})),m):((0,_.mE)({event:"addressPickupPointMissError"}),(0,O.A)(e("pickup_location_choose_reminder")),!1)},Y=function(e){var t=e||{},n=t.mobile,r=t.firstName,o=t.middleName,a=t.lastName,i=t.postnumber,l=t.taxcode,s=t.additionalTaxcode;n&&P({val:"",name:"mobile",validateText:null==n?void 0:n.invalidMsg}),r&&P({val:"",name:"firstName",validateText:null==r?void 0:r.invalidMsg}),o&&P({val:"",name:"middleName",validateText:null==o?void 0:o.invalidMsg}),a&&P({val:"",name:"lastName",validateText:null==a?void 0:a.invalidMsg}),i&&P({val:"",name:"postnumber",validateText:null==i?void 0:i.invalidMsg}),l&&P({val:"",name:"taxcode",validateText:null==l?void 0:l.invalidMsg}),s&&P({val:"",name:"additionalTaxcode",validateText:null==s?void 0:s.invalidMsg});var c=n||r||a||i||l||s;return c&&setTimeout((function(){(0,K.N)(!0)}),10),c},J=function(){var t=(0,o.A)(l().mark((function t(){var r,o,a,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,_.mE)({event:"addressPickupStartSubmit",data:JSON.stringify({isEdit:!!n})}),z()&&!S){t.next=4;break}return t.abrupt("return");case 4:return c.postnumber,r=(0,I.A)(c,wt),o=kt(kt({},(0,W.qi)(kt(kt({},i),u?c:r))),{},{need_correct:!1}),(0,_.mE)({event:"pickup.addOrEditAddress",data:JSON.stringify((0,U.g3)(o))}),C(!0),t.next=10,(0,Q.Ft)(o);case 10:a=t.sent,C(!1),null!=a&&a.addressSnapshotId||null!=a&&a.addressSnapshotSn?(L.A.success(e("Pickup_user_info_save_success_toast_reminder")),(0,_.mE)({event:"addressPickupSubmitSuccess"}),null==v||v(kt(kt({},a),{},{addressType:(null===(s=a.addressRegion)||void 0===s?void 0:s.addressType)||2})),null==f||f()):null!=a&&a.paramCheckResult?(L.A.error(e("Pickup_user_info_save_fail_toast_reminder")),Y(null==a?void 0:a.paramCheckResult),(0,_.mE)({event:"addressPickupSubmitBackValidateError"})):(L.A.error(e("Pickup_user_info_save_fail_toast_reminder")),(0,_.mE)({event:"addressPickupSubmitBackUnknownError"}));case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return s.createElement("div",{className:Ot().panel,id:H.RA,ref:M},s.createElement(g.A,{onClose:f}),s.createElement("div",{className:Ot().titleWrap},s.createElement("div",{className:Ot().title},e(a?"pickup_add_recipient_detail_entrance_reminder_title":n||r?"Pickup_change_address_topic":"Pickup_add_address_topic")),s.createElement(B.A,{securityTxt:e("securityText")})),s.createElement("div",{className:Ot().content},s.createElement(Pt,null),s.createElement(Tt,null)),s.createElement("div",{className:Ot().footer},s.createElement(R.A,{page_el_sn:221812},s.createElement(T.A,{className:Ot().confirmButton,onClick:J},e("save")))),s.createElement(j.A,{scrollRef:M}))},Rt=(0,s.memo)(Dt),Lt=(n(48980),n(89243)),jt=n(60043),Mt=n(87642),Bt=n(58397),Ft=n(87705),Wt=n(49548),Ut=n.n(Wt);function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gt="pickUpPointContainer",Kt="pickUpPointScrollContainer",zt="pickUpPointTag",qt=(0,s.memo)((function(e){var t=e.disabled,n=e.wrapClassName,r=e.onClick,o=q(),i=o.formData,l=o.config,c=o.isAddressSearch,u=o.searchPanelRef,d=o.input,p=o.setInput,m=o.regionId1,f=(0,s.useState)([]),g=(0,a.A)(f,2),v=g[0],b=g[1],h=(0,s.useRef)("");(0,s.useEffect)((function(){c&&(h.current=(0,ee.A)())}),[c]);var E=(0,s.useCallback)((function(e){p({label:e,value:e}),e.length<3&&b([])}),[]),_=(0,s.useCallback)((function(e){var t,n,r=e||{},o=r.recommendText,a=r.postCode,i=r.traceId,l=r.poiId,s=r.recommendIndex,d=r.idx,m=r.source,f=r.method;(p({label:c?o:a,value:a}),c)&&Q.fc({trace_id:i,selected_poi_id:l,selected_poi_position:(null!==(n=null!=s?s:d)&&void 0!==n?n:0)+1,source:m,method:f,scene_id:"2001069"});null===(t=u.current)||void 0===t||t.queryPickupPoints({postCode:a,extraParams:Ht(Ht(Ht({},l?{poi_id:l}:{}),m?{source:m}:{}),{},{session_token:h.current})}),c&&(h.current=(0,ee.A)())}),[c]),y=(0,s.useCallback)($()((function(e){i&&m&&(c&&Q.e2({region_id1:+m,key_word:e,scene_id:"2001069",session_token:h.current}).then((function(e){b(e)})),101===l.poiSearchType&&Q.ri({region_id1:+m,post_code:e}).then((function(e){b(e)})))}),300),[i,c,l]),A=(0,s.useCallback)((function(){b([])}),[]);return s.createElement(_e,{onInput:E,onSelect:_,inputValue:d.label,onSearch:y,options:v,onResetOptions:A,pageElSn:221818,blurInputOnSelect:!0,wrapClassName:n,disabled:t,onClick:r,isAddressSearch:c,isPostCodeSearch:101===l.poiSearchType})})),Yt=(0,s.memo)((function(e){var t,n,o,i=e.item,l=e.tempPickupPoint,c=e.index,d=(0,w.B)("bec-fe.web-address").t,p=q().pickupPointApiResult,m=(0,Bt.J)(),f=m.activeMarkerIndex,g=m.setActiveMarkerIndex,v=(p||{}).pickUpPointList,b=void 0===v?[]:v,h=(0,s.useState)(!1),E=(0,a.A)(h,2),_=E[0],y=E[1];return s.createElement(P.Rp,{page_el_sn:221816},s.createElement("div",{className:u()(Ut().item,zt,(t={},(0,r.A)(t,Ut().lastItem,c===b.length-1),(0,r.A)(t,Ut().activeItem,c===f),t)),key:i.pickUpPointId},s.createElement("div",{className:Ut().left},s.createElement(re.A,{checked:(null==l?void 0:l.pickUpPointId)===i.pickUpPointId,onClick:function(){return null==g?void 0:g(c)}})),s.createElement("div",{className:Ut().right},s.createElement("div",{className:Ut().top},s.createElement("div",{className:Ut().name},s.createElement("div",{className:Ut().main},!!i.providerImageUrl&&s.createElement(ne.Ay,{src:i.providerImageUrl,className:Ut().logo,resizeWidth:70,"aria-hidden":!0,alt:""})," ",i.pickUpPointTitle),!(null===(n=i.pickUpAddressExtraInfo)||void 0===n||!n.pickUpTitle2)&&s.createElement("div",{className:Ut().sub},i.pickUpAddressExtraInfo.pickUpTitle2)),s.createElement("div",{className:Ut().distance},i.distance)),s.createElement("div",{className:Ut().middle},i.displayAddress),!(null===(o=i.openingHours)||void 0===o||!o.length)&&s.createElement("div",{className:Ut().bottom},s.createElement("span",{className:Ut().lead},d("pick_location_opening_hours1"),":"),s.createElement("div",{className:u()(Ut().hourWrap,(0,r.A)({},Ut().isOpen,_))},i.openingHours.map((function(e,t){return s.createElement("span",{key:e,className:u()(Ut().hour,(0,r.A)({},Ut().isLastOne,t===i.openingHours.length-1))},e)})),i.openingHours.reduce((function(e,t){return e+t.length}),0)>30&&!_&&s.createElement("span",{className:Ut().more,onClick:function(){return y(!0)},role:"button",tabIndex:0},d("viewMore")," ",s.createElement(k.A,{"aria-hidden":!0})))))))})),Jt=(0,s.memo)((function(e){var t=e.isSearchByMap,n=(0,w.B)("bec-fe.web-address").t,o=q(),i=o.pickupPointApiResult,l=o.setPickupPoint,c=o.setFormData,d=o.setPanelStatus,p=o.config,m=(0,Bt.J)().activeMarkerIndex,f=i||{},g=f.pickUpPointList,v=void 0===g?[]:g,b=f.filterSupportList,h=void 0===b?[]:b,E=(0,s.useState)({}),_=(0,a.A)(E,2),A=_[0],S=_[1],C=(0,s.useRef)(null),I=202===p.poiSearchType,O=(0,s.useCallback)((function(e){S(e);var t=document.querySelector("#".concat(Kt)),n=document.querySelectorAll(".".concat(zt))[null!=m?m:0];if(t&&n){var r=n.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop;(0,Mt.B)(r,t)}}),[m]),N=(0,s.useMemo)((function(){return n(I?t?"searchPickUpPointReminder3":"searchPickUpPointReminder2":"searchPickUpPointReminder")}),[t,I,n]),x=(0,s.useMemo)((function(){return n(I?"enterAddressOrDragTheMap":"enterAnotherAddressTryAgain")}),[I,n]);return(0,s.useEffect)((function(){O(v[null!=m?m:0])}),[v,m,O]),s.createElement(s.Fragment,null,s.createElement("div",{id:Gt,className:Ut().mapSearchList},!I&&s.createElement(qt,{wrapClassName:Ut().customAutoComplete}),v.length?s.createElement(s.Fragment,null,s.createElement("div",{className:Ut().mapSearchListTips},N),s.createElement("div",{id:Kt,className:u()(Ut().list,(0,r.A)({},Ut().noMarginTop,0===h.length)),ref:C},v.map((function(e,t){var n;return s.createElement(Yt,{key:null!==(n=e.pickUpPointId)&&void 0!==n?n:t,item:e,tempPickupPoint:A,index:t})}))),s.createElement("div",{className:Ut().footer},s.createElement(T.A,{className:Ut().confirmButton,onClick:function(){l(A),c((function(e){return Ht(Ht({},e),{},{pickUpAddressExtraInfo:A.pickUpAddressExtraInfo})})),d(y.Form)}},n("Pickup_location_confirm_btn"))),s.createElement(j.A,{scrollRef:C,styleObj:{top:Ut().topGradient,bottom:Ut().bottomGradient}})):s.createElement(oe.r,{title:n("search_no_pickup_location_reminder1"),desc:x,wrapperClassName:Ut().emptyWrap,iconClassName:Ut().icon,descClassName:Ut().desc})))})),Zt=function(){var e=(0,w.B)("bec-fe.web-address").t,t=q(),n=t.panelStatus,r=t.setPanelStatus,o=t.onClose,i=t.pickupPointApiResult,l=t.pickupPoint,c=t.searchPanelRef,d=t.isSearchWithoutPostCodeRef,p=t.setInput,m=t.extraParamsRef,f=t.config,v=t.apiKey,b=t.isGuestMode,h=t.regionId1,E=202===f.poiSearchType,_=i||{},A=_.pickUpPointList,S=void 0===A?[]:A,C=_.filterSupportList,I=void 0===C?[]:C,O=(0,s.useState)(null),N=(0,a.A)(O,2),x=N[0],k=N[1],P=(0,s.useState)(0),T=(0,a.A)(P,2),D=T[0],R=T[1],L=(0,s.useState)(!1),j=(0,a.A)(L,2),M=j[0],B=j[1];(0,s.useEffect)((function(){var e;n===y.Map&&(k((0,U.bV)("#".concat(Gt))),null===(e=c.current)||void 0===e||e.queryPickupPoints({filterSupportList:I,extraParams:m.current}))}),[n,c]);var F=(0,s.useMemo)((function(){return S.filter((function(e){return!!e.pickUpLocation})).map((function(e){return{latLng:e.pickUpLocation,distance:e.distance||""}}))}),[S]),W=function(e){var t=e.place;return t?s.createElement("div",{className:u()(Ut().placeInfo,Ut().simplePlaceInfo)},s.createElement(ne.Ay,{src:"https://aimg.kwcdn.com/upload_aimg/temu/8d0d5c31-fbad-4220-92fd-5ac3faa21506.png.slim.png",resizeWidth:13,className:Ut().icon,"aria-hidden":!0,alt:""}),s.createElement("span",null,t.formatted_address)):null},V=function(){return E?s.createElement(ne.Ay,{src:"https://aimg.kwcdn.com/upload_aimg/temu/8d0d5c31-fbad-4220-92fd-5ac3faa21506.png.slim.png",resizeWidth:26,className:Ut().locateIcon,"aria-hidden":!0,alt:""}):null},H=(0,s.useCallback)((function(e){var t;null===(t=c.current)||void 0===t||t.queryPickupPoints({filterSupportList:e,extraParams:m.current})}),[]),G=function(e){var t;null===(t=c.current)||void 0===t||t.queryPickupPoints({extraParams:e}),R(0),B(!0)},K=(0,s.useCallback)((function(e){return R(e)}),[]);(0,s.useEffect)((function(){if(!M){var e=S.findIndex((function(e){return e.pickUpPointId===l.pickUpPointId}));R(Math.max(e,0))}}),[S,l,M]);var z,Y=(0,s.useMemo)((function(){return{isGuestMode:b,apiKey:v,regionId1:h,mapScene:jt.HQ.NewPickUp,mapControl:{enableDrag:!0,enableGeocode:f.supportSearchAfterDragging,enableAutoComplete:E,enableCenterIcon:!1,enableLocateMe:f.hasLocateMe,enableZoomControl:E,enablePlaceInfo:!1},markerLocationList:F,pickupPoint:l,activeMarkerIndex:D,setActiveMarkerIndex:R,classConfig:{autoCompleteCls:Ut().customAutoComplete,locateMeCls:Ut().customLocateMe,zoomControlCls:Ut().customZoomControl,placeInfoCls:Ut().customPlaceInfo},autoCompletePortalTarget:E?x:void 0,onDragEnd:G,onLocateMe:G,onMarkerClick:K,renderPlaceInfo:W,renderCenterIcon:V}}),[F,l,D,G,K,x,v,b,h]);return n!==y.Map?null:s.createElement("div",{className:Ut().panel},s.createElement(g.A,{backText:e("back"),onBack:function(){f.openMapDirectly?r(y.Form):r(y.Search),B(!1),d.current&&(p({label:"",value:""}),d.current=!1)},onClose:o,styleObj:{head:Ut().head,back:Ut().back}}),s.createElement("div",{className:Ut().title},e("selectPickupLocation")),(z=s.createElement(Ne,{panelStatus:n,data:I,className:Ut().portalTabsWrapper,onChange:H}),x?(0,Lt.createPortal)(z,x):z),s.createElement("div",{className:Ut().content},s.createElement(Bt.w.Provider,{value:Y},s.createElement(Jt,{isSearchByMap:M}),s.createElement(Ft.A,null))))},Qt=(0,s.memo)(Zt),Xt=n(7141),$t=n.n(Xt),en=(0,b.A)((0,d.W4)())((0,s.memo)((function(e){var t=e.addressSnapshotId,n=e.addressSnapshotSn,i=e.pickUpAddressNeedNameSplit,c=e.isGuestMode,d=e.regionId1,b=e.shippingAddressSnapshotSn,A=e.onClose,I=e.onSuccess,O=(0,s.useState)(y.Form),N=(0,a.A)(O,2),w=N[0],x=N[1],k=(0,s.useState)({}),P=(0,a.A)(k,2),T=P[0],D=P[1],R=(0,s.useState)(),L=(0,a.A)(R,2),j=L[0],M=L[1],B=(0,s.useRef)(!1),F=(0,s.useState)({}),W=(0,a.A)(F,2),U=W[0],V=W[1],H=(0,s.useState)(!1),G=(0,a.A)(H,2),K=G[0],q=G[1],Y=(0,E.A)().isOverflow,J=(0,s.useRef)(),X=(0,p.Sz)().localInfo,$=(t||n)&&d||(null==X?void 0:X.region),ee=(0,s.useState)({label:"",value:""}),te=(0,a.A)(ee,2),ne=te[0],re=te[1],oe=(0,s.useRef)({}),ae=(0,s.useState)(!1),ie=(0,a.A)(ae,2),le=ie[0],se=ie[1],ce=(0,s.useState)(!1),ue=(0,a.A)(ce,2),de=ue[0],pe=ue[1],me=(0,s.useState)({}),fe=(0,a.A)(me,2),ge=fe[0],ve=fe[1],be=(0,s.useState)({}),he=(0,a.A)(be,2),Ee=he[0],_e=he[1],ye=(0,s.useState)(""),Ae=(0,a.A)(ye,2),Se=Ae[0],Ce=Ae[1],Ie=(0,Z.q)({enablePostNumber:K,selectedField:null==ge?void 0:ge.selectedField}).componentList,Oe=(0,s.useState)(Ie),Ne=(0,a.A)(Oe,2),we=Ne[0],xe=Ne[1],ke=(0,s.useMemo)((function(){return(0,S.QD)(we)}),[we]),Pe=(0,s.useState)(!1),Te=(0,a.A)(Pe,2),De=Te[0],Re=Te[1];(0,s.useEffect)((function(){De||xe(Ie)}),[K,ge,De]);var je=function(){var e=(0,o.A)(l().mark((function e(){var r,o,i,s,u,d,p,m,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($){e.next=2;break}return e.abrupt("return");case 2:return se(!0),r={pickup_address_snapshot_id:t,pickup_address_snapshot_sn:n,shipping_address_snapshot_sn:b,region_id1:$},e.next=6,Promise.all([(0,Q.Yf)(r),(0,Q.B0)(r)]);case 6:if(o=e.sent,i=(0,a.A)(o,2),s=i[0],u=i[1],se(!1),ve(s),_e(null==u?void 0:u.overallAttributes),null!=u&&u.componentList&&(xe(null==u?void 0:u.componentList),Re(!0)),pe((null==s?void 0:s.isApiError)||(null==u?void 0:u.isApiError)),d=(null==u?void 0:u.overallAttributes)||{},p=d.needMap,m=d.openMapDirectly,!p&&!m){e.next=21;break}return e.next=19,(0,h.IH)({regionId1:$,mapSceneId:"MAPS_PICK_UP_H5",isGuestMode:c});case 19:f=e.sent,Ce(f);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){je(),(0,_.mE)({event:"pickup.formLoaded"})}),[]);var Me,Be=(0,s.useMemo)((function(){return 201===(null==Ee?void 0:Ee.poiSearchType)}),[Ee]),Fe=(0,s.useMemo)((function(){return{addressSnapshotId:t,addressSnapshotSn:n,pickUpAddressNeedNameSplit:i,isGuestMode:c,shippingAddressSnapshotSn:b,panelStatus:w,pickupPoint:T,formData:U,enablePostNumber:K,setEnablePostNumber:q,setFormData:V,setPickupPoint:D,onClose:A,onSuccess:I,setPanelStatus:x,pickupPointApiResult:j,setPickupPointApiResult:M,searchPanelRef:J,isSearchWithoutPostCodeRef:B,isAddressSearch:Be,input:ne,setInput:re,extraParamsRef:oe,data:ge,config:Ee,componentList:we,setComponentList:xe,regionConfig:ke,apiKey:Se,enableBackend:De,regionId1:$}}),[t,n,i,c,b,w,T,U,K,q,V,D,A,I,x,j,Be,ne,re,ge,Ee,we,ke,Se,De,$]);return s.createElement(f.Ay,{isShowClose:!1,wrapClassName:u()($t().maskWrap,(0,r.A)({},$t().isOverflow,Y)),className:$t().popupWrap},s.createElement(C.A,null,s.createElement(z.Provider,{value:Fe},le?s.createElement(s.Fragment,null,s.createElement(g.A,{onClose:A}),s.createElement(v.A,{className:$t().loadingWrap})):de?s.createElement(s.Fragment,null,s.createElement(g.A,{onClose:A}),s.createElement(m.E,{onClick:je,wrapClass:$t().errorViewWrap})):s.createElement("div",{className:u()($t().wrap,(0,r.A)({},$t().standardMapWrap,w===y.Map))},s.createElement("div",{className:u()($t().content,(Me={},(0,r.A)(Me,$t().animate0,w===y.Form),(0,r.A)(Me,$t().animate1,w===y.Search),(0,r.A)(Me,$t().animate2,w===y.Map),Me))},s.createElement(Rt,null),s.createElement(Le,{ref:J}),s.createElement(Qt,null))))))})))},83951:function(e,t,n){"use strict";n.d(t,{Z:function(){return p},q:function(){return m}});n(79432),n(52675),n(2008),n(26099),n(83851),n(44114),n(23500),n(81278),n(67945),n(84185);var r=n(36002),o=n(61877),a=(n(28706),n(56733)),i=n(97582),l=n(46694),s=n(84172),c=n(18046);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){return{phoneCode:"",phoneRegionId:"",phoneShortName:"",firstName:"",lastName:"",mobile:""}},m=function(e){var t=e||{},n=t.enablePostNumber,o=t.selectedField,u=(0,i.B)("bec-fe.web-address").t,p=(0,i.B)("bec-fe.web-address",{keyPrefix:"uzdp"}).t,m=(0,i.B)("bec-fe.web-address",{keyPrefix:"azdp"}).t,f=(0,l.Sz)().localInfo,g=+(null==f?void 0:f.region)===a.gq.kz,v=+(null==f?void 0:f.region)===a.gq.ge,b=+(null==f?void 0:f.region)===a.gq.uz,h=+(null==f?void 0:f.region)===a.gq.az,E=+(null==f?void 0:f.region)===a.gq.sa,_={field_key:"postnumber",component_key:"postnumber",component_layout:100,component_type:1,component_data:{field_key:"postnumber",component_key:"postnumber",field_title:u("dhl_postnumber_display"),field_title_supplement:"",is_required:!0,required_miss_tips:u("add_dhl_postnumber_error_prompt"),enter_type:1,field_tips:u("add_dhl_postnumber_explain"),max_size:10,extra_info:{is_use_instruction_icon:!0,use_instruction_title:u("mobile.tip"),use_instruction_tips:u("add_dhl_postnumber_save_explain")},enter_regex_config:[{regex_key:"illegalCharacter",is_white_list:!0,regex:"^\\d{6,10}$",level:"error",msg:u("input_post_number_error_prompt"),trigger:"change",can_submit:!1}]}},y={field_key:"first_name",component_key:"first_name",component_layout:100,component_type:1,component_data:d({field_key:"first_name",component_key:"first_name",field_title:u("pickup_firstname"),is_required:!0,required_miss_tips:u("enterFirstName"),enter_type:1,max_size:32},h?{max_size:25,enter_regex_config:[{regex_key:"minEnter",is_white_list:!1,regex:"^[\\s\\S]{1}$",level:"error",msg:m("az_address_firstname_min"),trigger:"change",can_submit:!1,weight:2}]}:{})},A={field_key:"middle_name",component_key:"middle_name",component_layout:100,component_type:1,component_data:{field_key:"middle_name",component_key:"middle_name",field_title:u("pickup_middlename"),is_required:!1,enter_type:1,max_size:32}},S={field_key:"last_name",component_key:"last_name",component_layout:100,component_type:1,component_data:d({field_key:"last_name",component_key:"last_name",field_title:u("pickup_lastname"),is_required:!0,required_miss_tips:u("enterLastName"),enter_type:1,max_size:32},h?{max_size:25,enter_regex_config:[{regex_key:"minEnter",is_white_list:!1,regex:"^[\\s\\S]{1}$",level:"error",msg:m("az_address_lastname_min"),trigger:"change",can_submit:!1,weight:2}]}:{})},C={field_key:"mobile",component_key:"mobile",component_layout:100,component_type:1,component_data:d(d({field_key:"mobile",field_title:u("Pickup_user_mobile_number"),is_required:!0,required_miss_tips:u("mobile.validateText"),enter_type:2,extra_info:{is_support_phone_code_select:!1,mobile_display_rule:{210:[{regex:"^[0-9]*$",formatRule:"4|6|"}],76:[{regex:"^[0-9]*$",formatRule:"3|"}]}}},g?{placeholder:u("kzMobilePlaceholder"),enter_regex_config:[{regex_key:"illegalFormat",is_white_list:!0,regex:"^[0-9]{10}$",level:"error",msg:u("kzMobileIllegalTips"),trigger:"blur",can_submit:!1,weight:-3},{regex_key:"illegalFormat",is_white_list:!0,regex:"^[0-9]{10}$",level:"warn",msg:u("kzMobileIllegalTips"),trigger:"change",can_submit:!0,weight:-4}]}:{}),b||h?{placeholder:p("uz_address_phone"),enter_regex_config:[{regex_key:"illegalFormat",is_white_list:!0,regex:"^[0-9]{9}$",level:"error",msg:p("uz_address_phone"),trigger:"blur",can_submit:!1,weight:-3},{regex_key:"illegalFormat",is_white_list:!0,regex:"^[0-9]{9}$",level:"warn",msg:p("uz_address_phone"),trigger:"change",can_submit:!0,weight:-4}]}:{})},I={field_key:"taxcode",component_key:"taxcode",component_layout:100,component_type:1,component_data:{field_key:"taxcode",field_title:u("idNumber"),is_required:!0,required_miss_tips:u("idNumberMissTips"),enter_regex_config:[{regex_key:"illegalFormat",is_white_list:!0,regex:"^[0-9]{12}$",level:"error",msg:u("idNumberIllegalTips"),trigger:"blur",can_submit:!1},{regex_key:"illegalFormatTyping",is_white_list:!0,regex:"^[0-9]{12}$",level:"warn",msg:u("idNumberIllegalTips"),trigger:"change",can_submit:!0}],placeholder:u("idNumberPlaceholder"),extra_info:{field_above_rich_tips:[{text:u("idNumberRichTips1"),font_color:"#000000",font_size:13},{text:u("idNumberRichTips2"),font_color:"#FB7701",font_size:13}],has_split_bar:!0},enter_type:1}},O={component_key:"taxcode_group",component_type:6,component_layout:100,component_attributes:{component_is_required:!0,component_title:"",component_select_button:{button_type:1,select_tips:u("ge_georgian_iam"),selected_component_key:(null==o?void 0:o[0])||"taxcode_nationals_group",select_button:[{mapping_sub_component:"taxcode_nationals_group",select_text:u("Yes")},{mapping_sub_component:"taxcode_foreigner_passport_group",select_text:u("No")}]}},sub_component:[{component_key:"taxcode_nationals_group",component_type:5,component_layout:100,component_attributes:{component_top_tips:u("ge_address_id_remind_re"),component_is_required:!0},sub_component:[{component_key:"taxcode_nationals_group_sub",field_key:"taxcode",component_type:1,component_layout:100,component_data:{is_required:!0,enter_regex_config:[{regex_key:"illegalCharacter",is_white_list:!1,regex:"[^0-9]",level:"warn",msg:u("ge_address_id_ing_no"),trigger:"change",can_submit:!0},{regex_key:"illegalFormat",is_white_list:!0,regex:"^[0-9]{11}$",level:"warn",msg:u("new_country_nationalid_lmt11"),trigger:"change",can_submit:!0},{regex_key:"illegalCharacterBlur",is_white_list:!1,regex:"[^0-9]",level:"error",msg:u("ge_address_id_ing_no"),trigger:"blur",can_submit:!1},{regex_key:"illegalFormatBlur",is_white_list:!0,regex:"^[0-9]{11}$",level:"error",msg:u("new_country_nationalid_lmt11"),trigger:"blur",can_submit:!1}],placeholder:u("IDnumber_shade"),field_title:u("ID_uy"),field_key:"taxcode",enter_type:1,required_miss_tips:u("IDnumber_empty")}},{component_key:"name_split",component_type:5,component_layout:100,component_data:{},component_attributes:{},sub_component:[{component_key:"first_name",field_key:"first_name",component_type:1,component_layout:100,component_data:{field_title:u("pickup_firstname"),is_required:!0,required_miss_tips:u("enterFirstName"),enter_regex_config:[{regex_key:"illegalCharacter",is_white_list:!1,regex:"[^აბგდევზთიკლმნოპჟრსტუფქღყშჩცძწჭხჯჰ\\s-]",level:"error",msg:u("ge_fname_input_latin"),trigger:"change",can_submit:!1,weight:3}],placeholder:u("ge_fname_gray"),field_key:"first_name",enter_type:1,max_size:40},component_attributes:{}},{component_key:"last_name",field_key:"last_name",component_type:1,component_layout:100,component_data:{field_title:u("pickup_lastname"),is_required:!0,required_miss_tips:u("enterLastName"),enter_regex_config:[{regex_key:"illegalCharacter",is_white_list:!1,regex:"[^აბგდევზთიკლმნოპჟრსტუფქღყშჩცძწჭხჯჰ\\s-]",level:"error",msg:u("ge_lname_input_latin"),trigger:"change",can_submit:!1,weight:3}],placeholder:u("ge_lname_gray"),field_key:"last_name",enter_type:1,max_size:40},component_attributes:{}}]},{component_key:"mobile",field_key:"mobile",component_type:2,component_layout:100,component_data:{field_title:u("Pickup_user_mobile_number"),is_required:!0,required_miss_tips:u("mobile.validateText"),enter_regex_config:[],extra_info:{is_support_phone_code_select:!1},field_key:"mobile",enter_type:2},component_attributes:{}}]},{component_key:"taxcode_foreigner_passport_group",component_type:5,component_layout:100,component_attributes:{component_top_tips:u("ge_address_pass_remind_re"),component_is_required:!0},sub_component:[{component_key:"taxcode_foreigner_passport_group_sub",field_key:"taxcode",component_type:1,component_layout:100,component_data:{is_required:!0,enter_regex_config:[{regex_key:"illegalCharacter",is_white_list:!1,regex:"[^0-9A-Za-z]",level:"warn",msg:u("ge_address_pass_ing_no"),trigger:"change",can_submit:!0},{regex_key:"illegalFormat",is_white_list:!0,regex:"^[0-9A-Za-z]{7,12}$",level:"warn",msg:u("ge_address_pass_ing_yes"),trigger:"change",can_submit:!0},{regex_key:"illegalCharacterBlur",is_white_list:!1,regex:"[^0-9A-Za-z]",level:"error",msg:u("ge_address_pass_ing_no"),trigger:"blur",can_submit:!1},{regex_key:"illegalFormatBlur",is_white_list:!0,regex:"^[0-9A-Za-z]{7,12}$",level:"error",msg:u("ge_address_pass_ing_yes"),trigger:"blur",can_submit:!1}],placeholder:u("am_passport_f_gray"),field_title:u("kr_address_foreigner_passport_title_new"),field_key:"taxcode",enter_type:1,required_miss_tips:u("new_country_passportmust")}},{component_key:"foreigner_name_split",component_type:5,component_layout:100,sub_component:[{component_key:"foreigner_first_name",field_key:"first_name",component_type:1,component_layout:100,component_data:{field_key:"first_name",is_required:!0,enter_regex_config:[],required_miss_tips:u("enterFirstName"),enter_type:1,field_title:u("pickup_firstname"),max_size:40}},{component_key:"foreigner_last_name",field_key:"last_name",component_type:1,component_layout:100,component_data:{field_key:"last_name",is_required:!0,enter_regex_config:[],required_miss_tips:u("enterLastName"),enter_type:1,field_title:u("pickup_lastname"),max_size:40}},{component_key:"mobile",field_key:"mobile",component_type:2,component_layout:100,component_data:{field_title:u("Pickup_user_mobile_number"),is_required:!0,required_miss_tips:u("mobile.validateText"),enter_regex_config:[],extra_info:{is_support_phone_code_select:!1},field_key:"mobile",enter_type:2},component_attributes:{}}]}]}]},N={component_key:"taxcode_group",component_type:6,component_layout:100,component_attributes:{component_select_button:{button_type:1,select_tips:p("uz_address_Uzbek"),selected_component_key:(null==o?void 0:o[0])||"taxcode_nationals_group_uz",select_button:[{mapping_sub_component:"taxcode_nationals_group_uz",select_text:u("Yes")},{mapping_sub_component:"taxcode_foreigner_group",select_text:u("No")}]}},sub_component:[{component_key:"taxcode_nationals_group_uz",component_type:5,component_layout:100,sub_component:[{component_key:"taxcode_nationals_group_sub",component_type:6,component_layout:100,component_attributes:{component_top_tips:p("uz_address_pinl_remind"),component_top_tips_color:"#000000",component_select_button:{button_type:2,selected_component_key:(null==o?void 0:o[1])||"taxcode_nationals_group_sub_1",select_button:[{mapping_sub_component:"taxcode_nationals_group_sub_1",select_text:u("kr_address_foreigner_passport_title_new")},{mapping_sub_component:"taxcode_nationals_group_sub_2",select_text:u("ID_uy")}]}},sub_component:[{component_key:"taxcode_nationals_group_sub_1",component_type:5,component_layout:100,sub_component:[{component_key:"taxcode_nationals_passport",field_key:"taxcode",component_type:1,component_layout:100,component_data:{field_key:"taxcode",is_required:!0,enter_regex_config:[{regex_key:"illegalCharacter",is_white_list:!1,regex:"[^A-Z0-9 ]",level:"error",msg:p("uz_address_passport_illegal"),trigger:"change",can_submit:!1},{regex_key:"illegalFormat",is_white_list:!0,regex:"^[A-Z]{2}[0-9]{7}$",level:"error",msg:p("uz_address_passport_format"),trigger:"blur",can_submit:!1},{regex_key:"illegalFormatTyping",is_white_list:!0,regex:"^[A-Z]{2}[0-9]{7}$",level:"warn",msg:p("uz_address_passport_format"),trigger:"change",can_submit:!0}],required_miss_tips:p("uz_address_passport_blank"),enter_type:1,placeholder:p("uz_passport_gray")}}]},{component_key:"taxcode_nationals_group_sub_2",component_type:5,component_layout:100,sub_component:[{component_key:"taxcode_nationals_id",field_key:"taxcode",component_type:1,component_layout:100,component_data:{field_key:"taxcode",is_required:!0,enter_regex_config:[{regex_key:"illegalCharacter",is_white_list:!1,regex:"[^A-Z0-9 ]",level:"error",msg:p("uz_address_id_illegal"),trigger:"change",can_submit:!1},{regex_key:"illegalFormat",is_white_list:!0,regex:"^[A-Z]{2}[0-9]{7}$",level:"error",msg:p("uz_address_id_format"),trigger:"blur",can_submit:!1},{regex_key:"illegalFormatTyping",is_white_list:!0,regex:"^[A-Z]{2}[0-9]{7}$",level:"warn",msg:p("uz_address_id_format"),trigger:"change",can_submit:!0}],required_miss_tips:p("uz_address_id_blank"),enter_type:1,placeholder:p("uz_passport_gray")}}]}]},{component_key:"additional_taxcode",field_key:"additional_taxcode",component_type:2,component_layout:100,component_data:{field_key:"additional_taxcode",is_required:!0,enter_regex_config:[{regex_key:"illegalFormat",is_white_list:!0,regex:"^[0-9]{14}$",level:"error",msg:p("uz_address_pinl_save"),trigger:"blur",can_submit:!1},{regex_key:"illegalFormatTyping",is_white_list:!0,regex:"^[0-9]{14}$",level:"warn",msg:p("uz_address_pinl_save"),trigger:"change",can_submit:!0}],required_miss_tips:p("uz_address_pinl_blank"),enter_type:2,placeholder:p("uz_address_pinl_gray"),field_title:p("uz_address_pinl")}},{component_key:"first_name",field_key:"first_name",component_type:1,component_layout:100,component_data:{field_title:p("uz_address_surname"),is_required:!0,required_miss_tips:p("uz_address_surname_blank"),enter_regex_config:[],accessible_broadcast:p("uz_address_surname"),field_key:"first_name",enter_type:1,max_size:40},component_attributes:{}},{component_key:"last_name",field_key:"last_name",component_type:1,component_layout:100,component_data:{field_title:p("uz_address_gname"),is_required:!0,required_miss_tips:p("uz_address_gname_blank"),enter_regex_config:[],accessible_broadcast:p("uz_address_gname"),field_key:"last_name",enter_type:1,max_size:40},component_attributes:{}},{component_key:"additional_name",field_key:"additional_name",component_type:1,component_layout:100,component_data:{field_key:"additional_name",field_title:p("uz_address_patronymic"),is_required:!0,required_miss_tips:p("uz_address_patronymic_save"),enter_regex_config:[],accessible_broadcast:p("uz_address_patronymic"),enter_type:1,max_size:40},component_attributes:{}}]},{component_key:"taxcode_foreigner_group",component_type:5,component_layout:100,component_attributes:{component_top_tips:p("uz_address_foreigner_remind"),component_float_jump_url:"bgt_address_clearance.html",component_top_tips_color:"#000000"},sub_component:[{component_key:"taxcode_passport",field_key:"taxcode",component_type:1,component_layout:100,component_data:{accessible_broadcast:u("kr_address_foreigner_passport_title_new"),field_key:"taxcode",is_required:!0,enter_regex_config:[{regex_key:"illegalCharacter",is_white_list:!1,regex:"[^a-zA-Z0-9 ]",level:"error",msg:u("ge_address_pass_ing_no"),trigger:"change",can_submit:!1},{regex_key:"illegalFormat",is_white_list:!0,regex:"^[a-zA-Z0-9]{7,12}$",level:"error",msg:u("ge_address_pass_ing_yes"),trigger:"blur",can_submit:!1},{regex_key:"illegalFormatTyping",is_white_list:!0,regex:"^[a-zA-Z0-9]{7,12}$",level:"warn",msg:u("ge_address_pass_ing_yes"),trigger:"change",can_submit:!0}],required_miss_tips:p("uz_address_passport_blank"),enter_type:1,placeholder:u("am_passport_f_gray"),field_title:u("kr_address_foreigner_passport_title_new")}},{component_key:"foreigner_first_name",field_key:"first_name",component_type:1,component_layout:100,component_data:{accessible_broadcast:u("pickup_firstname"),field_key:"first_name",is_required:!0,enter_regex_config:[],required_miss_tips:u("enterFirstName"),enter_type:1,field_title:u("pickup_firstname"),max_size:40}},{component_key:"foreigner_last_name",field_key:"last_name",component_type:1,component_layout:100,component_data:{accessible_broadcast:u("pickup_lastname"),field_key:"last_name",is_required:!0,enter_regex_config:[],required_miss_tips:u("enterLastName"),enter_type:1,field_title:u("pickup_lastname"),max_size:40}}]}]},w={component_key:"taxcode_group",component_type:5,component_layout:100,component_attributes:{component_is_required:!0},sub_component:[{component_key:"taxcode_nationals_group_sub",component_type:5,component_layout:100,component_attributes:{component_top_tips:m("az_fin_tips3"),component_is_required:!0},sub_component:[{component_key:"taxcode_nationals_group",field_key:"taxcode",component_type:1,component_layout:100,component_data:{field_title_supplement:"",accessible_broadcast:m("az_fin"),field_key:"taxcode",is_required:!0,required_miss_tips:m("az_fin_save1"),enter_regex_config:[{regex_key:"illegalCharacter",is_white_list:!1,regex:"[^0-9A-Za-z]",level:"error",msg:m("az_fin_tips2"),trigger:"change",can_submit:!1,weight:-4},{regex_key:"illegalFormat",is_white_list:!0,regex:"^[\\s\\S]{5,7}$",level:"error",msg:m("az_fin_tips1"),trigger:"blur",can_submit:!1,weight:-3},{regex_key:"illegalFormatTips",is_white_list:!0,regex:"^[\\s\\S]{5,7}$",level:"warn",msg:m("az_fin_tips1"),trigger:"change",can_submit:!0,weight:0}],enter_type:1,placeholder:m("az_fin_gray"),field_title:m("az_fin")}}]}]},x=[].concat((0,r.A)(n?[_]:[]),[y],(0,r.A)(E?[A]:[]),[S,C]);return g&&(x=[I,S,y,C]),v&&(x=[O]),b&&(x=[N,C]),h&&(x=[w,y,S,C]),{componentList:[(0,s.wu)({component_attributes:{},component_data:{},component_key:"edit_page",component_layout:100,component_type:5,sub_component:x})],postnumberConfig:(0,c.QD)([(0,s.wu)(_)])}}},88894:function(e,t,n){"use strict";n.d(t,{Ay:function(){return b},B0:function(){return _},Ft:function(){return h},YT:function(){return v},Yf:function(){return d},dO:function(){return E},e2:function(){return f},fc:function(){return g},ri:function(){return m}});var r=n(61877),o=n(74533),a=n(11286),i=n.n(a),l=(n(62062),n(79432),n(52675),n(2008),n(26099),n(83851),n(44114),n(23500),n(81278),n(67945),n(84185),n(75813));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={ADDRESS_SNAPSHOT:"/api/bg-origenes/address/snapshot",ADDRESS_FILLBACK:"/api/bg-origenes/business/pick_up/address/edit/page/fillBack/auth",POSTCODE_RECOMMEND:"/api/bg-origenes/poi/postcode/recommend/region/pick_up",SEARCH_LIST:"/api/bg-origenes/poi/search/poi_list",SEARCH_LIST_SELECT_REPORT:"/api/bg-origenes/poi/rec/report",PICK_UP_POINT:"/api/bg-origenes/poi/postcode/recommend/pick_up_point",PICK_UP_POINT_BY_LOCATION:"/api/bg-origenes/poi/recommend/pick_up_point",PICK_UP_POINT_BY_LOCATION_VISITOR:"/api/bg-origenes/visitor/poi/recommend/pick_up_point",ADD_OR_UPDATE_ADDRESS:"/api/bg-origenes/business/pick_up/address/add_or_update",ADD_VISITOR_ADDRESS:"/api/bg-origenes/visitor/pick_up/address/snapshot/create",BIND_POSTNUMBER:"/api/bg-origenes/business/pick_up/address/bind/postnumber",GRAY_CONFIG:"api/firefly/exp-config",PICK_UP_POINT_CONFIG:"/api/bg-origenes/business/pick_up_point/config"};function d(e){return p.apply(this,arguments)}function p(){return(p=(0,o.A)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.SA)({url:u.ADDRESS_FILLBACK,params:t}).then((function(e){var t;return null!=e&&e.isApiError?e:(null==e||null===(t=e.result)||void 0===t?void 0:t.addressRegion)||{}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return(0,l.SA)({url:u.POSTCODE_RECOMMEND,params:e}).then((function(e){var t;return(null==e||null===(t=e.result)||void 0===t?void 0:t.regions)||[]}))}function f(e){return(0,l.SA)({url:u.SEARCH_LIST,params:e}).then((function(e){var t;return((null==e||null===(t=e.result)||void 0===t?void 0:t.poiList)||[]).map((function(e,t){return c(c({},e),{},{recommendText:e.label,idx:t})}))}))}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.SA)({url:u.SEARCH_LIST_SELECT_REPORT,params:e,errorHandler:function(e){return e}})}function v(e){return(0,l.SA)({url:u.PICK_UP_POINT,params:e}).then((function(e){var t;return(null==e||null===(t=e.result)||void 0===t?void 0:t.pickUpPointList)||[]}))}function b(e,t){return(0,l.SA)({url:e.visitor_token?u.PICK_UP_POINT_BY_LOCATION_VISITOR:u.PICK_UP_POINT_BY_LOCATION,params:e}).then((function(e){var n,r=(null==e?void 0:e.result)||{};return{pickUpPointList:r.pickUpPointList,filterSupportList:null!=t&&null!==(n=t.filterSupportList)&&void 0!==n&&n.length?t.filterSupportList:r.filterSupportList,preCheckResult:r.preCheckResult}})).catch((function(){return{pickUpPointList:[]}}))}function h(e){return(0,l.SA)({url:u.ADD_OR_UPDATE_ADDRESS,params:e}).then((function(e){return(null==e?void 0:e.result)||{}}))}function E(e){return(0,l.SA)({url:u.BIND_POSTNUMBER,params:e}).then((function(e){return(null==e?void 0:e.result)||{}}))}function _(e){return(0,l.SA)({url:u.PICK_UP_POINT_CONFIG,params:e}).then((function(e){return null!=e&&e.isApiError?e:(null==e?void 0:e.result)||{}}))}},93475:function(e,t,n){"use strict";n.d(t,{A:function(){return U}});n(52675),n(83851),n(44114),n(23500),n(81278),n(67945),n(84185);var r,o=n(14242),a=n(74533),i=n(6356),l=n(61877),s=(n(26099),n(3362),n(62062),n(79432),n(2008),n(74423),n(21699),n(48980),n(54554),n(27495),n(25440),n(11286)),c=n.n(s),u=n(33514),d=n(32485),p=n.n(d),m=n(8515),f=n(95789),g=n(14511),v=n(97582),b=n(91793),h=n(8565),E=n(20162),_=n(10644),y=n(59661),A=n(54461),S=n(32160),C=n.n(S),I=function(e){return u.createElement("div",(0,o.A)({className:p()("cursorPointer",C().closeIcon)},e),u.createElement(A.HW,null))},O=(0,u.memo)(I),N=n(90930),w=n(57402),x=n(55637),k=n(87164),P=n(38532),T=n(69082),D=n(78484),R=function(e){return e[e.USE_ORIGINAL=1]="USE_ORIGINAL",e[e.USE_SUGGESTED=2]="USE_SUGGESTED",e[e.CHANGE_MANUALLY=3]="CHANGE_MANUALLY",e[e.PROMPT_USE_SUGGESTED=4]="PROMPT_USE_SUGGESTED",e[e.NEW_HAS_SUGGESTED=5]="NEW_HAS_SUGGESTED",e[e.PAYPAL_ADDRESS=7]="PAYPAL_ADDRESS",e[e.TEMU_ADDRESS=8]="TEMU_ADDRESS",e[e.CREAT_PICKUP_ADRESS_BY_PICKUP_LIKE_ADRESS=9]="CREAT_PICKUP_ADRESS_BY_PICKUP_LIKE_ADRESS",e}({}),L=n(63268),j=n(42651),M=n.n(j);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=(r={},(0,l.A)(r,R.CHANGE_MANUALLY,205754),(0,l.A)(r,R.USE_ORIGINAL,205752),(0,l.A)(r,R.USE_SUGGESTED,205753),(0,l.A)(r,R.NEW_HAS_SUGGESTED,209086),r),U=(0,N.A)((0,g.W4)())((function(e){var t,n,r=e.addressCorrectionInfo,l=e.onClose,s=e.addressEditProps,d=e.trackingInfo,g=void 0===d?{}:d,S=e.isGuestMode,C=e.isPaypalAddressConfirmPop,I=void 0!==C&&C,N=r||{},j=N.topTitleRich,B=N.titleRich,U=N.viewObjects,V=N.buttons,H=N.orderPageAlertButton,G=(0,u.useState)(!0),K=(0,i.A)(G,2),z=K[0],q=K[1],Y=(0,w.dI)(null==s||null===(t=s.addressItem)||void 0===t?void 0:t.addressSnapshotId),J=null==s||null===(n=s.addressItem)||void 0===n?void 0:n.addressSnapshotSn,Z=null==s?void 0:s.onSuccessCb,Q=(0,u.useState)(s),X=(0,i.A)(Q,2),$=X[0],ee=X[1],te=(0,u.useState)(I?R.PAYPAL_ADDRESS:R.USE_SUGGESTED),ne=(0,i.A)(te,2),re=ne[0],oe=ne[1];(0,u.useEffect)((function(){(0,P.mE)({event:"showCorrectPop",data:(0,w.Jm)({isPaypalAddressConfirmPop:I})})}),[]);var ae,ie=(0,u.useCallback)((function(e){l(),null==Z||Z(e)}),[l,Z]),le=(0,u.useCallback)((function(){q(!1)}),[]),se=(0,u.useCallback)((function(){q(!0)}),[]),ce=function(e){var t=e.addressSnapshotId,n=e.addressSnapshotSn,r=e.item,o=e.idx,i=e.onCustomClick,s=e.onSuccessCb,d=e.useImprClick,g=void 0===d||d,E=e.trackingInfo,_=void 0===E?{}:E,y=e.addressBackSendVo,A=e.isNewStyle,C=void 0!==A&&A,O=e.addrType,N=(0,v.B)("bec-fe.web-address").t,T=r.type,j=r.buttonText,B=r.editAddressScene,U=(0,x.A)((0,a.A)(c().mark((function e(){var r,o,a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.f({address_snapshot_id:t,address_snapshot_sn:n,isGuestMode:S});case 2:if(o=e.sent,!(null==o?void 0:o.success)||null==o||null===(r=o.result)||void 0===r||!r.addressSnapshotId){e.next=10;break}return a=o.result.addressSnapshotId,i=o.result.addressSnapshotSn,(0,P.mE)({event:"addressCorrectSuggestSuccess",data:(0,w.Jm)({addressSnapshotId:t,newAddressSnapShotId:a,addressSnapshotSn:n,newAddressSnapShotSn:i})}),s({addressSnapshotId:a,addressSnapshotSn:i}),e.abrupt("return");case 10:(0,m.A)(N("correctPop.suggestError")),(0,P.mE)({event:"addressCorrectSuggestFail",data:(0,w.Jm)({addressSnapshotId:t,addressSnapshotSn:n})});case 12:case"end":return e.stop()}}),e)})))),V=(0,x.A)((0,a.A)(c().mark((function e(){var r,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.S({address_snapshot_id:t,address_snapshot_sn:n,isGuestMode:S});case 2:if(o=e.sent,!(null==o||null===(r=o.result)||void 0===r?void 0:r.confirmResult)){e.next=8;break}return(0,P.mE)({event:"addressCorrectOriginalSuccess",data:(0,w.Jm)({addressSnapshotId:t,addressSnapshotSn:n})}),s({addressSnapshotId:t,addressSnapshotSn:n}),e.abrupt("return");case 8:(0,m.A)(N("correctPop.suggestError")),(0,P.mE)({event:"addressCorrectOriginalFail",data:(0,w.Jm)({addressSnapshotId:t,addressSnapshotSn:n,err:o})});case 10:case"end":return e.stop()}}),e)})))),H=(0,x.A)((0,a.A)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var t=(0,f.A)(u.createElement(D.A,{shippingAddressSnapshotSn:n,onClose:function(){null==t||t(),e(null)},onSuccess:function(n){null==t||t(),e(n)}}),null)}));case 2:(t=e.sent)&&s(F(F({},t),{},{type:R.CREAT_PICKUP_ADRESS_BY_PICKUP_LIKE_ADRESS}));case 4:case"end":return e.stop()}}),e)})))),G=(0,u.useMemo)((function(){return"number"==typeof o}),[o]),K=(0,u.useMemo)((function(){return G?0===o?M().mainButton:M().subButton:M().textButton}),[G,o]),z=(0,u.useMemo)((function(){return I?null:C&&T===R.CHANGE_MANUALLY?O===R.TEMU_ADDRESS?220641:O===R.USE_ORIGINAL?209087:209088:W[T]}),[T,O,C,I]),q=(0,k.w)((function(){return T===R.USE_ORIGINAL?V():T===R.USE_SUGGESTED?U():T===R.CHANGE_MANUALLY?(y&&ee(F(F({},$),{},{addressItem:F(F({},y),{},{addressSnapshotId:t,addressSnapshotSn:n}),defaultAddressItem:F(F({},y),{},{addressSnapshotId:t,addressSnapshotSn:n}),editAddressScene:B})),null==i?void 0:i()):T===R.NEW_HAS_SUGGESTED?re===R.USE_ORIGINAL?V():re===R.PAYPAL_ADDRESS?((0,P.mE)({event:"usePaypalAddress"}),l()):re===R.TEMU_ADDRESS?((0,P.mE)({event:"useTemuAddress"}),s({addressSnapshotId:t,addressSnapshotSn:n})):U():T===R.CREAT_PICKUP_ADRESS_BY_PICKUP_LIKE_ADRESS?H():null==i?void 0:i()})),Y=T===R.NEW_HAS_SUGGESTED?F(F(F({},_),re===R.USE_ORIGINAL?{selected_address:0}:{}),re===R.USE_SUGGESTED?{selected_address:1}:{}):_;return(0,u.useEffect)((function(){(0,P.mE)({event:"addressCorrectTracking",data:(0,w.Jm)({pageElSn:z,others:Y,useImprClick:g,type:T,addrType:O,isNewStyle:C,addressType:re})})}),[]),u.createElement(h.A,{others:Y,page_el_sn:z,useImpr:g,useClick:g},u.createElement("div",{className:p()("cursorPointer",K),onClick:function(e){e.stopPropagation(),q()},role:"button",tabIndex:0},j,!G&&u.createElement(b.A,{className:p()("cursorPointer",M().rightArrow),"aria-hidden":!0})))},ue=function(e){return u.createElement("div",{className:p()(M().head,e?M().stickyHead:M().hidden)},u.createElement("span",{className:M().title,style:{color:null==j?void 0:j.fontColor,fontSize:"20px"}},null==j?void 0:j.text))},de=function(e){var t=H?[H]:V;return u.createElement("div",{className:p()(M().foot,e?M().stickyFoot:M().hidden)},e?u.createElement("div",{className:M().gradientFoot}):null,u.createElement("div",{className:M().buttonWrap},(t||[]).map((function(t,n){return u.createElement(ce,{key:n,addressSnapshotId:Y,addressSnapshotSn:J,item:t,idx:n,onCustomClick:le,onSuccessCb:ie,useImprClick:e,trackingInfo:g})}))))};return z?u.createElement(y.Ay,{isShowClose:!1},(ae=function(e,t){return I?t?220643:220645:e?t?209083:209085:t?205751:205750},u.createElement("div",{className:M().container},ue(!1),ue(!0),u.createElement(h.A,{page_el_sn:205749,others:g},u.createElement(O,{onClick:l})),u.createElement("div",{className:M().contentWrap},u.createElement("div",{className:M().contentScroll},u.createElement("div",{className:M().content},null!=B&&B.text?u.createElement("div",{className:M().tip},I?null:u.createElement(u.Fragment,null,u.createElement(A.ec,{className:M().warnIcon,style:{fill:null==B?void 0:B.fontColor}})," "),u.createElement("span",{style:{color:null==B?void 0:B.fontColor,fontSize:"14px",verticalAlign:"middle"}},null==B?void 0:B.text)):null,u.createElement("div",{className:M().addressContent,style:{paddingLeft:H?void 0:"16px"}},(U||[]).map((function(e,t){var n=e.titleRich,r=e.viewInfo,o=e.addressCorrectionButton,a=e.enable,i=e.editButton,l=e.type,s=e.addressDisableTips,c=e.addressToastTips,d=e.addressBackSendVo,p=0===t;return u.createElement(h.A,{page_el_sn:ae(H,p),others:p?F(F({},g),{},{title:null==B?void 0:B.text}):g,key:t},u.createElement("div",{className:M().addressContentItemMain,role:"button",tabIndex:0,onClick:function(){1===a?E.A.error(String(c).replace("\n","")):oe(l)}},!!H&&u.createElement("div",{className:M().addressContentItemRadio},u.createElement(_.sx,{disabled:1===a,isChecked:re===l})),u.createElement("div",{className:M().addressContentItem},u.createElement("div",{className:M().addressContentItemTitleWrap},u.createElement("p",{className:M().addressContentItemTitle,style:{color:null==n?void 0:n.fontColor,fontSize:"16px"}},null==n?void 0:n.text),null!=i&&i.buttonText||null!=o&&o.buttonText?u.createElement(ce,{addressSnapshotId:Y,addressSnapshotSn:J,item:i||o,onSuccessCb:ie,trackingInfo:g,addressBackSendVo:d,onCustomClick:le,isNewStyle:!!i,addrType:l}):null),u.createElement("p",{className:M().addressContentItemText,style:{marginBottom:1===a?void 0:"12px"}},function(e){var t=Object.keys(e),n=["name","phoneCode","mobile","addressLine1","addressLine2","regionName3","regionName2","postCode"].filter((function(n){return t.includes(n)&&!!e[n]}));Boolean(e.regionName4)&&(n=["name","phoneCode","mobile","addressLine1","addressLine2","regionName4","postCode","regionName3","regionName2"]);var r=Boolean(e.addressLine2);if(!r){var o=n.findIndex((function(e){return"addressLine2"===e}));o>-1&&n.splice(o,1)}var a=["mobile",r?"addressLine2":"addressLine1"];return n.map((function(t,r){var o=e[t]||{};return u.createElement("span",{key:r,style:{color:o.fontColor,fontSize:"14px"}},"phoneCode"===t&&o.text?"+":"",o.text,a.includes(t)?u.createElement("br",null):"postCode"===t||"phoneCode"===t?" ":r!==n.length-1?", ":"")}))}(r)),1===a?u.createElement("p",{className:M().warnTip,style:{color:null==n?void 0:n.fontColor}},u.createElement(A.ec,{className:M().warnIcon,style:{fill:null==n?void 0:n.fontColor}})," ",u.createElement("span",{style:{verticalAlign:"middle"}},s)):null)))})))))),de(!1),de(!0)))):u.createElement(T.A,(0,o.A)({},$,{onClose:se}))}))},63268:function(e,t,n){"use strict";n.d(t,{S:function(){return i},f:function(){return a}});var r=n(75813),o={EDIT_CORRECT:"/api/bg-origenes/address/edit/by/correction",GUEST_EDIT_CORRECT:"/api/bg-origenes/visitor/address/edit/by/correction",SUSPECT_CONFIRM:"/api/bg-origenes/address/snapshot/suspect_confirm",SUSPECT_CONFIRM_VISITOR:"/api/bg-origenes/visitor/address/snapshot/suspect_confirm"};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.SA)({url:e.isGuestMode?o.GUEST_EDIT_CORRECT:o.EDIT_CORRECT,params:e,errorHandler:function(e){return e}})}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.SA)({url:e.isGuestMode?o.SUSPECT_CONFIRM_VISITOR:o.SUSPECT_CONFIRM,params:e,errorHandler:function(e){return e}})}},58397:function(e,t,n){"use strict";n.d(t,{J:function(){return a},w:function(){return o}});var r=n(33514),o=(0,r.createContext)({});function a(){return r.useContext(o)}},87705:function(e,t,n){"use strict";n.d(t,{A:function(){return Pe}});var r=n(61877),o=(n(62062),n(33514)),a=n(32485),i=n.n(a),l=n(97582),s=n(99117),c=n(82370),u=n(90038),d=n(34243),p=n(36806),m=n(86063),f=(n(52675),n(2008),n(83851),n(81278),n(67945),n(84185),n(74533)),g=n(6356),v=n(11286),b=n.n(v),h=(n(26099),n(3362),n(23500),n(44114),n(72712),n(79432),n(16034),n(33110),n(38221)),E=n.n(h),_=n(56733),y=n(60043),A=n(57402),S=n(38532),C=n(5874);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e,t){var n=new google.maps.Geocoder;return new Promise((function(r,o){n.geocode(e,(function(e,n){n!==google.maps.GeocoderStatus.OK&&((0,S.mE)({event:"getGeocodeError",data:n}),o(n)),(0,s.OS)({page_el_sn:224982,op:"impr",map_scenes:t}),r(e)}))}))},w=function(e){return e===y.HQ.NewPickUp?{icon:"https://aimg.kwcdn.com/upload_aimg/transaction/2df22e45-5b8d-4cd7-a5c7-beee13554883.png.slim.png",activeIcon:"https://aimg.kwcdn.com/upload_aimg/transaction/b3a61efd-26ae-4898-a477-1ca489342092.png.slim.png",scaledSize:new google.maps.Size(28,34),anchor:new google.maps.Point(14,34),activeScaledSize:new google.maps.Size(38,46),activeAnchor:new google.maps.Point(19,46)}:{}},x=function(e){switch(e){case y.HQ.Normal:return"MAPS_ADDRESS_H5";case y.HQ.NewPickUp:return"MAPS_PICK_UP_H5";case y.HQ.Express:return"MAPS_EXPRESS_PICK_UP_POINT_PC";default:return"MAPS_ADDRESS_H5"}},k=n(58397),P=n(27969),T=n(73035),D=n(34678),R=n(20162),L=n(87837),j=n(841),M=n.n(j),B=function(e){switch(e.code){case e.PERMISSION_DENIED:return"PERMISSION_DENIED";case e.POSITION_UNAVAILABLE:return"POSITION_UNAVAILABLE";case e.TIMEOUT:return"TIMEOUT";default:return"UNKNOWN"}},F=function(e){var t=e.map,n=e.className,r=(0,l.B)("bec-fe.web-address").t,a=(0,k.J)(),s=a.isEdit,c=a.latLng,u=a.latLngScene,d=a.mapScene,p=a.mapControl,m=a.onLocateMe,f=p||{},g=f.locateAction,v=void 0===g?0:g,b=f.zoom,h=function(e){if(0===v&&(navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var n={lat:e.coords.latitude,lng:e.coords.longitude};null==t||t.setCenter(n),null==t||t.setZoom(b||y.WB.Large),null==m||m(n)}),(function(n){!function(e,n){null==t||t.setCenter(c),null==t||t.setZoom(y.WB.Small),(0,S.mE)({event:"geolocationError",data:B(e)}),e.code!==e.PERMISSION_DENIED||n||(0,T.P)({popupNode:o.createElement(D.A,{title:r("openLocationService"),confirmButtonLabel:r("ok"),onClose:function(){return(0,T.L)(!1)},onConfirm:function(){(0,T.L)(!0)}})})}(n,e)}),{timeout:1e4}):(R.A.warning(r("browserNotSupportGeolocation")),(0,S.mE)({event:"browserNotSupportGeolocation"}))),1===v){var n=new google.maps.LatLng(c);null==t||t.panTo(n)}};return(0,o.useEffect)((function(){(s&&u!==y.Zf.LastSaved||!s)&&d!==y.HQ.NewPickUp&&h(!0)}),[]),o.createElement(L.Rp,{page_el_sn:224842},o.createElement("div",{className:i()(M().locateMe,n),onClick:function(){return h()},role:"button",tabIndex:0,"data-aria-enter":"1"},o.createElement(P.A,{className:M().icon,"aria-hidden":!0})))},W=(0,o.memo)(F),U=n(10147),V=n(54461),H=n(69272),G=n.n(H),K=function(e){var t=e.placeList,n=e.className,r=(0,l.B)("bec-fe.web-address").t,a=(0,k.J)(),c=a.onSelect,u=a.setEnterAddressManually,d=a.mapControl,p=null==t?void 0:t[0];return p?o.createElement("div",{className:i()(G().placeInfo,n)},o.createElement("div",{className:G().main},o.createElement(V.KX,{className:G().icon}),o.createElement("div",{className:G().info},p.formatted_address)),!(null==d||!d.enableSelectPlace)&&o.createElement(U.A,{className:G().btn,onClick:function(){null==c||c(t),null==u||u(!1),(0,s.OS)({page_el_sn:241055,op:"click"})}},r("confirmAddress"))):null},z=(0,o.memo)(K),q=(n(23418),n(47764),n(27495),n(90906),n(2259),n(23792),n(62953),n(16280),n(76918),n(56687)),Y=n(14242),J=(n(34782),n(89463),n(48980),n(89243)),Z=n(90010),Q=n(16835),X=n(7638),$=n(27092),ee=n(8565),te=n(21892),ne=n(95376),re=n(64941),oe=n.n(re),ae=["selectProps"],ie=["selectProps"],le=["selectProps"];function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){var n,r="",o=0,a=ue(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;r+=e.slice(o,i.offset)+'<span style="color:#777777">'.concat(e.slice(i.offset,i.offset+i.length),"</span>"),o=i.offset+i.length}}catch(e){a.e(e)}finally{a.f()}return r+=e.slice(o)}var me=function(e){var t=(0,l.B)("bec-fe.web-address").t;return o.createElement(ee.A,{page_el_sn:224838},o.createElement(Z.c.Input,(0,Y.A)({},e,{autoComplete:"off","aria-label":t("searchAddressPlaceholder")})))},fe=function(){var e=(0,l.B)("bec-fe.web-address").t;return o.createElement(te.r,{title:e("noSearchResultsFound"),titleClassName:oe().emptyTitle,wrapperClassName:oe().emptyWrap,pageElSn:243465,useClick:!1})},ge=function(){return o.createElement(ne.A,{className:oe().loadingMessage})},ve=function(e){var t=e.selectProps,n=(0,q.A)(e,ae);return t.inputValue?o.createElement(Z.c.Menu,n,n.children):null},be=function(e){var t=e.onClick,n=(0,l.B)("bec-fe.web-address").t;return o.createElement(L.Rp,{page_el_sn:227850},o.createElement("div",{className:oe().customTip,onClick:t,role:"button",tabIndex:0},o.createElement(X.x,{t:n,ns:"bec-fe.web-address",i18nKey:"selectLocationFromMap",components:{span:o.createElement("span",{className:oe().highlightText})}}),o.createElement($.A,{className:oe().arrowIcon,"aria-hidden":!0})))},he=function(e){var t=e.selectProps,n=(0,q.A)(e,ie),r=(0,l.B)("bec-fe.web-address").t;if(!t.inputValue)return null;var a=t.handleBlur,i=t.enableSelectLocationFromMap;return o.createElement("div",null,o.createElement(ee.A,{page_el_sn:224839},o.createElement(Z.c.MenuList,(0,Y.A)({},n,{selectProps:t}))),o.createElement("div",{className:oe().tip},r("poweredBy")," ",o.createElement(c.Ay,{src:"https://aimg.kwcdn.com/upload_aimg/transaction/44aaecc9-6542-44ba-94ca-34619801d920.png.slim.png",className:oe().google,resizeWidth:129,"aria-hidden":!0,alt:""})),!!i&&o.createElement(be,{onClick:a}))},Ee=function(e){var t=e.selectProps,n=(0,q.A)(e,le),r=t.handleSelect,a=n||{},i=a.data,l=a.options,s=i||{},c=s.matched_substrings,u=s.description,d=l.findIndex((function(e){return e.place_id===i.place_id}));return o.createElement("div",(0,Y.A)({},n,{className:oe().option,onClick:function(){return r(i,d)},role:"button",tabIndex:0}),o.createElement("span",{dangerouslySetInnerHTML:{__html:pe(u,c)}}))},_e=function(e){var t=e.portalTarget,n=e.className,r=e.regionId1,a=e.map,c=e.mapScene,u=e.autocomplete,d=e.setHasDragged,p=e.setIsIdleAfterUserDrag,m=(0,l.B)("bec-fe.web-address").t,f=(0,o.useRef)(new google.maps.places.AutocompleteSessionToken),v=(0,o.useRef)(null),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapScene,n=e.requestOptions,r=e.cache,a=void 0===r?0:r,i=e.cacheKey,l=void 0===i?"upa":i,c=e.defaultValue,u=void 0===c?"":c,d=e.autocomplete,p=(0,o.useState)(u),m=(0,g.A)(p,2),f=m[0],v=m[1],b=(0,o.useState)({loading:!0,status:"",data:[]}),h=(0,g.A)(b,2),_=h[0],y=h[1],A=(0,o.useRef)(0),S=(0,o.useCallback)((function(){y({loading:!0,status:"",data:[]})}),[]),C=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;try{sessionStorage.removeItem(e)}catch(e){}}),[l]),I=(0,o.useCallback)(E()((function(e){if(e){A.current+=1,y((function(e){return O(O({},e),{},{loading:!0})}));var r={};try{r=JSON.parse(sessionStorage.getItem(l)||"{}")}catch(e){}a&&(r=Object.keys(r).reduce((function(e,t){return r[t].maxAge-Date.now()>=0&&(e[t]=r[t]),e}),{}))[e]?y({loading:!1,status:"OK",data:r[e].data}):null==d||d.getPlacePredictions(O({input:e},n),(function(o,i){var c;if(y({loading:!1,status:i,data:o||[]}),(0,s.OS)({page_el_sn:232431,op:"impr",map_session_id:null===(c=Object.values((null==n?void 0:n.sessionToken)||{}))||void 0===c?void 0:c[0],map_scenes:t}),a&&"OK"===i){r[e]={data:o,maxAge:Date.now()+1e3*a};try{sessionStorage.setItem(l,JSON.stringify(r))}catch(e){}}}))}else S()}),200),[a,l,S,null==n?void 0:n.sessionToken]),N=(0,o.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];v(e),t&&I(e)}),[I]);return{value:f,suggestions:_,sessionTimeRef:A,setValue:N,clearSuggestions:S,clearCache:C}}({mapScene:c,autocomplete:u,requestOptions:{sessionToken:f.current,componentRestrictions:{country:_.eg[r||""]}}}),h=b.value,A=b.suggestions,C=A.data,I=A.loading,N=b.sessionTimeRef,w=b.setValue,x=b.clearSuggestions;if(!r)return null;var k=function(){var e;null===(e=v.current)||void 0===e||e.blur()},P=o.createElement("div",{className:i()(oe().autoComplete,n),role:"button",tabIndex:0,onClick:function(){c===y.HQ.Normal&&(0,s.E0)({page_el_sn:241056})}},o.createElement(Q.Ay,{ref:v,options:C,placeholder:m("searchAddressPlaceholder"),inputValue:h,className:"searchContainer",classNamePrefix:"search",isLoading:I,components:{Input:me,Option:Ee,Menu:ve,MenuList:he,NoOptionsMessage:fe,LoadingMessage:ge,IndicatorsContainer:function(){return null}},isSearchable:!0,filterOption:function(){return!0},onInputChange:function(e){return w(e)},controlShouldRenderValue:!1,blurInputOnSelect:!0,styles:{menu:function(e){return ce(ce({},e),{},{zIndex:9999})}},menuShouldScrollIntoView:!1,onMenuClose:function(){return w(h)},handleBlur:k,handleSelect:function(e,t){var n,r,o;w(e.description,!1),x(),setTimeout((function(){k()}),0),(0,s.OS)({page_el_sn:224983,huihua_selected:1,huihua_sum:N.current,op:"impr",map_session_id:null===(n=Object.values(f.current))||void 0===n?void 0:n[0],map_scenes:c}),(0,s.OS)({page_el_sn:224983,op:"click",map_scenes:c,map_search_num:t+1}),(r={placeId:e.place_id,fields:["address_components","formatted_address","geometry","place_id","plus_code","types"],sessionToken:f.current},o=new google.maps.places.PlacesService(document.createElement("div")),new Promise((function(e,t){o.getDetails(r,(function(n,r){r!==google.maps.places.PlacesServiceStatus.OK&&((0,S.mE)({event:"getPlaceDetailsError",data:r}),t(r)),e(n)}))}))).then((function(e){var t,n;if(e){var r=null===(t=e.geometry)||void 0===t?void 0:t.location,o=null===(n=e.geometry)||void 0===n?void 0:n.viewport;null==a||a.setCenter(r),o&&(null==a||a.fitBounds(o)),d(!0),p(!0),f.current=new google.maps.places.AutocompleteSessionToken,N.current=0}}))},enableSelectLocationFromMap:!t}),h?o.createElement(V.sL,{className:oe().inputCloseIcon,onClick:function(){return w("")}}):o.createElement("div",{className:oe().searchButton},o.createElement(V.Qn,{className:oe().icon})));return t?(0,J.createPortal)(P,t):P},ye=(0,o.memo)(_e),Ae=n(75301),Se=n(55875),Ce=n(80834),Ie=n.n(Ce),Oe=function(e){var t=e.map,n=e.className,r=(0,o.useRef)(null),a=(0,o.useRef)(null);return(0,o.useEffect)((function(){var e,n;null===(e=r.current)||void 0===e||e.addEventListener("click",(function(){var e=(null==t?void 0:t.getZoom())||0;21!==e&&(null==t||t.setZoom(e+1))})),null===(n=a.current)||void 0===n||n.addEventListener("click",(function(){var e=(null==t?void 0:t.getZoom())||0;0!==e&&(null==t||t.setZoom(e-1))}))}),[]),o.createElement("div",{className:i()(Ie().zoomWrap,n)},o.createElement("div",{className:Ie().zoom,ref:r,role:"button",tabIndex:0,"data-aria-enter":"1"},o.createElement(Ae.A,{className:Ie().icon,"aria-hidden":!0})),o.createElement("div",{className:Ie().zoom,ref:a,role:"button",tabIndex:0,"data-aria-enter":"1"},o.createElement(Se.A,{className:Ie().icon,"aria-hidden":!0})))},Ne=(0,o.memo)(Oe),we=n(38255),xe=n.n(we),ke=function(){var e=(0,l.B)("bec-fe.web-address").t,t=(0,k.J)(),n=t.regionId1,a=t.latLng,v=t.latLngScene,h=t.markerLocationList,E=t.activeMarkerIndex,I=t.mapControl,O=t.mapScene,P=t.renderPlaceInfo,T=t.renderCenterIcon,D=t.autoCompletePortalTarget,R=t.onDragEnd,L=t.onMarkerClick,j=t.classConfig,M=t.markerLabel,B=t.apiKey,F=t.isGuestMode,U=t.operateCountRef,V=function(e){var t,n,r,a,i=e.regionId1,l=e.latLng,c=e.latLngScene,u=e.markerLocationList,d=e.activeMarkerIndex,m=e.mapControl,v=e.mapScene,h=e.markerLabel,E=e.apiKey,I=e.isGuestMode,O=e.operateCountRef,k=e.onDragEnd,P=e.onMarkerClick,T=(0,o.useState)(!1),D=(0,g.A)(T,2),R=D[0],L=D[1],j=(0,o.useState)(!1),M=(0,g.A)(j,2),B=M[0],F=M[1],W=(0,o.useState)(),U=(0,g.A)(W,2),V=U[0],H=U[1],G=(0,o.useState)(),K=(0,g.A)(G,2),z=K[0],q=K[1],Y=(0,o.useState)(null),J=(0,g.A)(Y,2),Z=J[0],Q=J[1],X=(0,o.useState)(),$=(0,g.A)(X,2),ee=$[0],te=$[1],ne=(0,o.useRef)(!1),re=(0,o.useRef)(!1),oe=(0,o.useRef)([]),ae=(0,o.useRef)([]),ie=(0,o.useRef)(0),le=(0,o.useCallback)((function(e){var t=oe.current[e],n=ae.current[e]||{},r=n.marker,o=n.distance,a=null==u?void 0:u[e],i=w(v),l=i.icon,s=i.activeIcon,c=i.scaledSize,d=i.activeScaledSize,p=i.activeAnchor;oe.current.forEach((function(e){e.setIcon({url:l,scaledSize:c}),e.setZIndex(null)})),ae.current.forEach((function(e){var t=e.marker,n=e.distance;t.setLabel({text:n,fontSize:"12px",color:"#000000",className:"distanceMarkerLabel"}),t.setZIndex(null)})),null==t||t.setIcon({url:s,scaledSize:d,anchor:p}),null==r||r.setLabel({text:o,fontSize:"14px",color:"#ffffff",className:"activeDistanceMarkerLabel"}),null==t||t.setZIndex(99999),null==r||r.setZIndex(99999),null!=m&&m.enableAutoComplete||null==V||V.setCenter(null==a?void 0:a.latLng),te(null==a?void 0:a.latLng),null==P||P(e)}),[v,V,u,P]),se=(0,o.useCallback)((function(e){null!=u&&u.length&&u.forEach((function(t){var n=new google.maps.Marker({map:e,position:t.latLng,icon:{url:"",scaledSize:new google.maps.Size(0,0),anchor:new google.maps.Point(0,-16)},label:{text:t.distance,fontSize:"12px",color:"#000000",className:"distanceMarkerLabel"},clickable:!1});ae.current.push({marker:n,distance:t.distance})}))}),[u]),ce=(0,o.useCallback)((function(e){if(oe.current.forEach((function(e){return e.setMap(null)})),ae.current.forEach((function(e){return e.marker.setMap(null)})),oe.current=[],ae.current=[],te(void 0),null!=u&&u.length){var t=w(v),n=t.icon,r=t.scaledSize,o=t.anchor,a=new google.maps.LatLngBounds;u.forEach((function(t,i){var l=new google.maps.Marker({map:e,position:t.latLng,icon:{url:n,scaledSize:r,anchor:o},label:{text:"".concat(i+1),color:"#ffffff",fontSize:"14px",className:"markerLabel"}});l.addListener("click",(function(){return le(i)})),i<5&&a.extend(t.latLng),oe.current.push(l)})),se(e),ne.current||e.fitBounds(a),le(0)}}),[u,v,le,se]),ue=(0,o.useCallback)((function(e){h&&(new google.maps.Marker({map:e,position:l,icon:{url:"https://aimg.kwcdn.com/upload_aimg/temu/8d0d5c31-fbad-4220-92fd-5ac3faa21506.png.slim.png",scaledSize:new google.maps.Size(30,48)},cursor:"grab"}),new google.maps.Marker({map:e,position:l,icon:{url:"",scaledSize:new google.maps.Size(0,0),anchor:new google.maps.Point(0,34)},label:{text:h,fontSize:"16px",fontWeight:"500",color:"#000000",className:"customMarkerLabel"},clickable:!1,cursor:"grab"}))}),[l,h]),de=function(){var e=(0,f.A)(b().mark((function e(){var o,u,d,p,f,g,h,E,A,C;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(google){e.next=2;break}return e.abrupt("return");case 2:if((0,s.OS)({page_el_sn:224981,op:"impr",map_scenes:v}),o=document.getElementById("map"),p=(d=l||{}).lat,f=d.lng,!p||!f){e.next=9;break}u=new google.maps.LatLng({lat:p,lng:f}),e.next=15;break;case 9:if(!i){e.next=15;break}return(0,S.mE)({event:"initMapWithoutLatLng"}),e.next=13,N({componentRestrictions:{country:_.eg[i]}},v);case 13:E=e.sent,u=null==E||null===(g=E[0])||void 0===g||null===(h=g.geometry)||void 0===h?void 0:h.location;case 15:A=new google.maps.Map(o,{center:u,zoomControl:!1,streetViewControl:!1,fullscreenControl:!1,mapTypeControl:!1,disableDefaultUI:!0,clickableIcons:!1,gestureHandling:null!=m&&m.enableDrag?"greedy":"none",keyboardShortcuts:!(null==m||!m.enableDrag)}),setTimeout((function(){var e=(null==m?void 0:m.zoom)||y.Zf.getMapZoom(c);A.setZoom(e),ie.current=e}),100),H(A),C=new google.maps.places.AutocompleteService,q(C),L(!0),t=google.maps.event.addListener(A,"dragstart",(function(){Q(null),ne.current=!0,re.current=!0})),n=google.maps.event.addListener(A,"idle",(function(){if(ne.current&&re.current&&null!=m&&m.enableGeocode){var e=null==A?void 0:A.getCenter();null!=O&&O.current&&e&&(O.current.lastLatLng={lat:e.lat(),lng:e.lng()}),N({location:e},v).then((function(e){var t,n;Q(e),re.current=!1;var r=(null==e||null===(t=e[0])||void 0===t||null===(n=t.geometry)||void 0===n?void 0:n.location)||{},o=r.lat,a=r.lng,i=null==o?void 0:o(),l=null==a?void 0:a();i&&l&&(null==k||k({lat:i,lng:l}))}))}})),r=google.maps.event.addListener(A,"dragend",(function(){v===y.HQ.Normal&&null!=O&&O.current&&(O.current.moveCount+=1)})),a=google.maps.event.addListener(A,"zoom_changed",(function(){if(v===y.HQ.Normal&&null!=O&&O.current){var e=A.getZoom();e&&(e>ie.current?O.current.zoomInCount+=1:e<ie.current&&(O.current.zoomOutCount+=1)),O.current.zoomCount+=1}}));case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=(0,o.useCallback)((function(e){ne.current=e}),[]),me=(0,o.useCallback)((function(e){re.current=e}),[]);return(0,C.A)((function(){V&&ce(V)}),[V,u]),(0,o.useEffect)((function(){V&&h&&ue(V)}),[V,h,ue]),(0,o.useEffect)((function(){v===y.HQ.NewPickUp&&V&&le(d)}),[v,V,d,le]),(0,o.useEffect)((function(){return(0,p.IH)({apiKey:E,regionId1:i,mapSceneId:x(v),isGuestMode:I}).then((function(){de(),F(!1)})).catch((function(){F(!0),(0,s.OS)({page_el_sn:241071,op:"impr"})})),(0,S.mE)({event:"googleMapScene",data:(0,A.dI)(v)}),function(){try{var e,o,i,l,s,c,u,d;null===(e=window.google)||void 0===e||null===(o=e.maps)||void 0===o||o.event.removeListener(t),null===(i=window.google)||void 0===i||null===(l=i.maps)||void 0===l||l.event.removeListener(r),null===(s=window.google)||void 0===s||null===(c=s.maps)||void 0===c||c.event.removeListener(n),null===(u=window.google)||void 0===u||null===(d=u.maps)||void 0===d||d.event.removeListener(a)}catch(e){}}}),[]),{ready:R,loadMapError:B,setLoadMapError:F,initMap:de,map:V,autocomplete:z,placeList:Z,markerLocation:ee,setHasDragged:pe,setIsIdleAfterUserDrag:me}}({regionId1:n,latLng:a,latLngScene:v,markerLocationList:h,activeMarkerIndex:E,mapControl:I,mapScene:O,markerLabel:M,apiKey:B,isGuestMode:F,onDragEnd:R,onMarkerClick:L,operateCountRef:U}),H=V.ready,G=V.loadMapError,K=V.setLoadMapError,q=V.initMap,Y=V.map,J=V.autocomplete,Z=V.placeList,Q=V.markerLocation,X=V.setHasDragged,$=V.setIsIdleAfterUserDrag,ee=I||{},te=ee.enableAutoComplete,ne=ee.enableCenterIcon,re=ee.enableLocateMe,oe=ee.enableZoomControl,ae=ee.enablePlaceInfo,ie=j||{},le=ie.autoCompleteCls,se=ie.locateMeCls,ce=ie.zoomControlCls,ue=ie.placeInfoCls;return o.createElement("div",{className:xe().wrap},o.createElement("div",{id:"map",className:i()(xe().map,(0,r.A)({},xe().hide,!H))},!!H&&o.createElement(o.Fragment,null,!!te&&o.createElement(ye,{portalTarget:D,className:le,regionId1:n,map:Y,mapScene:O,autocomplete:J,setHasDragged:X,setIsIdleAfterUserDrag:$}),!!re&&o.createElement(W,{map:Y,className:se}),!!oe&&o.createElement(Ne,{map:Y,className:ce}),!!ae&&o.createElement(z,{placeList:Z,className:ue}),!!ne&&o.createElement(c.Ay,{src:"https://aimg.kwcdn.com/upload_aimg/temu/7b386109-2790-4087-9b02-5ed1c97136ed.png.slim.png",resizeWidth:28,className:xe().locateIcon,"aria-hidden":!0,alt:""}),null==P?void 0:P({latLng:Q,place:null==Z?void 0:Z[0]}),null==T?void 0:T())),!G&&!H&&o.createElement(u.A,null),!!G&&o.createElement(d.E,{title:e("badConnection"),desc:o.createElement("div",{style:{fontSize:"14px"}},(0,m.A)(e("badConnectionDesc"))),btnClass:xe().retryBtn,onClick:function(){(0,s.OS)({page_el_sn:241071,op:"click"}),K(!1),(0,p.IH)({apiKey:B}).then(q).catch((function(){K(!0),(0,s.OS)({page_el_sn:241071,op:"impr"})}))},wrapClass:xe().errorView}))},Pe=(0,o.memo)(ke)},13134:function(e,t,n){"use strict";n.d(t,{Su:function(){return i},u3:function(){return a}});var r=n(33514),o=(0,r.createContext)({}),a=function(e){var t=e.value,n=e.children;return r.createElement(o.Provider,{value:t},n)};function i(){return r.useContext(o)}},50454:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});var r=n(6356),o=n(33514),a=n(32485),i=n.n(a),l=n(47116),s=n(8515),c=n(14511),u=n(97582),d=n(96704),p=n(50453),m=n(69082),f=n(90930),g=n(49225),v=n(7136),b=n(13134),h=n(10500),E=n(17203),_=n.n(E),y=(0,f.A)((0,c.W4)(),l.PA)((function(e){var t,n=e.title,a=e.list,l=e.showUseSelector,c=e.curAddressId,f=e.curAddressSnapshotId,E=e.curAddressSnapshotSn,y=e.localInfo,A=e.onComplete,S=e.allowCloseOnEsc,C=void 0!==S&&S,I=e.showDefault,O=e.onDefault,N=e.needShowDiffDrDialog,w=e.needShowDiffSiteDialog,x=e.needSaveContract,k=e.switchDiffDrAction,P=e.countryScene,T=e.addrScene,D=e.editAddressScene,R=e.addAddressGray;(0,g.A)();var L=(0,u.B)("bec-fe.web-address").t,j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.useRef)(!1),r=(0,o.useRef)({});if(!n.current){var a,i=new e;null==i||null===(a=i.initService)||void 0===a||a.call(i),null==i||i.initDataAction(t),r.current=i,n.current=!0}return{storeRef:r,isFinish:n}}(h.A,{addressList:a}),M=j.isFinish,B=j.storeRef,F=(0,o.useState)({}),W=(0,r.A)(F,2),U=W[0],V=W[1],H=(0,o.useState)(!1),G=(0,r.A)(H,2),K=G[0],z=G[1],q=(0,o.useState)(!1),Y=(0,r.A)(q,2),J=Y[0],Z=Y[1],Q=null===(t=B.current)||void 0===t?void 0:t.addressList,X=(0,o.useMemo)((function(){return!(null==Q||!Q.length)}),[Q]),$=(0,d.Mj)(),ee=(0,o.useCallback)((function(e){$.start({type:"click"}),V(e),z(!0)}),[]),te=(0,o.useCallback)((function(){1===R?p.Ay.uniformForward("/create_address.html?count=".concat((null==Q?void 0:Q.length)||0)):Z(!0)}),[]),ne=(0,o.useCallback)((function(e){e.isValidError||(0,s.A)(L("submitErr"))}),[L]),re=(0,o.useCallback)((function(){Z(!1),z(!1)}),[]),oe=(0,o.useCallback)((function(){var e;null===(e=B.current)||void 0===e||e.getAddressList(),re()}),[re]);return M?o.createElement(b.u3,{value:{store:B.current,title:n,showUseSelector:l,curAddressId:c,curAddressSnapshotId:f,curAddressSnapshotSn:E,isShowHead:!1,onEdit:ee,onAdd:te,onComplete:A,inPage:!0,showDefault:I,onDefault:O,localInfo:y}},o.createElement("div",{className:i()(_().contentItem,_().addressList,_().addressListInPage)},o.createElement(v.A,null)),K||J?o.createElement(m.A,{isPop:!0,isEdit:K,localInfo:y,addressItem:U,hasMultipleAddress:X,onSuccessCb:oe,onFailCb:ne,onClose:re,allowCloseOnEsc:C,needShowDiffDrDialog:N,needShowDiffSiteDialog:w,needSaveContract:x,switchDiffDrAction:k,countryScene:P,addrScene:T,editAddressScene:D,interactionMonitor:{onStageStart:function(){$.stageStart("api")},onStageEnd:function(){$.stageEnd("api")},onEnd:function(){return o.createElement($.End,{name:"pc_address_edit"})}}}):null):null}))},61684:function(e,t,n){"use strict";n.d(t,{Qi:function(){return o},mA:function(){return r},vj:function(){return i},xr:function(){return a}});var r=function(e){return e.LIST="list",e.ADD="add",e.EDIT="edit",e}({}),o=function(e){return e[e.CLOSE=0]="CLOSE",e[e.SELECT=1]="SELECT",e}({}),a=function(e){return e.BACK_TO_LIST="back_to_list",e}({}),i=function(e){return e[e.First=0]="First",e[e.Second=1]="Second",e[e.Third=2]="Third",e}({})},96134:function(e,t,n){"use strict";n.d(t,{A:function(){return L}});var r=n(14242),o=n(61877),a=n(74533),i=n(6356),l=(n(50113),n(26099),n(74423),n(21699),n(79432),n(52675),n(2008),n(83851),n(44114),n(23500),n(81278),n(67945),n(84185),n(11286)),s=n.n(l),c=n(33514),u=n(32485),d=n.n(u),p=n(37451),m=n(47116),f=n(8515),g=n(14511),v=n(97582),b=n(59661),h=n(69082),E="keydown";var _=function(e,t){(0,c.useEffect)((function(){if(t){var n=function(t){27===(null==t?void 0:t.keyCode)&&(null==e||e())};return document.addEventListener(E,n),function(){document.removeEventListener(E,n)}}}),[t,e])},y=function(e){var t=e.close,n=e.isActive;return _(t,n),null},A=n(94995),S=n(44458),C=n(90930),I=n(49225),O=n(66808),N=n(7136),w=n(61684),x=n(13134),k=n(10500),P=n(17203),T=n.n(P);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=(0,C.A)((0,g.W4)(),m.PA)((function(e){var t,n,l=e.title,u=e.list,m=e.showUseSelector,g=e.showDelete,E=e.showCopy,_=e.classConfig,C=void 0===_?{}:_,P=e.curAddressId,D=e.curAddressSnapshotId,L=e.curAddressSnapshotSn,j=e.localInfo,M=e.onComplete,B=e.onDelete,F=e.allowCloseOnEsc,W=e.showDefault,U=e.isCardAddress,V=e.addressDisplayType,H=e.onDefault,G=e.onChangeCountryRegion,K=e.formHeaderSlot,z=e.needShowDiffDrDialog,q=e.needShowDiffSiteDialog,Y=e.needSaveContract,J=e.switchDiffDrAction,Z=e.switchDiffSiteAction,Q=e.countryScene,X=e.addrScene,$=e.editAddressScene,ee=e.interactionMonitor,te=e.saveAction,ne=e.extraRequestInfo;(0,I.A)();var re=(0,v.B)("bec-fe.web-address").t,oe=function(e){var t=(0,c.useState)(!1),n=(0,i.A)(t,2),r=n[0],o=n[1],a=(0,c.useRef)({});return(0,c.useEffect)((function(){var t;if(!r){var n=new e;null==n||null===(t=n.initService)||void 0===t||t.call(n),a.current=n,o(!0)}}),[r]),{storeRef:a,isFinish:r}}(k.A),ae=oe.isFinish,ie=oe.storeRef,le=(0,c.useState)(w.mA.LIST),se=(0,i.A)(le,2),ce=se[0],ue=se[1],de=(0,c.useState)({}),pe=(0,i.A)(de,2),me=pe[0],fe=pe[1],ge=(0,c.useMemo)((function(){return ce===w.mA.EDIT}),[ce]),ve=(0,c.useState)(!1),be=(0,i.A)(ve,2),he=be[0],Ee=be[1],_e=(0,c.useMemo)((function(){return ce===w.mA.ADD||he?G:void 0}),[ce,he]);ie.current&&(ie.current.isCardAddress=!!U);var ye=(0,c.useState)(!1),Ae=(0,i.A)(ye,2),Se=Ae[0],Ce=Ae[1],Ie=(0,c.useState)({}),Oe=(0,i.A)(Ie,2),Ne=Oe[0],we=Oe[1],xe=(0,c.useState)(!1),ke=(0,i.A)(xe,2),Pe=ke[0],Te=ke[1],De=(0,c.useState)(w.vj.First),Re=(0,i.A)(De,2),Le=Re[0],je=Re[1],Me=(0,c.useRef)(""),Be=(0,c.useRef)(""),Fe=(0,c.useRef)(null),We=(0,O.A)().isOverflow,Ue=(0,c.useCallback)((function(e){Me.current=e}),[]),Ve=(0,c.useCallback)((function(e){Be.current=e}),[]);(0,c.useEffect)((function(){if(U||Ce(!0),ae&&U){var e=function(){var e=(0,a.A)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D&&!L){e.next=10;break}return e.next=3,null===(t=ie.current)||void 0===t?void 0:t.queryAddress(D,L);case 3:n=e.sent,ue(w.mA.EDIT),fe(n),we(n),Te(!0),e.next=11;break;case 10:ue(w.mA.ADD);case 11:je(w.vj.First),Ce(!0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[ae]),(0,c.useEffect)((function(){var e,t;null===(e=ie.current)||void 0===e||e.initDataAction({curAddressSnapshotId:D,curAddressSnapshotSn:L,addrScene:X,showUseSelector:!!D||!!L||!!P||m,extraRequestInfo:ne}),null!=u&&u.length&&(null===(t=ie.current)||void 0===t||t.initDataAction({addressList:u}))}),[]);var He=(0,c.useCallback)((function(e,t){var n=t.isUsed;ue(w.mA.EDIT),je(w.vj.Third),fe(e),Ee(!(!G||!n))}),[G]),Ge=(0,c.useCallback)((function(){ue(w.mA.ADD),je(w.vj.Third),fe({})}),[]),Ke=(0,c.useCallback)((function(){ue(w.mA.LIST),je(w.vj.Second)}),[]),ze=(0,c.useCallback)((function(){je(w.vj.First)}),[]),qe=(0,c.useCallback)((function(e){if(te===w.xr.BACK_TO_LIST)return Ke(),void ie.current.getAddressList();null==M||M({type:w.Qi.SELECT,data:e,useOriginalSnapshotId:Me.current,useOriginalSnapshotSn:Be.current,addressType:0})}),[te]),Ye=(0,c.useCallback)((function(e){e.isValidError||(0,f.A)(re("submitErr"))}),[re]),Je=(0,c.useCallback)((function(){var e,t,n,r,o=(0,p.HO)(null===(e=ie.current)||void 0===e||null===(t=e.addressList)||void 0===t?void 0:t.find((function(e){var t=e.addressSnapshotId,n=e.addressSnapshotSn;return!!t&&"".concat(t)==="".concat(D)||!!n&&"".concat(n)==="".concat(L)}))),a=(0,p.HO)(null===(n=ie.current)||void 0===n||null===(r=n.addressList)||void 0===r?void 0:r.find((function(e){return!!e.isDefault})));null==M||M({type:w.Qi.CLOSE,data:o,defaultData:a,useOriginalSnapshotId:Me.current,useOriginalSnapshotSn:Be.current})}),[M,D,L]),Ze=(0,c.useMemo)((function(){return U&&Le===w.vj.First?re(Pe?"editBillingAddressTitle":"addBillingAddressTitle"):U&&Le===w.vj.Third?re(ge?"editBillingAddressTitle":"addBillingAddressTitle"):re(ge?"editAddressTitle":"addAddressTitle")}),[ge,U,Pe,re,Le]);if(!ae||!Se)return null;var Qe={wrapClassName:T().contentItem,localInfo:j,backText:re("back"),isPop:!1,isInPop:!0,hasMultipleAddress:!!(null!=u&&u.length&&u.length>0),styleObj:{head:T().editHead},onSuccessCb:qe,onFailCb:Ye,onClose:Je,onBack:Ke,allowCloseOnEsc:F,isShowSetDefault:W,formHeaderSlot:K,needShowDiffDrDialog:z,needShowDiffSiteDialog:q,needSaveContract:Y,switchDiffDrAction:J,switchDiffSiteAction:Z,addressDisplayType:V,countryScene:Q,addrScene:X,editAddressScene:$},Xe=ie.current.addressList.length>4;return c.createElement(x.u3,{value:{store:ie.current,title:l,showUseSelector:m,showDelete:g,classConfig:C,curAddressId:P,curAddressSnapshotId:D,curAddressSnapshotSn:L,isShowHead:!1,onEdit:He,onAdd:Ge,onComplete:M,onDelete:B,onDefault:H,showDefault:W,showCopy:E,setOriginalSnapshotId:Ue,useOriginalSnapshotId:Me,setOriginalSnapshotSn:Ve,useOriginalSnapshotSn:Be,isCardAddress:U,addressDisplayType:V,hideOperateArea:U,hideCorrectArea:U,useText:U?re("billAddressUse"):"",localInfo:j,handleClose:Je}},c.createElement(b.Ay,{isShowClose:!1,wrapClassName:d()(T().maskWrap,(0,o.A)({},T().isOverflow,We)),className:T().popupWrap},c.createElement("div",{className:T().listWrap},F?c.createElement(y,{close:Je,isActive:ce===w.mA.LIST}):null,!U&&c.createElement("div",{className:d()(T().content,(t={},(0,o.A)(t,T().leftAni,[w.mA.ADD,w.mA.EDIT].includes(ce)),(0,o.A)(t,T().rightAni,ce===w.mA.LIST),t))},c.createElement("div",{className:d()(T().contentItem,T().addressList),ref:Fe},c.createElement(S.A,{onClose:Je}),l?c.createElement("div",{className:T().title},l):null,c.createElement(N.A,null),!!Xe&&c.createElement(A.A,{scrollRef:Fe,styleObj:{top:T().topGradient,bottom:T().bottomGradient}})),ce!==w.mA.LIST&&c.createElement(h.A,(0,r.A)({isEdit:ge,title:Ze,addressItem:me,onChangeCountryRegion:_e,btnText:te===w.xr.BACK_TO_LIST?re("save"):re("saveAndUse"),needSubmitToast:te===w.xr.BACK_TO_LIST,onSuccessToast:re(ge?"address_update":"address_add_success")},Qe))),!!U&&c.createElement("div",{className:d()(T().content,(n={},(0,o.A)(n,T().animate0,Le===w.vj.First),(0,o.A)(n,T().animate1,Le===w.vj.Second),(0,o.A)(n,T().animate2,Le===w.vj.Third),n))},c.createElement(h.A,(0,r.A)({isEdit:Pe,title:Ze,addressItem:R(R({},Ne),{},{addressId:void 0}),isCardAddress:!0},Qe,{styleObj:{head:T().cardInitEditHead},backText:"",interactionMonitor:ee})),c.createElement("div",{className:d()(T().contentItem,T().addressList),ref:Fe},c.createElement(S.A,{onBack:ze,onClose:Je,backText:re("back"),styleObj:{head:T().cardListHead,back:T().cardListBack}}),c.createElement("div",{className:d()(T().title,T().billAddressListTitle)},re("billAddressListTitle")),c.createElement(N.A,null),!!Xe&&c.createElement(A.A,{scrollRef:Fe,styleObj:{top:T().topGradient,bottom:T().bottomGradient}})),Le===w.vj.Third&&c.createElement(h.A,(0,r.A)({isEdit:ge,title:Ze,addressItem:me,isCardAddress:!0,hideCardInfo:!0},Qe,{styleObj:{head:T().cardEditHead}}))))))}))},10500:function(e,t,n){"use strict";n.d(t,{A:function(){return ae}});n(79432),n(52675),n(2008),n(26099),n(44114),n(23500),n(81278),n(67945),n(84185);var r=n(61877),o=n(74533),a=n(13425),i=n(22751),l=n(29659),s=n(60055),c=(n(35639),n(69085),n(48980),n(62062),n(83851),n(11286)),u=n.n(c),d=n(37451),p=n(8515),m=n(72635),f=n(20162),g=n(60043),v=n(84172),b=n(57402),h=n(38532),E=n(61684),_=n(18046),y=n(75813),A=(n(58940),n(33514)),S=n(94971),C=n(95789),I=n(47739),O=n(53075);function N(){return{errorCodeHandlers:{40001:function(){var e,t,n,r,o,a,i,l;t=(e={onSuccess:function(){(0,O.Qw)()},onClose:function(){(0,O.Qw)("/index.html",{needForceWeb:!0})}}).onClose,n=void 0===t?function(){}:t,r=e.onSuccess,o=void 0===r?function(){}:r,a=e.axiosHttp,i=(0,S.Ri)("region"),l=(0,C.A)(A.createElement(I.Ay,{modalVisible:!0,axiosHttp:a,onCloseClick:function(){l(),null==n||n()},regionId:i,onSuccess:o}))}}}}var w=function(e){var t;return null!=e&&e.isApiError?[]:(null===(t=e.result)||void 0===t?void 0:t.addressList)||[]};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P="/api/bg-origenes/address/list/query",T="/api/bg-origenes/business/address/list/query",D="/api/bg-origenes/address/default/set",R="/api/bg-origenes/address/delete",L="/api/bg-origenes/business/address/delete",j="/api/bg-origenes/address/snapshot",M="/api/bg-origenes/address/style/config",B="/api/bg/buffon/kinnard/check/scene/satisfy";function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,y.SA)({url:M,params:e,format:_.BM,errorHandler:function(e){return(0,_.BM)(e)}})}var W,U,V,H,G,K,z,q,Y,J,Z,Q,X,$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).useCardUrl,n=void 0!==t&&t;return(0,y.SA)({url:n?T:P,params:k(k({},e),{},{scene_id:n?g.In:""}),format:w,errorHandler:function(e){return w(e)}})},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,y.SA)({url:D,params:k(k({},e),N()),errorHandler:function(e){return e}})},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,y.SA)({url:B,params:e,errorHandler:function(e){return e}})},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).useCardUrl,n=void 0!==t&&t;return(0,y.SA)({url:n?L:R,params:k(k({},e),n?{scene_id:"1000129"}:{}),errorHandler:function(e){return e}})};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=(W=d.XI.bound,U=d.XI.bound,V=d.XI.bound,H=d.XI.bound,G=d.XI.bound,K=d.XI.bound,z=d.XI.bound,q=d.XI.bound,Y=function(){function e(){var t=this;(0,i.A)(this,e),(0,a.A)(this,"popType",J,this),(0,a.A)(this,"addressItem",Z,this),(0,a.A)(this,"fromIndex",Q,this),this.isCardAddress=!1,(0,a.A)(this,"addressList",X,this),this.initedStyle=!1,this.styleConfig={},this.addrScene=void 0,this.curAddressSnapshotId=void 0,this.curAddressSnapshotSn=void 0,this.showUseSelector=void 0,this.extraRequestInfo=void 0,this.initStyleConfig=function(){var e=(0,o.A)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isCardAddress){e.next=4;break}return t.initedStyle=!0,e.abrupt("return");case 4:if(t.initedStyle){e.next=9;break}return e.next=7,F();case 7:t.styleConfig=e.sent,t.initedStyle=!0;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateDefaultLock=!1,(0,d.Gn)(this)}var t,n,r;return(0,l.A)(e,[{key:"setPopType",value:function(e){this.popType=e}},{key:"handleEdit",value:function(e){this.setPopType(E.mA.EDIT),this.addressItem=e,(0,h.mE)({event:"addressListStartEdit",data:(0,b.Jm)(e)})}},{key:"handleAdd",value:function(){this.setPopType(E.mA.ADD),this.addressItem={}}},{key:"initDataAction",value:function(e){Object.assign(this,e)}},{key:"getAddressList",value:(r=(0,o.A)(u().mark((function e(){var t,n,r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initStyleConfig({isCardAddress:this.isCardAddress});case 2:return e.next=4,$(oe({addr_scene:this.addrScene,address_snapshot_id:this.curAddressSnapshotId,address_snapshot_sn:this.curAddressSnapshotSn,select:!!this.showUseSelector,report_version:g.xv},this.extraRequestInfo?{extra_request_info:(0,v.qi)(this.extraRequestInfo)}:{}),{useCardUrl:this.isCardAddress&&(null===(t=this.styleConfig)||void 0===t?void 0:t.isBillingAddress)});case 4:n=e.sent,(0,d.h5)((function(){r.addressList=n}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"updateDefaultAddress",value:(n=(0,o.A)(u().mark((function e(t){var n,r,o=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=(t||{}).addressId)&&!this.updateDefaultLock){e.next=3;break}return e.abrupt("return");case 3:return this.updateDefaultLock=!0,e.next=6,ee({address_id:n});case 6:return r=e.sent,(0,d.h5)((function(){null!=r&&r.success?(o.fromIndex=o.addressList.findIndex((function(e){return e.addressId===n})),o.addressList=o.addressList.map((function(e){return e.addressId===n?oe(oe({},e),{},{isDefault:1}):oe(oe({},e),{},{isDefault:0})})),(0,h.mE)({event:"addressListDefaultSuccess",data:(0,b.Jm)({addressId:n})}),o.updateDefaultLock=!1):o.updateDefaultLock=!1})),e.abrupt("return",null==r?void 0:r.success);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"queryAddress",value:function(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,y.SA)({url:j,params:k({},e),errorHandler:function(e){return e}})}({address_snapshot_id:e,address_snapshot_sn:t})}},{key:"deleteAddress",value:(t=(0,o.A)(u().mark((function e(t){var n,r,o,a,i,l,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.addressId,o=t.addressSnapshotId,a=t.addressSnapshotSn,e.next=3,this.initStyleConfig({isCardAddress:this.isCardAddress});case 3:if(!this.isCardAddress){e.next=11;break}return e.next=6,te({address_snapshot_id:o,address_snapshot_sn:a,scene:"DELETE_ADDRESS_CHECK"});case 6:if(!1!==(null==(l=e.sent)||null===(i=l.result)||void 0===i?void 0:i.checkPass)){e.next=11;break}return(0,h.mE)({event:"deleteAddressRejectByCardUsed",data:(0,b.Jm)({addressId:r,addressSnapshotId:o,addressSnapshotSn:a})}),(0,p.A)((0,m.t)("bec-fe.web-address:BAOGONG-814995-4")),e.abrupt("return",!1);case 11:return e.next=13,ne({address_id:r},{useCardUrl:this.isCardAddress&&(null===(n=this.styleConfig)||void 0===n?void 0:n.isBillingAddress)});case 13:if(null!=(s=e.sent)&&s.success){e.next=17;break}return(0,h.mE)({event:"deleteAddressFailed",data:(0,b.Jm)(s)}),e.abrupt("return",!1);case 17:return(0,h.mE)({event:"addressListDeleteSuccess",data:(0,b.Jm)({addressId:r,addressSnapshotId:o,addressSnapshotSn:a,isCardAddress:this.isCardAddress})}),this.isCardAddress&&f.A.success((0,m.t)("bec-fe.web-address:address_delete_success")),e.next=21,this.getAddressList();case 21:return e.abrupt("return",!0);case 22:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),J=(0,s.A)(Y.prototype,"popType",[d.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.mA.LIST}}),(0,s.A)(Y.prototype,"setPopType",[W],Object.getOwnPropertyDescriptor(Y.prototype,"setPopType"),Y.prototype),Z=(0,s.A)(Y.prototype,"addressItem",[d.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Q=(0,s.A)(Y.prototype,"fromIndex",[d.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),(0,s.A)(Y.prototype,"handleEdit",[U],Object.getOwnPropertyDescriptor(Y.prototype,"handleEdit"),Y.prototype),(0,s.A)(Y.prototype,"handleAdd",[V],Object.getOwnPropertyDescriptor(Y.prototype,"handleAdd"),Y.prototype),X=(0,s.A)(Y.prototype,"addressList",[d.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,s.A)(Y.prototype,"initDataAction",[H],Object.getOwnPropertyDescriptor(Y.prototype,"initDataAction"),Y.prototype),(0,s.A)(Y.prototype,"getAddressList",[G],Object.getOwnPropertyDescriptor(Y.prototype,"getAddressList"),Y.prototype),(0,s.A)(Y.prototype,"updateDefaultAddress",[K],Object.getOwnPropertyDescriptor(Y.prototype,"updateDefaultAddress"),Y.prototype),(0,s.A)(Y.prototype,"queryAddress",[z],Object.getOwnPropertyDescriptor(Y.prototype,"queryAddress"),Y.prototype),(0,s.A)(Y.prototype,"deleteAddress",[q],Object.getOwnPropertyDescriptor(Y.prototype,"deleteAddress"),Y.prototype),Y)},7136:function(e,t,n){"use strict";n.d(t,{A:function(){return _e}});var r=n(61877),o=n(74533),a=n(6356),i=(n(62062),n(11286)),l=n.n(i),s=n(33514),c=n(32485),u=n.n(c),d=n(47116),p=n(97582),m=n(45645),f=n(54403),g=n(87837),v=n(95376),b=n(33546),h=(n(44114),n(26099),n(87642)),E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.current){var r=e.current,o=null==r?void 0:r.children,a=o[t],i=o[n],l=a.cloneNode(!0),s=a.offsetTop,c=a.offsetHeight+12,u=i.offsetTop-s;l.style.position="absolute",l.style.top="".concat(s,"px"),l.style.width="100%",a.style.opacity="0",r.appendChild(l);for(var d=[],p=n;p<t;p++){var m=o[p].animate([{transform:"translate3d(0, 0, 0)"},{transform:"translate3d(0, ".concat(c,"px, 0)")}],{duration:250,easing:"ease-in-out"});d.push(m)}l.animate([{transform:"translate3d(0, 0, 0)"},{transform:"translate3d(0, ".concat(u,"px, 0)")}],{duration:250,easing:"ease-in-out",fill:"forwards"}),(0,h.B)(0),setTimeout((function(){a.style.opacity="1",null==r||r.insertBefore(a,i),null==r||r.removeChild(l),d.forEach((function(e){return e.cancel()}))}),250)}},_=n(13134),y=n(10147),A=n(54461),S=n(47409),C=n.n(S),I=(0,s.memo)((function(e){var t=e.onAdd,n=e.wrapClassName,r=e.addText;return s.createElement(y.A,{className:u()(C().addText,n),type:"text",theme:"light",onClick:t},s.createElement(A.Pg,{className:C().navAdd}),r)})),O=(n(2008),n(28706),n(68156),n(76918),n(38781),n(3362),n(34782),n(37451)),N=n(8515),w=n(95789),x=n(99117),k=n(40304),P=n(18797),T=n(4105),D=n(4174),R=n(60168),L=n(73035),j=n(59717),M=n(34678),B=n(20162),F=n(61277),W=n(53075),U=n(78484),V=n(93475),H=n(59808),G=n(60043),K=n(58453),z=n(86063),q=n(20515),Y=n(57402),J=n(8297),Z=n(38532),Q=n(61684),X=(n(79432),n(52675),n(83851),n(23500),n(81278),n(67945),n(84185),n(82370)),$=n(87291),ee=n(63268),te=n(55637),ne=n(87164),re=n(47714),oe=n.n(re);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=function(e){return e[e.USE_ORIGINAL=1]="USE_ORIGINAL",e[e.USE_SUGGESTED=2]="USE_SUGGESTED",e[e.CHANGE_MANUALLY=3]="CHANGE_MANUALLY",e[e.PROMPT_USE_SUGGESTED=4]="PROMPT_USE_SUGGESTED",e[e.PROMPS_CHANGE_MANUALLY=5]="PROMPS_CHANGE_MANUALLY",e}(le||{}),se=(0,d.PA)((function(e){var t=e.addressCorrectionInfo,n=e.addressSnapshotId,a=e.addressSnapshotSn,i=e.handleEdit,c=e.openCorrectPop,d=e.inPage,m=(0,p.B)("bec-fe.web-address").t,f=(0,$.CM)().isGuestMode,g=(0,_.Su)(),v=g.store.getAddressList,b=g.setOriginalSnapshotId,h=g.setOriginalSnapshotSn,E=(0,te.A)((0,o.A)(l().mark((function e(){var t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,Z.mE)({event:"addressErrorInfo.originalSave"}),e.next=3,ee.S({address_snapshot_id:n,address_snapshot_sn:a});case 3:if(r=e.sent,!(null==r||null===(t=r.result)||void 0===t?void 0:t.confirmResult)){e.next=11;break}return null==b||b(n),null==h||h(a),v(),(0,Z.mE)({event:"addressCorrectOriginalSuccess",data:(0,Y.Jm)({addressSnapshotId:n,addressSnapshotSn:a})}),e.abrupt("return");case 11:(0,N.A)(m("suggestError")),(0,Z.mE)({event:"addressCorrectSuggestFail",data:(0,Y.Jm)({addressSnapshotId:n,addressSnapshotSn:a})});case 13:case"end":return e.stop()}}),e)})))),y=(0,te.A)((0,o.A)(l().mark((function e(){var t,r,o,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,Z.mE)({event:"addressErrorInfo.suggestSave"}),e.next=3,ee.f({address_snapshot_id:n,address_snapshot_sn:a,isGuestMode:f});case 3:if(r=e.sent,!(null==r?void 0:r.success)||null==r||null===(t=r.result)||void 0===t||!t.addressSnapshotId){e.next=11;break}return v(),o=r.result.addressSnapshotId,i=r.result.addressSnapshotSn,(0,Z.mE)({event:"addressCorrectSuggestSuccess",data:(0,Y.Jm)({addressSnapshotId:n,newAddressSnapShotId:o,addressSnapshotSn:a,newAddressSnapShotSn:i})}),e.abrupt("return");case 11:(0,N.A)(m("correctPop.suggestError")),(0,Z.mE)({event:"addressCorrectSuggestFail",data:(0,Y.Jm)({addressSnapshotId:n,addressSnapshotSn:a})});case 13:case"end":return e.stop()}}),e)})))),A=(0,ne.w)((function(e){switch(e.type){case le.USE_ORIGINAL:E();break;case le.USE_SUGGESTED:y();break;case le.PROMPT_USE_SUGGESTED:c();break;case le.PROMPS_CHANGE_MANUALLY:case le.CHANGE_MANUALLY:i()}}));if(!t)return null;var S=t.addressSuggestTipsInfo,C=t.promptInfoType,I=t.promptInfo,O=t.promptButtons;if(S){var w=S.compositeAddressRichFontList,x=void 0===w?[]:w,P=S.buttonList,T=void 0===P?[]:P;return s.createElement("div",{className:u()(oe().errorMain,(0,r.A)({},oe().flexcolumn,!d&&T.length>=2))},s.createElement("div",{className:oe().errorLeft},x.map((function(e){var t=e.promptInfoList;return s.createElement("div",{className:oe().compositeAddressRichFont},t.map((function(e){var t;return 3===e.type?s.createElement(X.Ay,{src:null===(t=e.textFormat)||void 0===t?void 0:t.url,style:ie({},e.textFormat),alt:"","aria-hidden":!0,resizeWidth:36}):s.createElement("span",{style:ie({},e.textFormat)},e.text)})))}))),s.createElement("div",{className:oe().errorRight},T.map((function(e,t){return s.createElement("div",{onClick:function(){A(e)},key:t,style:{color:e.buttonColor},className:u()(oe().errorButton,oe()["type".concat(e.type)]),role:"button",tabIndex:0,"data-aria-enter":"1"},e.buttonText)}))))}return I?s.createElement("div",{className:u()(oe().errorMain,(0,r.A)({},oe().flexcolumn,!d&&(null==O?void 0:O.length)>=2))},s.createElement("div",{className:oe().errorLeft},s.createElement("span",null,1===C?s.createElement(k.A,{className:oe().warnIcon,style:{fill:I.fontColor},"aria-hidden":!0}):s.createElement(D.A,{className:oe().warnIcon,style:{fill:I.fontColor},"aria-hidden":!0})," ",s.createElement("span",{style:{fontSize:"".concat(I.fontSize,"px"),color:I.fontColor},className:oe().text},I.text))),s.createElement("div",{className:oe().errorRight},null==O?void 0:O.map((function(e,t){return s.createElement("div",{onClick:function(){A(e)},key:t,className:u()(oe().errorButton,oe()["type".concat(t)]),role:"button",tabIndex:0,"data-aria-enter":"1"},e.buttonText)})))):void 0})),ce=n(84585),ue=n.n(ce),de=function(e){var t=e.list,n=e.suffix,r=void 0===n?", ":n;return t?t.filter((function(e){return e})).join(r):""},pe=function(e){var t=e.handleDelete,n=e.addressInfo,r=e.hasIcon,a=void 0!==r&&r,i=e.classname,c=void 0===i?"":i,d=(0,p.B)("bec-fe.web-address").t,m=(0,_.Su)(),f=m.store,v=f.addressList,b=f.isCardAddress,h=m.inPage,E=m.addrScene,S=function(){var e=(0,o.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.P)({popupNode:s.createElement(j.A,{onClose:function(){return(0,L.L)(!1)}},s.createElement(j.A.Title,null,d("confirmDelete")),s.createElement(j.A.ScrollContainer,null,null==n?void 0:n(),s.createElement("div",{className:ue().tip},s.createElement(k.A,{className:ue().tipIcon,"aria-hidden":!0}),d("deleteAddressTip"))),s.createElement(j.A.StaticContainer,null,s.createElement("div",{className:ue().btns,dir:"ltr"},s.createElement(y.A,{onClick:function(){return(0,L.L)(!1)},className:ue().btn,size:"xl",type:"border",tabIndex:0,"data-aria-enter":"1"},d("BAOGONG-814995-3")),s.createElement(y.A,{onClick:function(){return(0,L.L)(!0)},className:ue().btn,size:"xl",tabIndex:0,"data-aria-enter":"1"},d("delete")))),s.createElement(j.A.CloseButton,{onClick:function(){return(0,L.L)(!1)}}))});case 2:e.sent?((0,q.AI)(200113),t()):(0,q.AI)(200114);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,o.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.P)({popupNode:s.createElement(M.A,{onClose:function(){return(0,L.L)(!1)},title:d("BAOGONG-814995-1"),confirmButtonLabel:d("address_delete_alert_yes"),onConfirm:function(){return(0,L.L)(!0)},onCancel:function(){return(0,L.L)(!1)},cancelButtonLabel:d("BAOGONG-814995-3"),buttonConfigs:{direction:"vertical"}})});case 2:e.sent?((0,q.AI)(200113),t()):(0,q.AI)(200114);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h||1!==(null==v?void 0:v.length)||b?s.createElement(g.Rp,{page_el_sn:200107,others:{addr_scene:E}},s.createElement("div",{role:"button",tabIndex:0,"data-aria-enter":"1",onClick:b?C:S},s.createElement("div",{className:u()(ue().operate,c)},!!a&&s.createElement(A.H2,{className:ue().editIcon,"aria-hidden":!0}),s.createElement("span",null,d("delete"))))):s.createElement("div",{tabIndex:0,"data-aria-enter":"1"},s.createElement(g.Rp,{page_el_sn:200107,others:{addr_scene:E}},s.createElement("div",{className:u()(ue().operate,c),onClick:function(){return(0,N.A)(d("keepLastAddress"))},role:"button",tabIndex:0},!!a&&s.createElement(A.H2,{className:ue().editIcon,"aria-hidden":!0}),s.createElement("span",null,d("delete")))))};function me(){return fe.apply(this,arguments)}function fe(){return fe=(0,o.A)(l().mark((function e(){var t,n,r,o,a,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=i.length>0&&void 0!==i[0]?i[0]:{}).currentAddressSnapshotId,r=t.currentAddressSnapshotSn,o=t.shippingAddressSnapshotSn,a=t.onSuccess,e.abrupt("return",new Promise((function(e){var t=(0,w.A)(s.createElement(U.A,{addressSnapshotId:n,addressSnapshotSn:r,shippingAddressSnapshotSn:o,onClose:function(){null==t||t(),e(null)},onSuccess:function(n){var r=n.addressSnapshotId,o=n.addressSnapshotSn,i=n.addressType;null==t||t(),null==a||a({addressSnapshotId:r,addressSnapshotSn:o,addressType:i}),e({addressSnapshotId:r,addressSnapshotSn:o,addressType:i})}}),null)})));case 2:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}var ge=function(e){var t=e.pickupAddressSnapshotSn,n=(0,p.B)("bec-fe.web-address").t,r=(0,_.Su)().onComplete;return s.createElement("div",{className:ue().pickupHeader},s.createElement("div",{className:ue().pickupHeaderTitle},s.createElement(P.A,{className:ue().locationIcon,"aria-hidden":!0}),n("pickupAddress")),s.createElement("div",{className:ue().pickupHeaderBtn,role:"button",tabIndex:0,"data-aria-enter":"1",onClick:function(){return me({currentAddressSnapshotSn:t,onSuccess:function(e){null==r||r({type:Q.Qi.SELECT,data:e,addressType:e.addressType})}})}},s.createElement(T.A,{className:ue().editIcon,"aria-hidden":!0}),n("edit")))},ve=function(){},be=(0,d.PA)((function(e){var t=e.data,n=e.onSetDefault,i=(0,p.B)("bec-fe.web-address").t,c=(0,_.Su)(),d=c.store,m=c.showUseSelector,f=c.curAddressId,v=c.curAddressSnapshotId,b=c.curAddressSnapshotSn,h=c.onComplete,E=c.onEdit,S=c.inPage,C=c.showDelete,I=c.classConfig,w=c.showCopy,k=c.onDelete,P=c.onDefault,T=c.showDefault,j=c.useOriginalSnapshotId,U=c.useOriginalSnapshotSn,q=c.hideCorrectArea,X=c.hideOperateArea,$=c.addressDisplayType,ee=c.useText,te=c.localInfo,ne=c.isCardAddress,re=c.addrScene,oe=d.updateDefaultAddress,ae=d.deleteAddress,ie=d.getAddressList,le=t.addressId,ce=t.addressSnapshotId,fe=t.addressSnapshotSn,be=t.name,he=t.displayMobile,Ee=t.addressLine1,_e=t.addressLine2,ye=t.regionName4,Ae=t.regionName3,Se=t.regionName2,Ce=t.regionName1,Ie=t.multilingualRegionName1,Oe=t.isDefault,Ne=t.phoneCode,we=t.postCode,xe=t.addressCorrectionInfo,ke=t.displayAddressItem,Pe=t.displayAddressRow,Te=t.disableInfo,De=t.lastUsedAddressTag,Re=t.addressType,Le=t.addressUsedTips,je=!!v||!!b||!!f||m,Me=(0,s.useMemo)((function(){return!!ce&&"".concat(ce)==="".concat(v)||!!fe&&"".concat(fe)==="".concat(b)}),[ce,v,fe,b]),Be=(0,s.useState)(!1),Fe=(0,a.A)(Be,2),We=Fe[0],Ue=Fe[1],Ve=(0,s.useCallback)((function(){Ue(!1)}),[]),He=(0,s.useCallback)((function(){Ue(!0)}),[]),Ge=(0,s.useCallback)((function(){Ve(),ie()}),[]),Ke=(0,s.useMemo)((function(){return{title:i("editAddressTitle"),isEdit:!0,addressItem:t,defaultAddressItem:t,editAddressScene:G.FC.Personal,addrScene:re,onSuccessCb:Ge}}),[t]),ze=(0,s.useMemo)((function(){return Ne&&he?"+".concat(Ne," ").concat(he):he||""}),[Ne,he]),qe=(0,s.useCallback)((function(){E(t,{isUsed:Me})}),[E,t,Me]),Ye=(0,s.useMemo)((function(){var e=de({list:[be,ze],suffix:" "}),t=de({list:[Ee,_e]}),n=ye?"".concat(de({list:[ye,we]})," ").concat(de({list:[Ae,Se,Ie||Ce]})):"".concat(de({list:[Ae,Se]})).concat(we?" ".concat(we):"",", ").concat(Ie||Ce);return de({list:[e,t,n],suffix:"\r\n"})}),[be,ze,ye,Ae,Se,we,Ce,Ie,Ee,_e]),Je=1===(null==Te?void 0:Te.type)||3===(null==Te?void 0:Te.type),Ze=1===(null==Te?void 0:Te.type)||3===(null==Te?void 0:Te.type),Qe=2===(null==Te?void 0:Te.type)&&(null==Te?void 0:Te.popupInfo),Xe=2===Re,$e=9===(null==Le?void 0:Le.type),et=void 0!==(null==Te?void 0:Te.buttonValue),tt=((null==Te?void 0:Te.buttonValue)||0).toString(2).padStart(4,"0"),nt=null!=T?T:!et||"0"===tt[0],rt=null!=C?C:!et||"0"===tt[1],ot=null!=w?w:!et||"0"===tt[2],at=!et||"0"===tt[3],it=(0,s.useCallback)((function(){Ye&&(0,Y.eM)(Ye,{onSuccessCb:function(){return B.A.success(i("copySuccess"))},onFailCb:function(){return B.A.error(i("copyFail"))}})}),[Ye]),lt=(0,J.A)(),st=lt.isLock,ct=lt.lockSubmit,ut=function(){var e=(0,o.A)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ne){e.next=2;break}return e.abrupt("return",Promise.resolve(!1));case 2:return ct(!0),e.next=5,(0,K.Z)(t.regionId1Alias||t.regionId1);case 5:return n=e.sent,ct(!1),e.abrupt("return",new Promise((function(e,r){if(void 0===n&&r(),n===G.f2.Site){var o={title:i("changeRegionTips",{0:Ie||Ce,interpolation:{prefix:"{",suffix:"}"}}),tip:i("region.desc"),confirm:i("region.switch",{to:Ie||Ce}),cancel:i("region.cancel"),targetRegion:t.regionId1Alias||t.regionId1};(0,K.h)({scene:1007,data:o,localInfo:te,onComplete:function(){e(!0)}})}else e(!1)})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=(0,s.useCallback)((0,o.A)(l().mark((function e(){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!st){e.next=2;break}return e.abrupt("return");case 2:if(!S){e.next=13;break}return e.next=5,ut();case 5:return r=e.sent,e.next=8,oe(t);case 8:null==P||P(t),null==n||n(d.fromIndex),r?(0,W.Qw)(location.href):ie(),e.next=15;break;case 13:oe(t),null==P||P(t);case 15:case"end":return e.stop()}}),e)}))),[le,t,d.fromIndex]),pt=(0,s.useCallback)((0,o.A)(l().mark((function e(){var n,r,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut();case 2:n=e.sent,r=(0,O.HO)(t),(2===$||!$&&ne)&&(r.displayAddressItem=null===(o=r.displayAddressItem)||void 0===o?void 0:o.map((function(e){return e.filter((function(e){return"mobile"!==e.fieldType}))})).map((function(e){var t;return"separator"===(null===(t=e[e.length-1])||void 0===t?void 0:t.fieldKey)?e.slice(0,e.length-1):e}))),null==h||h({type:Q.Qi.SELECT,data:r,useOriginalSnapshotId:j.current,useOriginalSnapshotSn:U.current,isSwitchSite:n,addressType:Re});case 6:case"end":return e.stop()}}),e)}))),[h,t,$,ne,Re]),mt=(0,s.useCallback)((0,o.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,Z.mE)({event:"doAddressDelete",data:(0,Y.Jm)({isCardAddress:ne})}),e.next=3,ae({addressId:le,addressSnapshotId:ce,addressSnapshotSn:fe});case 3:e.sent&&(null==k||k({addressId:le,addressSnapshotId:ce,addressSnapshotSn:fe}));case 5:case"end":return e.stop()}}),e)}))),[k,le,ce,fe,ae]),ft=function(){return s.createElement("div",{className:u()(ue().user)},!!De&&s.createElement(F.v,{className:ue().lastUsedAddressTag},De),be?s.createElement("span",{className:ue().name},be):null,ze?s.createElement("span",{className:ue().mobile,dir:"ltr"},ze):null)},gt=function(){return null!=ke&&ke.length?s.createElement(s.Fragment,null,ke.map((function(e){return s.createElement("div",{className:ue().addressRowItem},e.map((function(e){return"name"===e.fieldKey?s.createElement(s.Fragment,null,!!De&&s.createElement(F.v,{className:ue().lastUsedAddressTag},De),s.createElement("span",{className:ue().name},e.text)):s.createElement("span",{style:{color:e.fontColor}},e.text)})))}))):null!=Pe&&Pe.length?s.createElement(s.Fragment,null,ft(),Pe.slice(1).map((function(e){return s.createElement("div",{className:ue().addressRowItem},e)}))):s.createElement(s.Fragment,null,ft(),s.createElement("p",{className:u()(ue().address,(0,r.A)({},ue().hasUserInfo,be||ze))},de({list:[Ee,_e]})),ye?s.createElement("p",{className:ue().region},de({list:[ye,we]})," ",de({list:[Ae,Se]}),", ".concat(Ie||Ce)):s.createElement("p",{className:ue().region},de({list:[Ae,Se]}),we?" ".concat(we):"",", ".concat(Ie||Ce)))};return s.createElement(s.Fragment,null,s.createElement("div",{className:ue().wrap},Xe&&s.createElement(ge,{pickupAddressSnapshotSn:fe}),s.createElement("div",{className:u()(ue().addressInfo,(0,r.A)({},ue().disableUseArea,Je))},s.createElement("div",{className:u()(ue().left,(0,r.A)({},ue().editHotZone,S)),onClick:S&&at?qe:ve,role:"button",tabIndex:0},s.createElement(gt,null)),!!je&&!Ze&&s.createElement("div",{className:u()(ue().right,ne?ue().cardAddressContainer:"")},Me?s.createElement("div",{className:ue().usedContainer},s.createElement(A.Cl,{className:ue().used}),s.createElement(y.A,{className:u()(ue().notUsed),style:{visibility:"hidden",height:0}},ee||i("use")),!!ne&&s.createElement("div",{className:ue().cardAddressDeleteArea},s.createElement(g.Rp,{page_el_sn:200107,others:{addr_scene:re}},s.createElement("div",{className:ue().operate,onClick:function(){return(0,N.A)(i("BAOGONG-814995-5"))},role:"button",tabIndex:0},s.createElement("span",null,i("delete")))))):s.createElement(s.Fragment,null,s.createElement(y.A,{className:u()(ue().notUsed),onClick:Qe?function(){var e=Te.popupInfo,t=e.buttons,n=e.topRichText,r=t||[],o=(0,a.A)(r,2),i=o[0],l=o[1];(0,L.P)({popupNode:s.createElement(M.A,{onClose:function(){return(0,L.L)(!1)},title:s.createElement(g.nU,{page_el_sn:237942,useClick:!1},s.createElement("span",{className:ue().title,style:{color:null==n?void 0:n.fontColor,fontSize:(null==n?void 0:n.fontSize)||14,verticalAlign:"middle",fontWeight:null!=n&&n.bold?600:500}},null==n?void 0:n.text)),onConfirm:function(){(0,x.E0)({page_el_sn:237943}),qe(),(0,L.L)(!1)},onCancel:function(){(0,x.E0)({page_el_sn:237944}),(0,L.L)(!1)},cancelButtonLabel:null==l?void 0:l.buttonText,confirmButtonLabel:null==i?void 0:i.buttonText,buttonConfigs:{direction:"vertical"}})})}:pt,tabIndex:0,"data-aria-enter":"1"},ee||i("use")),!!ne&&s.createElement("div",{className:ue().cardAddressDeleteArea},s.createElement(pe,{handleDelete:mt,addressInfo:function(){return s.createElement(gt,null)}}))))),!q&&s.createElement(se,{addressCorrectionInfo:xe,addressSnapshotId:ce,addressSnapshotSn:fe,handleEdit:qe,openCorrectPop:He,inPage:S}),!(null==Te||!Te.msg)&&s.createElement("span",{className:ue().disableMsg},s.createElement(D.A,{className:ue().tipIcon,"aria-hidden":!0,fill:"#fc3310"}),Te.msg),!!Le&&Me&&s.createElement("span",{className:u()(ue().addressUsedTips,(0,r.A)({},ue().clickable,$e)),role:"button",tabIndex:0,"data-aria-enter":"1",onClick:$e?function(){return me({shippingAddressSnapshotSn:fe,onSuccess:function(e){null==h||h({type:Q.Qi.SELECT,data:e,useOriginalSnapshotId:j.current,useOriginalSnapshotSn:U.current,addressType:e.addressType})}})}:ve},(0,z.A)(Le.richText)),!X&&!Xe&&s.createElement("div",{className:ue().btnWrap},s.createElement(g.Rp,{page_el_sn:200106,others:{addr_scene:re}},s.createElement("div",{className:u()(ue().default,(0,r.A)({},ue().showDefault,nt)),onClick:Oe?ve:dt,role:"button",tabIndex:0,"data-aria-enter":"1"},s.createElement(H.A,{className:ue().checkIcon,checked:!!Oe,ariaLabel:i(Oe?"default":"setDefault")}),i(Oe?"default":"setDefault"))),s.createElement("div",{className:ue().operateArea},S?s.createElement(s.Fragment,null,!!rt&&s.createElement(pe,{handleDelete:mt,addressInfo:function(){return s.createElement(gt,null)}}),!!ot&&s.createElement(g.Rp,{page_el_sn:200108,others:{addr_scene:re}},s.createElement("div",{className:ue().operate,onClick:it,role:"button",tabIndex:0,"data-aria-enter":"1"},i("copy"))),!!at&&s.createElement(g.Rp,{page_el_sn:200109,others:{addr_scene:re}},s.createElement("div",{className:ue().operate,onClick:qe,role:"button",tabIndex:0,"data-aria-enter":"1"},i("edit")))):s.createElement(s.Fragment,null,!!ot&&s.createElement(g.Rp,{page_el_sn:200108,others:{addr_scene:re}},s.createElement("div",{className:u()(ue().operate,null==I?void 0:I.copyBtnClass),onClick:it,role:"button",tabIndex:0,"data-aria-enter":"1"},s.createElement(R.A,{className:ue().editIcon,"aria-hidden":!0}),i("copy"))),!!at&&s.createElement(g.Rp,{page_el_sn:200109,others:{addr_scene:re}},s.createElement("div",{className:u()(ue().operate,null==I?void 0:I.editBtnClass),onClick:qe,role:"button",tabIndex:0,"data-aria-enter":"1"},s.createElement(A.AP,{className:ue().editIcon,"aria-hidden":!0}),i("edit"))),!!rt&&s.createElement(pe,{handleDelete:mt,hasIcon:!0,classname:null==I?void 0:I.editBtnClass,addressInfo:function(){return s.createElement(gt,null)}}))))),!!We&&s.createElement(V.A,{addressCorrectionInfo:xe,onClose:Ve,addressEditProps:Ke}))})),he=n(89896),Ee=n.n(he),_e=(0,d.PA)((function(){var e=(0,p.B)("bec-fe.web-address").t,t=(0,_.Su)(),n=t.store,i=n.addressList,c=n.getAddressList,d=t.onAdd,h=t.inPage,y=!(null==i||!i.length),A=(0,s.useRef)({hasGet:!1}),S=(0,s.useState)(!1),C=(0,a.A)(S,2),O=C[0],N=C[1],w=(0,s.useRef)(null),x=(0,s.useCallback)((0,o.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y||A.current.hasGet){e.next=6;break}return A.current.hasGet=!0,N(!0),e.next=5,c();case 5:N(!1);case 6:case"end":return e.stop()}}),e)}))),[y]);return(0,s.useEffect)((function(){!h&&x()}),[h,x]),O?s.createElement(v.A,{text:e("loading"),className:Ee().loading}):null!=i&&i.length?s.createElement(s.Fragment,null,s.createElement(g.Rp,{page_el_sn:h?200111:0},s.createElement("div",{className:Ee().leading},s.createElement(I,{onAdd:d,addText:e("addText")}),s.createElement(b.A,{securityTxt:e("securityText"),className:Ee().security}))),s.createElement("div",{className:Ee().wrap,ref:w},i.map((function(e){return s.createElement(be,{key:e.addressId,data:e,onSetDefault:function(e){E(w,e)}})})))):s.createElement(f.A,{title:e("newEmptyTitle"),desc:s.createElement(b.A,{securityTxt:e("securityText2"),className:Ee().securityInEmpty}),imageConfigs:{svg:s.createElement(m.A,{className:Ee().kongtaiDizhikong,"aria-hidden":!0})},mainButtonLabel:e("addText"),onMainButtonClick:d,className:u()(Ee().empty,(0,r.A)({},Ee().emptyInPage,h))})}))},59808:function(e,t,n){"use strict";var r=n(33514),o=n(10644),a=function(e){var t=e.className,n=e.checked,a=e.onClick,i=e.disable,l=e.ariaLabel;return r.createElement(o.sx,{isChecked:n,toggleCheck:a,disabled:i,className:t,"aria-label":l})};t.A=(0,r.memo)(a)},61431:function(e,t,n){"use strict";var r=n(61877),o=n(33514),a=n(32485),i=n.n(a),l=n(54461),s=n(15227),c=n.n(s),u=function(e){var t=e.isOpen;return o.createElement(l._H,{className:i()(c().arrow,(0,r.A)({},c().arrowOpen,t))})};t.A=(0,o.memo)(u)},21892:function(e,t,n){"use strict";n.d(t,{r:function(){return u}});var r=n(33514),o=n(32485),a=n.n(o),i=n(45645),l=n(87837),s=n(988),c=n.n(s),u=(0,r.memo)((function(e){var t=e.title,n=e.desc,o=e.renderLink,s=e.iconClassName,u=e.titleClassName,d=e.descClassName,p=e.wrapperClassName,m=e.pageElSn,f=e.useClick;return r.createElement(l.nU,{page_el_sn:m||0,useClick:f},r.createElement("div",{className:a()(c().box,p)},r.createElement(i.A,{className:a()(c().icon,s),"aria-hidden":!0}),r.createElement("div",{className:a()(c().title,u)},t),r.createElement("div",{className:a()(c().desc,d)},n),null==o?void 0:o()))}))},94995:function(e,t,n){"use strict";var r=n(6356),o=n(33514),a=n(32485),i=n.n(a),l=n(7350),s=n.n(l),c=n(46658),u=n.n(c),d=function(e){var t=e.scrollRef,n=e.styleObj,a=(0,o.useState)(!1),l=(0,r.A)(a,2),c=l[0],d=l[1],p=(0,o.useState)(!0),m=(0,r.A)(p,2),f=m[0],g=m[1],v=(0,o.useCallback)(s()((function(){var e=t.current;if(e){var n=e.scrollHeight-e.clientHeight-4;d(e.scrollTop>0),g(e.scrollTop<=n)}}),100),[]);return(0,o.useEffect)((function(){var e;return null===(e=t.current)||void 0===e||e.addEventListener("scroll",v),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("scroll",v)}})),o.createElement(o.Fragment,null,!!c&&o.createElement("div",{className:i()(u().gradient,u().top,null==n?void 0:n.top)}),!!f&&o.createElement("div",{className:i()(u().gradient,u().bottom,null==n?void 0:n.bottom)}))};t.A=(0,o.memo)(d)},44458:function(e,t,n){"use strict";var r=n(61877),o=n(33514),a=n(32485),i=n.n(a),l=n(97582),s=n(171),c=n(19670),u=n(26736),d=n.n(u),p=function(e){var t=e.isShowEditNav,n=void 0===t||t,a=e.backText,u=e.onBack,p=e.onClose,m=e.styleObj,f=(0,l.B)("bec-fe.web-address").t;return n?o.createElement("div",{className:i()(d().head,null==m?void 0:m.head)},o.createElement("div",{className:i()(d().backWrap,(0,r.A)({},d().showBackWrap,!!a)),role:"button",tabIndex:0,onClick:u},o.createElement(s.A,{className:d().backIcon,"aria-hidden":!0}),a),o.createElement("div",{className:d().closeIcon,role:"button",tabIndex:0,"data-aria-enter":"1","aria-label":f("close"),onClick:p},o.createElement(c.A,null))):null};t.A=(0,o.memo)(p)},84889:function(e,t,n){"use strict";n.d(t,{S:function(){return f}});var r=n(61877),o=n(33514),a=n(32485),i=n.n(a),l=n(47571),s=n(40304),c=n(87837),u=n(21447),d=n(54461),p=n(62319),m=n.n(p),f=function(e){return e[e.Normal=0]="Normal",e[e.Orange=1]="Orange",e}({}),g=function(e){var t,n=e.richText,a=e.text,p=e.linkText,g=e.linkPageElSn,v=e.onClick,b=e.className,h=e.iconClassName,E=e.useSafeIcon,_=e.theme,y=e.color,A=e.style,S=e.filled,C=y?{"--config-color":y,borderColor:y}:{"--config-color":"#000000"};return o.createElement(o.Fragment,null,n||a?o.createElement("div",{className:i()(m().headerTips,b,(t={},(0,r.A)(t,m().orange,_===f.Orange&&!y),(0,r.A)(t,m().noBorder,2===A),(0,r.A)(t,m().filled,!!S),t)),style:C},E?o.createElement(l.A,{className:i()(m().warnIcon,h,(0,r.A)({},m().outlinedIcon,!!S)),style:C,"aria-hidden":!0}):o.createElement(s.A,{className:i()(m().warnIcon,h),style:C,"aria-hidden":!0}),n?o.createElement(u.A,{data:n,className:m().richText}):a,!!p&&o.createElement(c.Rp,{page_el_sn:g},o.createElement("div",{className:m().linkText,onClick:v,role:"button",tabIndex:0},p," ",o.createElement(d.hu,{className:m().arrow})))):null)};t.A=(0,o.memo)(g)},6864:function(e,t,n){"use strict";var r=n(61877),o=n(6356),a=(n(2008),n(26099),n(27495),n(25440),n(84864),n(57465),n(87745),n(38781),n(71761),n(33514)),i=n(32485),l=n.n(i),s=n(87837),c=n(60043),u=n(74938),d=n(57402),p=n(54461),m=n(18424),f=n.n(m),g=function(e,t){var n=e.enterType,i=e.type,m=void 0===i?"text":i,g=e.wrapClassName,v=e.className,b=e.placeholder,h=void 0===b?"":b,E=e.value,_=e.maxLength,y=e.isShowClear,A=void 0===y||y,S=e.onFocus,C=e.onBlur,I=e.onChange,O=e.onClear,N=e.onClick,w=e.onHover,x=e.filter,k=e.formatter,P=e.isFormatOnBlur,T=e.dividerRegex,D=e.pageElSn,R=e.others,L=e.useImpr,j=void 0===L||L,M=e.tabIndex,B=e.addressEditPageOptimizationAbtest,F=e.fieldTitle,W=e.prefix,U=e.disableCharacters,V=e.disableModifyCursor,H=e.accessibleBroadcast,G=(0,a.useRef)(null),K=(0,a.useState)(!1),z=(0,o.A)(K,2),q=z[0],Y=z[1],J=(0,a.useState)(!1),Z=(0,o.A)(J,2),Q=Z[0],X=Z[1],$=(0,a.useState)((function(){return k?k(E):E})),ee=(0,o.A)($,2),te=ee[0],ne=ee[1],re=(0,a.useRef)(te||""),oe=(0,a.useRef)(!1);(0,a.useEffect)((function(){if(!P||!E){var e=k?k(E):E;ne(e)}}),[P,E,k]);var ae=(0,a.useCallback)((function(e){var t;X(!0),null==S||S(e),null===(t=G.current)||void 0===t||t.setAttribute("autocomplete","nope")}),[S]),ie=(0,a.useCallback)((function(e){var t;if(X(!1),null==C||C(e),null===(t=G.current)||void 0===t||t.setAttribute("autocomplete","off"),P){var n=e.target.value,r=k?k(n):n;re.current=r,ne(r),null==I||I(r)}}),[C,P,k,I]),le=(0,a.useCallback)((function(e){var t,r=e.target.value;if(n===c.UE.NUMBER&&(r=r.replace(/[^\d]/g,"")),null!=U&&U.length){var o=new RegExp("[".concat(U.join(""),"]"),"g");r=r.replace(o,"")}var a=P&&!oe.current||!P;x&&a&&(r=x(r));var i=k&&!P?k(r):r;if(ne(i),null==I||I(i),!V){var l=re.current.length<r.length;re.current=r;var s=(null===(t=G.current)||void 0===t?void 0:t.selectionStart)||0,d=s;setTimeout((function(){s<r.length&&a&&(d=0===s?s:l?r[s].match(T)?s+1:s:r[s-1].match(T)?s-1:s,(0,u.A)((function(){var e;null===(e=G.current)||void 0===e||e.setSelectionRange(d,d)})))}),0)}}),[n,U,P,k,x,T,I,V]),se=(0,a.useCallback)((function(e){oe.current="Backspace"===e.key}),[]),ce=(0,a.useCallback)((function(e){(null==G?void 0:G.current)&&G.current.focus(),null==I||I(""),null==O||O()}),[I,O]),ue=(0,a.useCallback)((function(){Y(!0),null==w||w(!0)}),[]),de=(0,a.useCallback)((function(){Y(!1),null==w||w(!1)}),[]);return a.createElement("div",{className:l()(f().inputWrap,g,(0,r.A)({},f().isFocus,Q)),onMouseEnter:ue,onMouseLeave:de},!!W&&a.createElement("div",{className:f().prefix},W),a.createElement(s.Rp,{page_el_sn:D,others:R,useImpr:j},a.createElement("input",{"aria-label":te||h||H,type:m,className:l()(f().input,v,(0,r.A)({},f().withPrefix,!!W)),value:te,ref:(0,d.K4)(G,t),maxLength:_,placeholder:B&&Q||!B||!F?h:"",autoComplete:"off",tabIndex:M,onFocus:ae,onBlur:ie,onChange:le,onClick:N,onKeyDown:se})),A&&E&&q&&a.createElement(p.sL,{className:l()(f().inputCloseIcon),onClick:ce}))};t.A=(0,a.memo)((0,a.forwardRef)(g))},95376:function(e,t,n){"use strict";var r=n(33514),o=n(32485),a=n.n(o),i=n(90038),l=n(4252),s=n.n(l),c=function(e){var t=e.text,n=e.className;return r.createElement("div",{className:a()(s().loading,n)},r.createElement(i.A,{style:{width:30,height:30}}),r.createElement("span",{className:s().text,role:"paragraph"},t||""))};t.A=(0,r.memo)(c)},1358:function(e,t,n){"use strict";n.d(t,{A:function(){return g}});var r=n(6356),o=(n(27495),n(25440),n(33514)),a=n(32485),i=n.n(a),l=n(87837),s=n(74938),c=n(57402),u=function(e,t){var n=(0,o.useRef)(!0);(0,o.useLayoutEffect)((function(){if(!n.current)return e()}),t),(0,o.useLayoutEffect)((function(){return n.current=!1,function(){n.current=!0}}),[])},d=n(54461),p=n(90546),m=n.n(p),f=function(e,t){var n=e.phoneRegionId,a=e.type,p=void 0===a?"text":a,f=e.wrapClassName,g=e.className,v=e.placeholder,b=void 0===v?"":v,h=e.value,E=e.maxLength,_=e.isShowClear,y=void 0===_||_,A=e.onFocus,S=e.onBlur,C=e.onChange,I=e.onClear,O=e.onClick,N=e.onHover,w=e.formatter,x=e.parser,k=e.pageElSn,P=e.tabIndex,T=e.ariaLabel,D=(0,o.useRef)(null),R=(0,o.useState)(!1),L=(0,r.A)(R,2),j=L[0],M=L[1],B=(0,o.useState)((function(){return w?w(h):h})),F=(0,r.A)(B,2),W=F[0],U=F[1],V=(0,o.useRef)({}),H=(0,o.useRef)(null),G=(0,o.useRef)(h||""),K=(0,o.useCallback)((function(e){U(w?w(e):e)}),[h,n,w]),z=(0,o.useCallback)((function(e){return e!==h&&(null==C||C(e),!0)}),[h,C]),q=(0,o.useCallback)((function(e){return(x?x(e):e)||""}),[]),Y=(0,o.useCallback)((function(){var e=q(W);!z(e)&&K(e)}),[z,W]),J=(0,o.useCallback)((function(e){var t;null==A||A(e),null===(t=D.current)||void 0===t||t.setAttribute("autocomplete","nope")}),[A]),Z=(0,o.useCallback)((function(e){var t;Y(),null==S||S(e),null===(t=D.current)||void 0===t||t.setAttribute("autocomplete","off")}),[Y,S]),Q=(0,o.useCallback)((function(e){var t;H.current&&clearTimeout(H.current);var n=e.target.value,r=(null===(t=D.current)||void 0===t?void 0:t.selectionStart)||0,o=r;H.current=setTimeout((function(){n=(n=(0,c.wL)(n)).replace(/[^\s\d]/g,"");var e=G.current.length<n.length;if(G.current=n,V.current.isSpace||n===W){var t;null===(t=D.current)||void 0===t||t.setSelectionRange(o-1,o-1)}else{U(n);var a=q(n);z(a),r<n.length&&(o=e?" "===n[r]?r+1:r:" "===n[r-1]?r-1:r,(0,s.A)((function(){var e;null===(e=D.current)||void 0===e||e.setSelectionRange(o,o)})))}}),0)}),[z,W]),X=(0,o.useCallback)((function(e){var t=e.which||e.keyCode;V.current.isSpace=32===t}),[]),$=(0,o.useCallback)((function(){(null==D?void 0:D.current)&&D.current.focus(),null==C||C(""),null==I||I()}),[C,I]),ee=(0,o.useCallback)((function(){M(!0),null==N||N(!0)}),[]),te=(0,o.useCallback)((function(){M(!1),null==N||N(!1)}),[]);return u((function(){var e,t=null===(e=D.current)||void 0===e?void 0:e.value,n=x?x(t):t;(h!==n||w)&&K(h)}),[h,n,w]),o.createElement("div",{className:i()(m().inputWrap,f),onMouseEnter:ee,onMouseLeave:te},o.createElement(l.Rp,{page_el_sn:k},o.createElement("input",{"aria-label":T,type:p,className:i()(m().input,g),value:W,ref:(0,c.K4)(D,t),maxLength:E,placeholder:b,autoComplete:"off",onFocus:J,onBlur:Z,onChange:Q,onClick:O,onKeyDown:X,dir:"ltr",tabIndex:P})),y&&h&&j&&o.createElement(d.sL,{className:i()(m().inputCloseIcon),onClick:$}))},g=(0,o.memo)((0,o.forwardRef)(f))},31092:function(e,t,n){"use strict";n(62062);var r=n(33514),o=n(8565),a=n(64348),i=n(13880),l=n(49193),s=n.n(l),c=(0,r.memo)((function(e){var t=e.value,n=e.options,l=e.pageElSn,c=e.others,u=e.onChange,d=e.children;null!=n&&n.length&&(d=n.map((function(e,t){return r.createElement(i.A,{key:"radio-".concat(e.value),index:t,value:e.value},e.label)})));var p=(0,r.useMemo)((function(){return{value:t,onChange:u}}),[t,u]);return r.createElement(a.A.Provider,{value:p},r.createElement(o.A,{page_el_sn:l,others:c},r.createElement("div",{className:s().wrap},d)))}));t.A=c},13880:function(e,t,n){"use strict";var r=n(33514),o=n(10644),a=n(64348),i=n(49193),l=n.n(i),s=(0,r.memo)((function(e){var t=e.index,n=e.value,i=e.ariaLabel,s=e.children,c=r.useContext(a.A),u=(0,r.useMemo)((function(){return n===(null==c?void 0:c.value)}),[n,c]);return r.createElement("div",{className:l().radio,role:"radio","aria-checked":!!u,tabIndex:0,"data-aria-enter":"1",onClick:function(){var e;null===(e=c.onChange)||void 0===e||e.call(c,n,t)}},r.createElement(o.sx,{isChecked:!!u,className:l().checkIcon,"aria-label":i}),s)}));t.A=s},64348:function(e,t,n){"use strict";var r=n(33514).createContext({});t.A=r},24148:function(e,t,n){"use strict";var r=n(74533),o=n(11286),a=n.n(o),i=n(33514),l=n(97582),s=n(27092),c=n(73035),u=n(87837),d=n(34678),p=n(38532),m=n(39064),f=n.n(m),g=function(e){var t=e.addrScene,n=e.isNewRetainStyle,o=e.addressEditRef,m=e.onClose,g=e.onCancel,v=(0,l.B)("bec-fe.web-address").t,b=function(){(0,c.L)(!1),null==m||m()},h=function(){var e=(0,r.A)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||!t.needSaveDraft){e.next=5;break}return n=(null==o?void 0:o.current)||{},r=n.handleSubmit,(0,p.mE)({event:"saveDraftStart"}),e.next=5,null==r?void 0:r({isSaveDraft:!0});case 5:(0,c.L)(!0),null==g||g();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){return v(290===t?"retainTitle290":"retainPop.title")},_=function(){return i.createElement(u.Rp,{page_el_sn:231884,others:{popup_type:n?1:2}},i.createElement("div",null,v("retainPop.confirmButtonLabel")))},y=function(){var e=231885;return n?i.createElement(u.Rp,{page_el_sn:e,others:{popup_type:1}},i.createElement("div",{className:f().cancelButton,role:"button",tabIndex:0,onClick:function(){return h()}},v("retainPop.cancelButtonLabel"),i.createElement(s.A,null))):i.createElement(u.Rp,{page_el_sn:e,others:{popup_type:2}},i.createElement("div",null,v("retainPop.cancelButtonLabel")))};return n?i.createElement(d.A,{title:E(),confirmButtonLabel:_(),cancelButtonLabel:i.createElement(u.Rp,{page_el_sn:237776},i.createElement("div",null,v("retainPop.draftButtonLabel"))),onClose:b,onConfirm:b,onCancel:function(){return h({needSaveDraft:!0})},closeButtonProps:{disableEsc:!0},buttonConfigs:{direction:"vertical"},contentAfterBtn:i.createElement(i.Fragment,null,y(),i.createElement("div",{className:f().saveDraftTip},v("retainPop.saveDraftTip")))}):i.createElement(d.A,{title:E(),confirmButtonLabel:_(),cancelButtonLabel:y(),onClose:b,onConfirm:b,onCancel:function(){return h()},closeButtonProps:{disableEsc:!0}})};t.A=(0,i.memo)(g)},21447:function(e,t,n){"use strict";n.d(t,{J:function(){return p}});var r=n(61877),o=(n(62062),n(33514)),a=n(32485),i=n.n(a),l=n(50453),s=n(27092),c=n(56861),u=n.n(c),d=function(){return null},p=(0,o.memo)((function(e){var t=e.item,n=e.onClick;return o.createElement("span",{className:i()(u().richTextItem,(0,r.A)({},u().clickable,!!t.jumpType||!!t.jumpUrl)),style:{color:t.fontColor,fontSize:Math.max(t.fontSize,13)},role:"button",tabIndex:0,onClick:t.jumpType||t.jumpUrl?function(){return function(e){if(n)return n();e&&l.Ay.uniformForward(e,{openTarget:"_blank"})}(t.jumpUrl)}:d},t.text,t.jumpType||t.jumpUrl?o.createElement(s.A,{style:{fill:t.fontColor},className:u().icon,"aria-hidden":!0}):null)})),m=function(e){var t=e.data,n=e.onClick,r=e.className;return null!=t&&t.length?o.createElement("div",{className:i()(u().richText,r)},t.map((function(e){return o.createElement(p,{item:e,onClick:n})}))):null};t.A=(0,o.memo)(m)},33546:function(e,t,n){"use strict";var r=n(14242),o=n(61877),a=n(33514),i=n(32485),l=n.n(i),s=n(97582),c=n(99650),u=n(27092),d=n(73035),p=n(34678),m=n(82370),f=n(88848),g=n.n(f),v=function(e){var t,n=e.securityTxt,i=e.className,f=e.enableDialog,v=e.isPop,b=(0,s.B)("bec-fe.web-address").t;if(!n)return a.createElement("div",{className:g().placeholder});var h=f?{role:"button",tabIndex:0,onClick:function(){return(0,d.P)({popupNode:a.createElement(p.A,{onClose:d.L,confirmButtonLabel:b("ok"),onConfirm:d.L},a.createElement("div",{className:g().securityImage},a.createElement(m.Ay,{src:"https://aimg.kwcdn.com/upload_aimg/br/bcfa0a9f-905f-4af0-b972-9bcbf083fd5f.png.slim.png",resizeWidth:136,alt:"","aria-hidden":!0})),a.createElement("p",{className:g().securityEnhanceText},b("securityEnhanceText")))})}}:{};return a.createElement("div",(0,r.A)({className:l()(g().security,i,(t={},(0,o.A)(t,g().clickable,f),(0,o.A)(t,g().isPop,v),t))},h),a.createElement(c.A,{className:g().icon,"aria-hidden":!0}),a.createElement("span",null,n),!!f&&a.createElement(u.A,{className:g().arrow}))};t.A=(0,a.memo)(v)},91251:function(e,t,n){"use strict";n.d(t,{W$:function(){return d},xc:function(){return u}});var r,o=n(33514),a=n(63815),i=n(95789),l=n(52163),s=n.n(l),c=function(){return o.createElement("div",{className:s().container})},u=function(){r&&r(),r=(0,i.A)(o.createElement(c,null)),a.WU.apply(void 0,arguments)},d=function(){r&&r(),(0,a.jD)()}},54461:function(e,t,n){"use strict";n.d(t,{hL:function(){return W},Pg:function(){return x},hu:function(){return j},H2:function(){return O},_H:function(){return w},AP:function(){return D},Qn:function(){return P},ec:function(){return T},sL:function(){return R},KX:function(){return B},aZ:function(){return M},pJ:function(){return F},Cl:function(){return k},HW:function(){return N}});var r,o=n(14242),a=n(56687),i=n(33514),l=n(32485),s=n.n(l),c=n(91793),u=n(61877),d=function(e){return e.UnFavor="unFavor",e.Favor="favor",e.RIGHT="right",e.BOTTOM="bottom",e}({}),p=function(e){return e.RIGHT="right",e.BOTTOM="bottom",e}({}),m=(r={},(0,u.A)(r,d.UnFavor,"M162.185846 216.182154a252.455385 252.455385 0 0 0 0 356.982154l267.067077 267.106461a118.153846 118.153846 0 0 0 167.108923 0l267.067077-267.067077a252.455385 252.455385 0 0 0 0-357.021538l-6.459077-6.301539a252.534154 252.534154 0 0 0-344.221538 0.196923l-6.774154-6.183384a252.455385 252.455385 0 0 0-343.827692 12.288z m55.689846 55.689846a173.686154 173.686154 0 0 1 245.563077 0l21.504 21.504a39.384615 39.384615 0 0 0 55.650462 0l21.582769-21.464615a173.686154 173.686154 0 1 1 245.602462 245.563077l-267.106462 267.067076a39.384615 39.384615 0 0 1-55.689846 0L217.875692 517.513846a173.686154 173.686154 0 0 1 0-245.602461z"),(0,u.A)(r,d.Favor,'M192.8 269.6c-92 92-92 241.2 0 333.2l248.1 248.2c45.9 45.8 120.1 45.8 166 0l248.2-248.2c92-92 92-241.2 0-333.2l-6.6-6.4c-90.2-83.5-229.7-83.5-320 0l-4.6 4.4 2.1 2c-92.1-92-241.2-92-333.2 0"'),n(8058)),f=n.n(m),g=["className","style"],v=["className","style"],b=["className","style"],h=["className","style"],E=["className","style"],_=["className","style"],y=["className","style"],A=["className","style"],S=["className","style"],C=["className","style","path"],I=["className","style"],O=function(e){var t=e.className,n=e.style,r=(0,a.A)(e,g);return i.createElement(L,(0,o.A)({},r,{path:"M620.9 109.5c62.7 0 113.5 50.8 113.5 113.5l-0.1 60.2 180.9 0c21.2 0 38.4 17.2 38.4 38.4 0 21.2-17.2 38.4-38.4 38.4l-32 0-72.1 460.4c-11 66.3-50.8 113.5-113.5 113.5l-371.3 0c-62.7 0-105.4-61.9-113.5-113.5l-72-460.4-32 0c-21.2 0-38.4-17.2-38.4-38.4 0-21.2 17.2-38.4 38.4-38.4l180.8 0 0.1-60.2c0-59.6 45.9-108.4 104.2-113.1l9.3-0.4 217.7 0z m185.5 250.5l-588.8 0 72 460.4c2.7 16.6 16.4 36.7 36.7 36.7l371.3 0c20.3 0 33.9-16.3 36.7-36.7l72.1-460.4z m-185.5-173.7l-217.7 0c-20.3 0-36.7 16.4-36.7 36.7l-0.1 60.2 291.1 0 0.1-60.2c0-18.3-13.3-33.4-30.8-36.2l-5.9-0.5z",className:t,style:n}))},N=function(e){var t=e.className,n=e.style,r=(0,a.A)(e,v);return i.createElement(L,(0,o.A)({},r,{path:"M867.456 89.408a48 48 0 0 1 62.464 72.512L579.904 512l350.08 350.08a48 48 0 0 1-62.528 72.512l-5.376-4.672L512 579.904l-350.08 350.08-5.376 4.608a48 48 0 0 1-62.464-72.512L444.096 512l-350.08-350.08a48 48 0 0 1 62.528-72.512l5.376 4.672L512 444.096l350.08-350.08z",className:t,style:n}))},w=function(e){var t=e.className,n=e.style,r=(0,a.A)(e,b);return i.createElement(L,(0,o.A)({},r,{path:"M846.6 329.7c19.9-17.2 49.9-15 67.1 4.9 15.4 17.9 15.2 44 0.5 61.6l-5.4 5.5-365.3 315.5c-15.9 13.7-38.5 15.2-55.8 4.6l-6.3-4.6-366.1-315.5c-19.9-17.1-22.1-47.2-5-67 15.4-17.9 41.3-21.5 60.8-9.6l6.2 4.6 335.1 288.7 334.2-288.7z",className:t,style:n}))},x=function(e){var t=e.className,n=e.style,r=(0,a.A)(e,h);return i.createElement(L,(0,o.A)({},r,{path:"M512 21.333333a64 64 0 0 1 63.402667 55.296L576 85.333333v362.666667H938.666667a64 64 0 0 1 8.704 127.402667L938.666667 576H576V938.666667a64 64 0 0 1-127.402667 8.704L448 938.666667V576H85.333333a64 64 0 0 1-8.704-127.402667L85.333333 448h362.666667V85.333333A64 64 0 0 1 512 21.333333z",className:t,style:n}))},k=function(e){var t=e.className,n=e.style,r=(0,a.A)(e,E);return i.createElement(L,(0,o.A)({},r,{path:"M122.88 498.858667a64 64 0 0 1 83.882667-5.717334l6.570666 5.717334 196.096 196.096 437.504-437.418667a64 64 0 0 1 83.882667-5.717333l6.570667 5.717333a64 64 0 0 1 5.717333 83.968l-5.717333 6.485333-482.730667 482.730667a64 64 0 0 1-83.882667 5.717333l-6.570666-5.717333-241.408-241.322667a64 64 0 0 1 0-90.453333z",className:t,style:n}))},P=function(e){var t=e.className,n=e.style,r=(0,a.A)(e,_);return i.createElement(L,(0,o.A)({},r,{path:"M458.1 118.6c211.3 0 382.7 171.3 382.7 382.6 0 84.8-27.6 163.2-74.3 226.6l144.1 126.4c13.4 11.8 14.8 32.2 3 45.6-10.5 11.9-27.8 14.3-40.9 6.4l-4.8-3.4-144-126.3c-68.8 66.5-162.5 107.4-265.8 107.4-211.3 0-382.7-171.3-382.6-382.7 0-211.3 171.3-382.7 382.6-382.6z m0 64.6c-175.6 0-318 142.4-318 318 0 175.6 142.4 318 318 318 175.6 0 318-142.4 318-318 0-175.6-142.4-318-318-318z",className:t,style:n}))},T=function(e){var t=e.className,n=e.style,r=(0,a.A)(e,y);return i.createElement(L,(0,o.A)({},r,{path:"M512 0c282.8 0 512 229.2 512 512 0 282.8-229.2 512-512 512-282.8 0-512-229.2-512-512 0-282.8 229.2-512 512-512z m0 78.8c-239.3 0-433.2 194-433.2 433.2 0 239.3 194 433.2 433.2 433.2 239.3 0 433.2-194 433.2-433.2 0-239.3-194-433.2-433.2-433.2z m0 578.9c39.2 0 70.9 31.7 70.9 70.9 0 39.2-31.7 70.9-70.9 70.9-39.2 0-70.9-31.7-70.9-70.9 0-39.2 31.7-70.9 70.9-70.9z m0.1-476.5c26.1 0 47.3 21.2 47.3 47.2l0 299.4c0 26.1-21.2 47.3-47.3 47.2-26.1 0-47.3-21.2-47.2-47.2l0-299.4c0-26.1 21.2-47.3 47.2-47.2z",className:t,style:n}))},D=function(e){var t=e.className,n=e.style,r=(0,a.A)(e,A);return i.createElement(L,(0,o.A)({},r,{path:"M480 153.4c21.2 0 38.4 17.2 38.4 38.4 0 19.1-13.9 34.9-32.2 37.9l-6.2 0.5-234.7 0c-40.9 0-74.5 31.1-78.5 70.8l-0.4 8.1 0 469.3c0 40.9 31.1 74.5 70.9 78.6l8 0.4 469.4 0c40.9 0 74.5-31.1 78.5-70.9l0.4-8.1 0-234.6c0-21.2 17.2-38.4 38.4-38.4 19.1 0 34.9 13.9 37.9 32.1l0.5 6.3 0 234.6c0 82.6-64.3 150.1-145.5 155.4l-10.2 0.4-469.4 0c-82.6 0-150.1-64.3-155.4-145.5l-0.3-10.3 0-469.3c0-82.6 64.3-150.1 145.5-155.4l10.2-0.3 234.7 0z m402-5.3c15 15 15 39.3 0 54.3l-352.9 353c-15 15-39.3 15-54.3 0-15-15-15-39.3 0-54.3l352.9-353c15-15 39.3-15 54.3 0z",className:t,style:n}))},R=function(e){var t=e.className,n=e.style,r=(0,a.A)(e,S);return i.createElement(L,(0,o.A)({},r,{path:"M512 149.3c212.1 0 384 171.9 384 384 0 212.1-171.9 384-384 384-212.1 0-384-171.9-384-384 0-212.1 171.9-384 384-384z m133.3 250.8c-9.4-9.4-24.2-10.4-34.7-2.9l-3.3 2.9-95.3 95.3-95.3-95.3-3.3-2.9c-10.5-7.5-25.2-6.6-34.7 2.9-9.4 9.4-10.4 24.2-2.8 34.6l2.8 3.3 95.3 95.3-95.3 95.3-2.8 3.4c-7.5 10.5-6.6 25.2 2.8 34.6 9.4 9.4 24.2 10.4 34.7 2.8l3.3-2.8 95.3-95.3 95.3 95.3 3.3 2.8c10.5 7.5 25.2 6.6 34.7-2.8 9.4-9.4 10.4-24.2 2.8-34.6l-2.8-3.4-95.3-95.3 95.3-95.3 2.8-3.3c7.5-10.5 6.6-25.2-2.8-34.6z",className:t,style:n}))},L=(0,i.forwardRef)((function(e,t){var n=e.className,r=e.style,l=e.path,s=(0,a.A)(e,C);return i.createElement("svg",(0,o.A)({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:n,style:r},s,{ref:t}),i.createElement("path",{d:l}))})),j=function(e){var t=e.direction,n=e.className;return t===p.BOTTOM?i.createElement(w,{className:s()(f().arrowWrap,n)}):i.createElement(c.A,{className:s()(f().arrowWrap,n)})},M=function(e){var t=e.className,n=e.style,r=(0,a.A)(e,I);return i.createElement(L,(0,o.A)({},r,{path:"M512 117.8c217.8 0 394.2 179 394.2 399.5 0 14.5-0.9 29.1-2.5 44.1l0 0-3 21c-1.3 8.1-2.9 16.3-4.9 25.1l0 0-4.2 16.6c-17.7 64.7-51.1 123.4-96.1 170.5l0 0-11.6 11.5c-67.6 71.4-157.1 129.1-257.3 173.8l0 0-14.6 6.5-14.6-6.5c-100.1-44.7-189.7-102.4-256.1-172.6-56-53.7-95.4-122.9-112.9-198.9l0 0-0.6-2.2c-2.6-11.7-4.7-23.7-6.2-35.3l0 0-1.4-9.5c-1.6-15.1-2.5-29.7-2.4-44.1 0-220.6 176.4-399.6 394.2-399.5z m0 71.6c-178 0-322.6 146.7-322.6 327.9 0 11.7 0.7 23.7 1.9 34.9l0 0 2.8 18.8c1 6.6 2.2 12.8 3.4 18.2l0 0 4.3 17c15.8 57.2 46.7 108.7 90.3 150.6l0 0 14.3 14.5c58.7 57.2 135.1 105.2 220.2 143.2l-14.7-6.8 6.6-2.9c69-32.8 131.6-72.3 183.3-118.7l16.8-15.8 24.9-25.1c40.5-42.5 69.1-95.2 82-151.9l0 0 3.6-17.3 3.2-21.2 1.3-13.6c0.6-8.1 0.9-16.1 1-23.9 0-181.2-144.5-327.9-322.6-327.9z m0 184.4c76.4 0 138.2 61.9 138.2 138.2 0 76.3-61.9 138.2-138.2 138.2-76.3 0-138.2-61.9-138.2-138.2 0-76.4 61.9-138.2 138.2-138.2z m0 71.6c-36.8 0-66.6 29.8-66.6 66.6 0 36.7 29.8 66.6 66.6 66.6 36.8 0 66.6-29.8 66.6-66.6 0-36.8-29.8-66.6-66.6-66.6z",className:t,style:n}))},B=function(e){var t=e.className,n=e.style;return i.createElement("svg",{width:"14px",height:"19px",viewBox:"0 0 14 19",version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:t,style:n},i.createElement("defs",null,i.createElement("linearGradient",{x1:"70.989092%",y1:"100%",x2:"70.989092%",y2:"44.5931753%",id:"linearGradient-1"},i.createElement("stop",{stopColor:"#FB7701",offset:"0%"}),i.createElement("stop",{stopColor:"#DD4F00",offset:"100%"}))),i.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.createElement("g",{transform:"translate(-427.000000, -716.000000)"},i.createElement("g",{transform:"translate(427.000000, 716.000000)"},i.createElement("g",{transform:"translate(6.000000, 6.000000)"},i.createElement("path",{d:"M0,0 L2,0 L2,12 C2,12.5522847 1.55228475,13 1,13 C0.44771525,13 6.76353751e-17,12.5522847 0,12 L0,0 L0,0 Z",fill:"#FB7701"}),i.createElement("path",{d:"M1.99946222,4 L1.99940919,9.92059317 C1.67104658,9.97308035 1.33759343,10 0.999950708,10 C0.662218477,10 0.328678033,9.97306607 0.00023107028,9.92055141 L0.000439200116,4 L1.99946222,4 Z",fill:"url(#linearGradient-1)"})),i.createElement("circle",{fill:"#FB7701",cx:"7",cy:"7",r:"7"}),i.createElement("circle",{fill:"#FFFFFF",cx:"7",cy:"7",r:"2.5"})))))},F=function(e){var t=e.className;return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 1024 1024",className:t},i.createElement("path",{d:"M508.7 41.1c238.1 0 431 194.5 430.9 434.3 0 15.7-0.9 31.6-2.7 48l-3.4 22.8c-1.4 8.8-3.1 17.7-5.2 27l-5 19.7c-19.3 69.3-55.4 132.4-104.1 183.2l-31.2 31.3c-72.1 70-164.2 127.4-266.3 172.7l-13 5.8-38.3-17.4c-100.3-47.3-189.8-106.7-257.6-177.8l-13.8-13.8c-54-56.2-92.1-126.2-109.6-202.5l-3.3-15.2c-1.7-8.7-3.1-17.5-4.3-26.6l-1.4-9.2c-1.8-16.5-2.7-32.3-2.7-48 0-239.8 192.9-434.3 431-434.3z m3.3 292.6c-78.3 0-141.7 63.4-141.7 141.7 0 78.2 63.4 141.7 141.7 141.7 78.3 0 141.7-63.5 141.7-141.7 0-78.3-63.4-141.7-141.7-141.7z",fill:"#fb7701",stroke:"none",strokeWidth:"64"}))},W=function(e){var t=e.className,n=e.style;return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 1024 1024",className:t,style:n},i.createElement("path",{d:"M456.3 45.9c32-13.2 67.6-13.5 99.7-0.7l326.2 129.9c39.4 15.7 64.8 55.9 62.9 99.9l-7.8 189.7c-6.6 160.1-84.5 307.9-210.6 399.9l-111.6 81.3c-64.2 46.7-149.5 46.8-213.7 0.1l-110.3-80.4c-126-91.8-202.8-240.3-207.2-400.4l-5.1-191c-1.2-42.9 23.6-82 61.9-97.8l315.6-130.5z m82.4 118.7c-23.4-9.6-49.3-9.4-72.5 0.5l-229.5 97.9c-27.9 11.9-45.8 41.2-45 73.4l3.7 143.2c3.1 120.1 59 231.4 150.6 300.3l80.3 60.3c46.7 35.1 108.7 35 155.4 0l81.2-61.1c91.7-68.9 148.3-179.8 153.1-299.8l5.7-142.4c1.3-32.9-17.1-63.1-45.8-74.9l-237.2-97.4z m-63.5 69.9c18.1-7.9 38.2-8.1 56.4-0.4l184.5 77.9c22.3 9.4 36.6 33.6 35.6 59.9l-4.4 113.9c-3.7 96.1-47.8 184.8-119.1 239.9l-63.2 48.8c-36.3 28-84.6 28.1-120.8 0l-62.5-48.2c-71.3-55.1-114.7-144.2-117.1-240.2l-2.9-114.6c-0.7-25.7 13.3-49.2 35-58.7l178.5-78.3z",fill:"#0a8800",stroke:"none",strokeWidth:"6204.591715976332"}))}},60043:function(e,t,n){"use strict";n.d(t,{Bx:function(){return g},FC:function(){return p},HQ:function(){return v},In:function(){return r},R$:function(){return a},UE:function(){return s},WB:function(){return f},Zf:function(){return m},dx:function(){return u},f2:function(){return d},mp:function(){return c},uT:function(){return i},up:function(){return l},xv:function(){return o}});var r="1000129",o="0.5.42",a="address_cert",i=300,l=function(e){return e.CloseAddress="CloseAddress",e.OnlyResultAutoFillback="OnlyResultAutoFillback",e}({}),s=function(e){return e[e.SELECT=0]="SELECT",e[e.INPUT=1]="INPUT",e[e.NUMBER=2]="NUMBER",e[e.SPLIT=8]="SPLIT",e[e.REGION1=9]="REGION1",e}({}),c=function(e){return e[e.Personal=100]="Personal",e[e.OrderCheckout=200]="OrderCheckout",e[e.OrderCheckoutWithoutAddress=230]="OrderCheckoutWithoutAddress",e[e.OrderPaypalEditAddress=232]="OrderPaypalEditAddress",e[e.PaymentSuccessModifyPhone=260]="PaymentSuccessModifyPhone",e[e.PaymentSuccess=261]="PaymentSuccess",e[e.OrderDetail=270]="OrderDetail",e[e.OrderList=271]="OrderList",e[e.OrderCancel=272]="OrderCancel",e[e.ReturnApplication=301]="ReturnApplication",e[e.DefaultScene=800]="DefaultScene",e[e.BillingScene=900]="BillingScene",e[e.Scene321=321]="Scene321",e[e.Scene322=322]="Scene322",e[e.Scene401=401]="Scene401",e[e.Scene402=402]="Scene402",e[e.Scene403=403]="Scene403",e[e.Scene451=451]="Scene451",e[e.Scene901=901]="Scene901",e[e.Scene902=902]="Scene902",e}({}),u=function(e){return e.DisplayAll="display_all",e.DisplayCurrentSite="display_current_site",e.DisplayCurrentLocation="display_current_location",e}({}),d=function(e){return e[e.NotChange=0]="NotChange",e[e.Site=1]="Site",e[e.DR=2]="DR",e}({}),p=function(e){return e[e.Personal=0]="Personal",e[e.Order=1]="Order",e[e.OrderCheckout=2]="OrderCheckout",e[e.TaxCode=3]="TaxCode",e[e.AddAddressWithPrefill=4]="AddAddressWithPrefill",e[e.AddAddressWithPartlyPrefill=5]="AddAddressWithPartlyPrefill",e[e.PaymentSuccessTaxCode=6]="PaymentSuccessTaxCode",e}({}),m=function(e){return e[e.Geolocation=0]="Geolocation",e[e.PlacesDetails=1]="PlacesDetails",e[e.LastSaved=2]="LastSaved",e[e.Fullback=3]="Fullback",e}({}),f=function(e){return e[e.Large=17]="Large",e[e.Middle=14]="Middle",e[e.Small=7]="Small",e}({});(m||(m={})).getMapZoom=function(e){switch(e){case m.Geolocation:case m.PlacesDetails:case m.LastSaved:return f.Large;case m.Fullback:default:return f.Small}};var g=function(e){return e[e.Gregorian=0]="Gregorian",e[e.Hijiri=1]="Hijiri",e}({}),v=function(e){return e[e.Normal=1]="Normal",e[e.NewPickUp=2]="NewPickUp",e[e.Express=4]="Express",e}({})},70784:function(e,t,n){"use strict";n.d(t,{T:function(){return m}});n(76918),n(26099),n(38781);var r=n(40955),o=n.n(r),a=n(80754),i=n.n(a),l=n(95178),s=n.n(l),c=n(38454),u=n.n(c),d=n(70344),p=n.n(d);function m(e){return e?o().decrypt(e,i().parse("fN6pccfKFzgyqSRmYei0gs5iq0xxfr22Mjm6ps80KH0="),{mode:u(),padding:p()}).toString(s()):""}},75813:function(e,t,n){"use strict";n.d(t,{SA:function(){return f}});n(79432),n(52675),n(2008),n(83851),n(44114),n(23500),n(81278),n(67945),n(84185);var r=n(74533),o=n(61877),a=n(11286),i=n.n(a),l=(n(26099),n(3362),n(64491)),s=n(84172),c=n(35019);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){return(0,l.Km)()};function m(e){var t=e.url,n=e.params,r=e.config,o=void 0===r?{}:r,a=e.format,i=e.errorHandler,l=p();return o=d({useResponseCamel:!0,useAntiToken:!0},o),l.post(t,n,o).then((function(e){var t=(0,s.wu)(e);return a?a(t,n):t})).catch((function(e){var t=(0,c.n)(e),n=(0,s.wu)(t);return i?i(n):n}))}function f(e){return g.apply(this,arguments)}function g(){return(g=(0,r.A)(i().mark((function e(t){var n,r,o,a,l,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.params,o=t.config,a=void 0===o?{}:o,l=t.format,s=t.errorHandler,e.prev=1,e.abrupt("return",m({url:n,params:r,config:a,format:l,errorHandler:s}));case 5:return e.prev=5,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 8:case"end":return e.stop()}}),e,null,[[1,5]])})))).apply(this,arguments)}},84172:function(e,t,n){"use strict";n.d(t,{Oo:function(){return d},Su:function(){return i},Yq:function(){return p},qi:function(){return l},wu:function(){return c},yp:function(){return s}});var r=n(33746),o=(n(26099),n(23500),n(44114),n(74423),n(33110),n(27495),n(25440),n(39202),n(84864),n(57465),n(87745),n(38781),n(90906),n(71761),n(2892),n(28706),n(34782),["p_search","p_rec"]);function a(e,t,n){if(Array.isArray(t))n=n||[],t.forEach((function(t,o){"object"===(0,r.A)(t)&&null!==t?n.push(a(e,t)):null!==t&&n.push(t)}));else for(var i in n=n||{},t)if(Object.prototype.hasOwnProperty.call(t,i)){if(o.includes(i)){n[e(i)]="string"==typeof t[i]?t[i]:JSON.stringify(t[i]);continue}"object"===(0,r.A)(t[i])&&null!==t[i]?n[e(i)]=a(e,t[i],Array.isArray(t[i])?[]:{}):null!==t[i]&&(n[e(i)]=t[i])}return n}function i(e){return e.replace(/([A-Z])/g,(function(e,t){return"_".concat(t.toLowerCase())}))}function l(e,t){return a(i,e,t)}function s(e){return null==e?void 0:e.replace(/_(\w)/g,(function(e,t){return t.toUpperCase()}))}function c(e,t){return a(s,e,t)}function u(e){return(null==e?void 0:e.length)<=3?e:(null==e?void 0:e.length)<=6?e.replace(/^(.{3})/g,"$1 "):e.length>6?e.replace(/^(\d{3})(\d{3})/g,"$1 $2 ").trimEnd():e}function d(e,t){var n=(e||"").replace(/[^\d]*/g,"");if(!t.length)return u(n);for(var r="",o=0,a=0;a<t.length;a++){var i=t[a],l=i.regex,s=i.formatRule,c=i.firstZeroAsNormal;if(new RegExp(l).test(n)){if(!c){var d=n.match(/^(0+)(\d*)$/);d&&(r=d[1],n=d[2])}for(var p=1;p<s.length;p+=2){var m=Number(s[p-1])+o;if(m>n.length-1)break;n="".concat(n.slice(0,m)," ").concat(n.slice(m)),o=m+1}return!c&&r?n?"".concat(r," ").concat(n):r:n}}return u(n)}function p(e){if(!e)return"";var t=e.replace(/[^\d]*/g,"");return t.length<=4?t:t.length<=6?t.replace(/^(\d{4})/g,"$1/"):t.length>6?t.replace(/^(\d{4})(\d{2})/g,"$1/$2/"):t}},90930:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});n(72712),n(26099);function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}},58453:function(e,t,n){"use strict";n.d(t,{Z:function(){return u},h:function(){return c}});var r=n(74533),o=n(11286),a=n.n(o),i=(n(28706),n(24614)),l=n(38532),s=n(75813);function c(e){var t=e.onComplete,n=e.onCancel,r=e.onClose,o=e.onRegionEqual,a=e.data,s=e.localInfo,c=e.scene,u=e.needSaveContract,d={title:null==a?void 0:a.title,warning:null==a?void 0:a.tip,switchButton:null==a?void 0:a.confirm,stayButton:null==a?void 0:a.cancel,targetRegion:null==a?void 0:a.targetRegion};if(null==s||!s.region||null==a||!a.targetRegion||(null==s?void 0:s.region)===(null==a?void 0:a.targetRegion))return(0,l.mE)({event:"switchRegionError",data:"from: ".concat((null==s?void 0:s.region)||"",", to: ").concat(null==a?void 0:a.targetRegion,", in switchRegionDialog")}),(null==s?void 0:s.region)===(null==a?void 0:a.targetRegion)&&((0,l.mE)({event:"switchToEqualRegion",data:"from: ".concat(s.region,", to: ").concat(a.targetRegion)}),null==o||o()),void(null==r||r());(0,i.L)({disabledSwitchLimit:!0,hiddenTipsPopup:!0,switchScene:c,visitorToken:u?"1":"",localInfo:s,switchInfo:{region:null==a?void 0:a.targetRegion},switchConfirmProps:{textMap:d,scene:"userActive"},onComplete:function(){(0,l.mE)({event:"switchRegionSuccess"}),null==t||t()},onCancel:function(e){(0,l.mE)({event:"switchRegionCancel"}),null==n||n(e)},onClose:function(){(0,l.mE)({event:"switchRegionCancel"}),null==r||r()}}).then((function(){null==r||r()})).catch((function(){null==r||r()}))}function u(e){return d.apply(this,arguments)}function d(){return(d=(0,r.A)(a().mark((function e(t){var n,r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a={to_be_changed_region1:t},(0,s.SA)({url:"/api/bg-origenes/address/region/check",params:a,errorHandler:function(e){return e}});case 2:if(n=e.sent,o=(r=n||{}).success,i=r.result,o){e.next=7;break}return(0,l.mE)({event:"getRegionChangeSceneError"}),e.abrupt("return");case 7:return e.abrupt("return",null==i?void 0:i.status);case 8:case"end":return e.stop()}var a}),e)})))).apply(this,arguments)}},36806:function(e,t,n){"use strict";n.d(t,{IH:function(){return h}});var r=n(74533),o=n(11286),a=n.n(o),i=(n(26099),n(3362),n(28706),n(33110),n(56733)),l=n(94971),s=n(38532),c=n(70784),u=n(75813),d="AIzaSyDhLaj7ObfXGgRdq1JhDQKdQWi0tQBOiCA",p=!1,m=0,f="/api/bg-origenes/poi/maps/api_key",g="/api/bg-origenes/visitor/poi/maps/api_key",v="/api/bg-origenes/no_visitor_token/visitor/poi/maps/api_key";function b(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=t.isGuestMode?(0,l.Ri)("visitor_login_ts")?g:v:f,(0,u.SA)({url:e,params:t,format:function(e){return(null==e?void 0:e.result)||{}},errorHandler:function(e){return e}})}var h=function(){var e=(0,r.A)(a().mark((function e(t){var n,r,o,u,f,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.apiKey,r=t.regionId1,o=t.mapSceneId,u=t.isGuestMode,f=n){e.next=7;break}return e.next=5,b({region_id1:r,maps_scene_id:o,isGuestMode:u});case 5:null!=(g=e.sent)&&g.apiKey?f=(0,c.T)(g.apiKey):(0,s.mE)({event:"useBackupGoogleMapKey"});case 7:return e.abrupt("return",new Promise((function(e,t){if(p)e(f||d);else{var a=i.eg[(0,l.Ri)("region")||"us"],c=(0,l.Ri)("language")||"en",g=document.createElement("script");g.src="//maps.googleapis.com/maps/api/js?key=".concat(f||d,"&region=").concat(a,"&language=").concat(c,"&libraries=places"),g.defer=!0,g.onload=function(){p=!0,e(f||d),(0,s.mE)({event:"googleMapSDKLoadSuccess",data:JSON.stringify({retryCount:m})})},g.onerror=function(){++m<3?h({apiKey:n,regionId1:r,mapSceneId:o,isGuestMode:u}).then((function(){return e(f||d)})).catch(t):(t(),(0,s.mE)({event:"googleMapSDKLoadError",data:JSON.stringify({retryCount:m})}))};var v=document.querySelector("head");null==v||v.appendChild(g)}})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},86063:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(14242),o=n(61877),a=n(6356),i=(n(26099),n(23500),n(42762),n(62062),n(27495),n(25440),n(74423),n(79432),n(52675),n(2008),n(83851),n(44114),n(81278),n(67945),n(84185),n(33514)),l=n(25232),s=n(50453),c=n(34555),u=n(27092),d=n(99650),p=n(40304),m=n(75301),f=n(82370);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=t,b=null==g?void 0:g.name,h=(null==g?void 0:g.attribs)||{};if(["img","emage"].includes(b)){var E,_=h.src||h["data-src"],y=h.height||h["data-height"],A=h.width||h["data-width"];if(!_)return null;var S=null==o||null===(E=o.addStyle)||void 0===E?void 0:E.call(o,t);return i.createElement(f.Ay,{src:_,style:v({width:A,height:y},S),"aria-hidden":!0,alt:""})}if(["urllink"].includes(b)){var C,I,O,N=(null==o||null===(C=o.urllink)||void 0===C?void 0:C.attribs)||{},w=null==o||null===(I=o.addStyle)||void 0===I?void 0:I.call(o,t);return i.createElement("span",{onClick:function(){var e;h.url?s.Ay.uniformForward(h.url,{openTarget:h.target||N.target||"_blank"}):h.biz_scene&&(null===(e=o.onBizSceneClick)||void 0===e||e.call(o,t,h.biz_scene))},style:v({cursor:"pointer"},w),className:null==o||null===(O=o.addClassName)||void 0===O?void 0:O.call(o,t),role:"button",tabIndex:0,"data-aria-enter":"1"},(0,l.zd)(t.children,{replace:function(t){return e(t,o)}}))}if("icon"===b)return null===(n=o.onIconNode)||void 0===n?void 0:n.call(o,t);if("iconfont"===b){var x,k=v({position:"relative",top:2},function(e){var t=e.cssString,n=e.isIconfont,r=void 0===n||n;if(!t)return{};var o={},i=t.split(";");try{i.forEach((function(e){if(""!==e.trim()){var t=e.split(":").map((function(e){return e.trim()})),n=(0,a.A)(t,2),i=n[0],l=n[1];if(i&&l){var s=i.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}));r&&"color"===s&&(s="fill"),o[s]=l}}}))}catch(e){return{}}return o}({cssString:h.style}));return"f60a"===h.value?i.createElement(u.A,{fill:"#FB7701",style:v(v({},k),{},{cursor:"pointer"})}):"e088"===h.value||"e098"===h.value?i.createElement(d.A,(0,r.A)({},h,{style:v(v({},k),{},{cursor:"pointer"})})):"e1cd"===h.value?i.createElement(c.A,(0,r.A)({},h,{style:k})):"e61a"===h.value?i.createElement(p.A,(0,r.A)({},h,{style:k})):"e61b"===h.value?i.createElement(m.A,(0,r.A)({},h,{style:{position:"relative",top:2}})):null===(x=o.onIconFont)||void 0===x?void 0:x.call(o,t,h.value)}return["span","br","p","div","b","s","u","i","br"].includes(null==t?void 0:t.name)?t:null};function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return(0,l.Ay)(e,{replace:function(e){return b(e,t)}})}},74938:function(e,t,n){"use strict";function r(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)})(e)}n.d(t,{A:function(){return r}})},87642:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var r=n(31196),o=!1;function a(e,t){"number"==typeof e&&(o||((0,r.polyfill)(),o=!0),(t||window).scrollTo({top:e,behavior:"smooth"}))}},35019:function(e,t,n){"use strict";n.d(t,{n:function(){return l}});n(79432),n(52675),n(2008),n(26099),n(83851),n(44114),n(23500),n(81278),n(67945),n(84185),n(33746),n(56687);var r=n(61877);n(58940);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=function(e){return 40001===parseInt(e.errorCode,10)||"needLogin"===e.errorMsg||"needLogin"===e.errorCode},l=function(e){var t;if(i(e))throw e;return a(a({isApiError:!0},null==e||null===(t=e.response)||void 0===t?void 0:t.data),{},{isAxiosNetworkError:null==e?void 0:e.isAxiosNetworkError,isAxiosError:e.isAxiosError,axiosErrorMsg:e.message})}},20515:function(e,t,n){"use strict";n.d(t,{AI:function(){return s},Tn:function(){return l},oO:function(){return i}});var r=n(61877),o=(n(26099),n(3362),n(79432),n(52675),n(2008),n(83851),n(44114),n(23500),n(81278),n(67945),n(84185),n(99117));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var i={Impr:"impr",Click:"click",Event:"event"};function l(e,t){return new Promise((function(n){(0,o.OS)(e),t&&t(),n()}))}function s(e,t){(0,o.OS)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({page_el_sn:e,op:"click"},t||{}))}},57402:function(e,t,n){"use strict";n.d(t,{A9:function(){return C},Jm:function(){return E},K4:function(){return _},P5:function(){return b},Zw:function(){return S},bV:function(){return A},bo:function(){return h},bz:function(){return f},dI:function(){return m},eM:function(){return p},g3:function(){return y},mu:function(){return I},sP:function(){return g},wL:function(){return v}});n(52675),n(83851),n(44114),n(81278),n(67945),n(84185),n(34782),n(23418),n(47764),n(89463),n(2259),n(23792),n(62953);var r=n(33746),o=n(61877),a=(n(74533),n(16280),n(76918),n(27495),n(90906),n(42762),n(25440),n(2008),n(26099),n(72712),n(79432),n(33110),n(23500),n(11286),n(68009)),i=n(64423),l=n(20162);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){var n,r,o=t.successToastInfo,s=t.failToastInfo,c=t.onSuccessCb,u=t.onFailCb,d=(0,a.tb)(),p=document.createElement("textarea");p.style.position="fixed",p.style.top="0",p.style.left="0",p.value=e,p.hasAttribute("readonly")||p.setAttribute("readonly",""),document.body.appendChild(p),d.system===i.IJ.IOS?((n=document.createRange()).selectNodeContents(p),(r=window.getSelection())&&(r.removeAllRanges(),r.addRange(n)),p.setSelectionRange(0,999999)):p.select();try{if(!document.execCommand("copy"))throw new Error;c?c():l.A.success(o)}catch(e){u?u():l.A.success(s)}finally{document.body.removeChild(p)}}var m=function(e){return null===e?null:"".concat(e||"")};var f=function(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?null===e?null:"".concat(e||"").trim():e},g=function(e){return(e||"").replace(/\D/g,"")},v=function(e){return(e||"").replace(/[０-９]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-65248)}))},b=function(e){var t=e.list,n=e.suffix,r=void 0===n?", ":n;return t?t.filter((function(e){return e})).join(r):""},h=function(e,t){return(t||{}).needTrim?Object.keys(e).reduce((function(t,n){return d(d({},t),{},(0,o.A)({},n,f(e[n])))}),{}):Object.keys(e).reduce((function(t,n){return d(d({},t),{},(0,o.A)({},n,(r=e[n],/^\s*$/.test(r)?"":r)));var r}),{})},E=function(e,t){try{return JSON.stringify(e)}catch(e){return t||""}};function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.filter((function(e){return e}));return o.length<=1?o[0]:function(e){o.forEach((function(t){return function(e,t){"function"==typeof e?e(t):"object"===(0,r.A)(e)&&e&&"current"in e&&(e.current=t)}(t,e)}))}}function y(e){return e&&"object"===(0,r.A)(e)?Object.keys(e).filter((function(t){return e[t]})):[]}function A(e){return document.querySelector(e)}function S(e){var t=document.querySelectorAll(e);return null!=t&&t.length?t[t.length-1]:null}function C(e){for(var t=e.split(""),n=0,r=t.length-1;n<r;){var o=[t[r],t[n]];t[n]=o[0],t[r]=o[1],n++,r--}return t.join("")}function I(e,t,n){var r,o=s(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(!e[a]&&!t[a])return!0;if(e[a]!==t[a])return!1}}catch(e){o.e(e)}finally{o.f()}return!0}},49225:function(e,t,n){"use strict";var r=n(33514);t.A=function(){(0,r.useEffect)((function(){var e=function(e){var t,n,r=e.target,o=e.key;r&&r instanceof HTMLElement&&("Enter"===o&&"1"===(null===(t=r.dataset)||void 0===t?void 0:t.ariaEnter)&&(e.preventDefault(),e.stopPropagation(),null===(n=r.click)||void 0===n||n.call(r)))};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[])}},64040:function(e,t,n){"use strict";var r=n(33514);t.A=function(){var e=(0,r.useRef)(!0);return e.current?(e.current=!1,!0):e.current}},55637:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(74533),o=n(11286),a=n.n(o),i=n(33514),l=n(87164);function s(e){var t=(0,i.useRef)(!1);return(0,l.w)((0,r.A)(a().mark((function n(){var r,o=arguments;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.current){n.next=2;break}return n.abrupt("return");case 2:return t.current=!0,n.prev=3,n.next=6,e.apply(void 0,o);case 6:return r=n.sent,t.current=!1,n.abrupt("return",r);case 11:throw n.prev=11,n.t0=n.catch(3),t.current=!1,n.t0;case 15:case"end":return n.stop()}}),n,null,[[3,11]])}))))}},8297:function(e,t,n){"use strict";var r=n(33514),o=n(91251);t.A=function(){var e=(0,r.useRef)(!1);return{isLock:e.current,lockSubmit:function(t){e.current=t,t?(0,o.xc)():(0,o.W$)()}}}},66808:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(6356),o=n(33514),a=64;function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,t=(0,o.useState)(!1),n=(0,r.A)(t,2),i=n[0],l=n[1],s=function(e){e.matches?l(!0):l(!1)};return(0,o.useEffect)((function(){var t,n=window.matchMedia("(max-height: ".concat(e+a,"px)"));return null==n||null===(t=n.addEventListener)||void 0===t||t.call(n,"change",s),function(){var e;null==n||null===(e=n.removeEventListener)||void 0===e||e.call(n,"change",s)}}),[e]),{isOverflow:i}}},87164:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});n(28706);var r=n(33514);function o(e){var t=(0,r.useRef)(e);t.current=e;var n=(0,r.useCallback)((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}},49843:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(33514);function o(e){var t=(0,r.useRef)(),n=(0,r.useRef)();return(0,r.useMemo)((function(){return t.current=n.current,n.current=e,t.current}),[e])}},5874:function(e,t,n){"use strict";var r=n(33514),o=n(64040);t.A=function(e,t){var n=(0,o.A)();(0,r.useEffect)((function(){n||e()}),t)}},38532:function(e,t,n){"use strict";n.d(t,{F$:function(){return v},mE:function(){return h},pW:function(){return b}});n(79432),n(52675),n(2008),n(26099),n(83851),n(23500),n(81278),n(67945),n(84185);var r=n(61877),o=n(56687),a=(n(27495),n(71761),n(44114),n(28706),n(34782),n(45820)),i=n(43266),l=n(60043),s=n(57402),c=["event","fields","longFields","data"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={appId:"100616",bizSide:"consumer-platform-fe"},m=!1,f=function(e){var t,n=e||{},r=n.event,i=n.fields,s=void 0===i?{}:i,u=n.longFields,p=void 0===u?{}:u,m=n.data,f=(0,o.A)(n,c);return{groupId:90677,amplifyRate:(0,a.pq)().amplifyRate,tags:{event:r,pageName:null===(t=location.pathname.match(/\/([^/]+?)\.html/))||void 0===t?void 0:t[1],data:m,version:l.xv},fields:d(d({url:location.href,type:"biz"},s),f),longFields:p}},g={},v=function(e){if(e){var t=e.vKey,n=e.data,r=g[t];null!=r&&r.length?g[t].push(n):g[t]=[n]}},b=function(e){var t,n,o,a=g[e];if(null!=a&&a.length)try{var l={event:"addressEditInputChange",data:(0,s.Jm)((0,r.A)({},e,(t=a,n=t.join("**"),o=n.length,o<=3200?n:"".concat(n.slice(0,1600),"...").concat(n.slice(o-1600,o)))))};(0,i.Ez)([f(l)],p),g[e]=[]}catch(e){m}},h=function(e){try{(0,i.Ez)([f(e)],p)}catch(e){m}}},91520:function(e,t,n){"use strict";n.d(t,{I:function(){return o},Q:function(){return r}});var r=function(e){return e[e.AboveTitle=1]="AboveTitle",e[e.UnderTitle=2]="UnderTitle",e[e.AboveInput=3]="AboveInput",e[e.UnderInput=4]="UnderInput",e}({}),o=function(e){return e[e.Select=0]="Select",e[e.Text=1]="Text",e[e.Number=2]="Number",e[e.DatePicker=3]="DatePicker",e[e.WithSubComponent=5]="WithSubComponent",e[e.WithRadio=6]="WithRadio",e[e.WithSplitInput=8]="WithSplitInput",e[e.ReadOnly=10]="ReadOnly",e}({})}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/js/web_address_3894d24939a08a71132c.js.map